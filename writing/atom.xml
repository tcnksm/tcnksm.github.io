<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>SOTA</title>
    <link>http://deeeet.com/index.xml</link>
    <description>Recent content on SOTA</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>ja-jp</language>
    <copyright>Copyright (C) 2013-2015 Taichi Nakashima All Right Reserved.</copyright>
    <lastBuildDate>Thu, 23 Feb 2017 09:20:07 +0900</lastBuildDate>
    <atom:link href="http://deeeet.com/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Golangã®context.Valueã®ä½¿ã„æ–¹</title>
      <link>http://deeeet.com/writing/2017/02/23/go-context-value/</link>
      <pubDate>Thu, 23 Feb 2017 09:20:07 +0900</pubDate>
      
      <guid>http://deeeet.com/writing/2017/02/23/go-context-value/</guid>
      <description>

&lt;p&gt;Go1.7ã§&lt;code&gt;context&lt;/code&gt;ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒæ¨™æº–ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«å…¥ã‚Šã—ã„ã‚ã„ã‚ãªã¨ã“ã‚ã§ä½¿ã‚ã‚Œã‚‹ã‚ˆã†ã«ãªã£ã¦ããŸï¼å…ˆæ—¥ãƒªãƒªãƒ¼ã‚¹ã•ã‚ŒãŸGo1.8ã«ãŠã„ã¦ã‚‚&lt;code&gt;database/sql&lt;/code&gt;ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãªã©ã§&lt;code&gt;context&lt;/code&gt;ã®ã‚µãƒãƒ¼ãƒˆãŒå…¥ã‚‹ãªã©ã¾ã™ã¾ã™é‡è¦ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«ãªã£ã¦ã„ã‚‹ï¼&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://deeeet.com/writing/2016/07/22/context/&#34;&gt;&amp;ldquo;Go1.7ã®contextãƒ‘ãƒƒã‚±ãƒ¼ã‚¸&amp;rdquo;&lt;/a&gt;ã§æ›¸ã„ãŸã‚ˆã†ã«&lt;code&gt;context&lt;/code&gt;ã¯ã€Œï¼ˆgoroutineã®ï¼‰ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã®ãŸã‚ã®ã‚·ã‚°ãƒŠãƒ«ã®å—ã‘æ¸¡ã—ã®æ¨™æº–çš„ãªã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã€ã¨ã—ã¦ä¸»ã«ä½¿ã‚ã‚Œã‚‹ï¼ã‚ã‚‹é–¢æ•°ã‚„ãƒ¡ã‚½ãƒƒãƒ‰ã®ç¬¬1å¼•æ•°ã«&lt;code&gt;context.Context&lt;/code&gt;ãŒæ¸¡ã›ã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã‚Œã°ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã‚’å®Ÿè¡Œã—ãŸã¨ãã«ãã®é–¢æ•°ã¯é©åˆ‡ã«å‡¦ç†ã‚’ä¸­æ–­ã—ãƒªã‚½ãƒ¼ã‚¹ã‚’è§£æ”¾ã™ã‚‹ã“ã¨ã‚’æœŸå¾…ã™ã‚‹ï¼ã“ã‚Œã¯ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ä½œè€…ã¨ãã®åˆ©ç”¨è€…ã¨ã®é–“ã®ã‚ã‚‹ç¨®ã®å¥‘ç´„ã®ã‚ˆã†ã«ãªã£ã¦ã„ã‚‹ï¼ˆãƒ‘ãƒƒã‚±ãƒ¼ã‚¸å´ã§goroutineä½œã‚‹ãªã¨ã„ã†ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚‚ã“ã“ã§åŠ¹ã„ã¦ãã‚‹ï¼‰ï¼&lt;/p&gt;

&lt;p&gt;ã“ã‚Œã ã‘ã§ã¯ãªã&lt;code&gt;context.Context&lt;/code&gt;ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã«ã¯&lt;code&gt;Value&lt;/code&gt;ã¨ã„ã†ãƒ¡ã‚½ãƒƒãƒ‰ã‚‚å®šç¾©ã•ã‚Œã¦ã„ã‚‹ï¼ã“ã‚Œã‚’ä½¿ã†ã¨ä»»æ„ã®å€¤ã‚’å—ã‘æ¸¡ã™ã“ã¨ãŒã§ãã‚‹ï¼ˆcontextã¨è¨€ã‚ã‚Œã‚‹ã¨ã“ã¡ã‚‰ã‚’æƒ³åƒã™ã‚‹äººã‚‚å¤šã„ï¼‰ï¼ã“ã‚Œã¯ä¾¿åˆ©ã ãŒæ³¨æ„ã—ã¦ä½¿ã‚ãªã„ã¨å´©å£Šã™ã‚‹ã®ã§ã©ã†ä½¿ã†ã¹ãã‹ã‚’ã¾ã¨ã‚ã¦ãŠãï¼ˆ&lt;a href=&#34;https://peter.bourgon.org/blog/2016/07/11/context.html&#34;&gt;context&lt;/a&gt;ã‚‚åˆ†ã‹ã‚Šã‚„ã™ã„ï¼‰ï¼&lt;/p&gt;

&lt;h2 id=&#34;ãªãœæ³¨æ„ãŒå¿…è¦ã‹&#34;&gt;ãªãœæ³¨æ„ãŒå¿…è¦ã‹?&lt;/h2&gt;

&lt;p&gt;&lt;code&gt;context.Value&lt;/code&gt;ã®Setã¨Getã¯ä»¥ä¸‹ã®ã‚ˆã†ã«å®šç¾©ã•ã‚Œã¦ã„ã‚‹ï¼&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-golang&#34;&gt;WithValue(parent Context, key, val interface{}) Context
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code class=&#34;language-golang&#34;&gt;Value(key interface{}) interface{}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;WithValue&lt;/code&gt;ã§å€¤ã‚’ã‚»ãƒƒãƒˆã—&lt;code&gt;Value&lt;/code&gt;ã§å€¤ã‚’å–ã‚Šå‡ºã™ï¼æ³¨æ„ã™ã‚‹ã¹ããªã®ã¯å‹ã‚’è¦‹ã‚Œã°ã‚ã‹ã‚‹ã‚ˆã†ã«type-unsafeã§ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã§ãƒã‚§ãƒƒã‚¯ãŒã§ããªã„ã‹ã‚‰ã§ã‚ã‚‹ï¼è¦ã™ã‚‹ã«&lt;code&gt;map[interface{}]interface{}&lt;/code&gt;ã§ã‚ã‚‹ï¼ã¤ã¾ã‚Šé¿ã‘ã‚Œã‚‹ãªã‚‰é¿ã‘ãŸæ–¹ãŒè‰¯ã„ï¼&lt;/p&gt;

&lt;p&gt;ä¾‹ãˆã°ãƒãƒ¼ãƒ ã§APIã‚µãƒ¼ãƒãƒ¼ã‚’é–‹ç™ºã—ã¦ã„ã¦ã‚ã‚‰ã‚†ã‚‹å€¤ãŒæ§˜ã€…ãªHandlerã§ç„¡é˜²å‚™ã«Setã•ã‚ŒãŸã‚ŠGetã•ã‚ŒãŸã‚Šã™ã‚‹ã‚ˆã†ã«ãªã‚‹ã¨å´©å£Šã™ã‚‹ï¼&lt;/p&gt;

&lt;h2 id=&#34;ã©ã®ã‚ˆã†ãªã¨ãã«ä½¿ãˆã‚‹ã‹&#34;&gt;ã©ã®ã‚ˆã†ãªã¨ãã«ä½¿ãˆã‚‹ã‹?&lt;/h2&gt;

&lt;p&gt;ã§ã¯ã©ã®ã‚ˆã†ãªã¨ãã«&lt;code&gt;Value&lt;/code&gt;ã¯æœ‰ç”¨ã«ãªã‚‹ã‹? &lt;strong&gt;ã‚ã‚‹ç‰¹å®šã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚¹ã‚³ãƒ¼ãƒ—å†…ã§é™å®šçš„ãªå€¤&lt;/strong&gt;ã‚’æ¸¡ã™ã®ã«ä¾¿åˆ©ã«ä½¿ãˆã‚‹ï¼ä¾‹ãˆã°ä»¥ä¸‹ã®ã‚ˆã†ãªã‚‚ã®ãŒè€ƒãˆã‚‰ã‚Œã‚‹ï¼&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;ãƒ¦ãƒ¼ã‚¶ID&lt;/li&gt;
&lt;li&gt;èªè¨¼æƒ…å ±ï¼ˆTokenï¼‰&lt;/li&gt;
&lt;li&gt;Distributed Traceã®ID&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;ã©ã®ã‚ˆã†ãªå€¤ã‚’æ¸¡ã™ã¹ãã§-ãªã„-ã‹&#34;&gt;ã©ã®ã‚ˆã†ãªå€¤ã‚’æ¸¡ã™ã¹ãã§*ãªã„*ã‹?&lt;/h2&gt;

&lt;p&gt;ã‚ã‚‹ã„ã¯é©ã—ã¦ã„ãªã„ã‹ï¼ä¾‹ãˆã°ï¼ŒDB Clientã‚„API Clientï¼Œloggerãªã©ã§ã‚ã‚‹ï¼ã“ã‚Œã‚‰ã¯ã‚¹ã‚³ãƒ¼ãƒ—ã«é™å®šçš„ã§ã¯ãªã„ã—ãã‚‚ãã‚‚ãƒ†ã‚¹ãƒˆãŒã—ã«ãããªã‚‹ï¼ã“ã‚Œã‚‰ã¯ã‚µãƒ¼ãƒãƒ¼ãŒä¾å­˜ã¨ã—ã¦æŒã¤ã¹ãã§ã‚ã‚‹ï¼ä»¥ä¸‹ã®ã‚ˆã†ã«middlewareã§æ¸¡ã™ã‹handlerã«æŒãŸã›ã‚‹ï¼ˆã‚¸ãƒ§ãƒ–ãƒ¯ãƒ¼ã‚«ãƒ¼ã‚’æ›¸ã„ã¦ã„ã‚‹å ´åˆã‚‚Structã‚’å®šç¾©ã—ã¦ãã“ã«æ¸¡ã™ã¹ãã§ã‚ã‚‹ï¼‰ï¼&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-golang&#34;&gt;func MyMiddleware(db Database, next http.Handler) http.Handler {
    return http.HandlerFunc(func (w http.ResponseWriter, r *http.Request) {
        // Use db here.
        next.ServeHTTP(w, r)
    })
}
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code class=&#34;language-golang&#34;&gt;type MyHandler struct {
   db Database
}

func (h *MyHandler) ServeHTTP(w http.ResponseWriter, r *http.Request) {...}
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;ä½¿ã„æ–¹&#34;&gt;ä½¿ã„æ–¹&lt;/h2&gt;

&lt;p&gt;&lt;code&gt;context.Value&lt;/code&gt;ã‚’ä½¿ã†ä¸Šã§æ³¨æ„ã™ã‚‹ã®ã¯å€¤ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’åˆ¶é™ã™ã‚‹ï¼Œã¡ã‚ƒã‚“ã¨å‹ã‚’æŒãŸã›ã‚‹ã“ã¨ã§ã‚ã‚‹ï¼ä»¥ä¸‹ã®ã‚„ã‚Šæ–¹ã¯ã©ã¡ã‚‰ã‹ã¨ã„ã†ã¨strictã§ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ä½œè€…å¯„ã‚Šã®ã‚„ã‚Šã‹ãŸã ãŒï¼Œãƒãƒ¼ãƒ ã§ä½•ã‹æ›¸ã„ã¦ã„ã‚‹å ´åˆã§ã‚ã£ã¦ã‚‚ã‚€ã‚„ã¿ã«ã„ã‚ã„ã‚ãªå€¤ãŒSetã•ã‚Œã¦ã‚«ã‚ªã‚¹ã«ãªã‚‹ã‚ˆã‚Šã¯åˆã‚ã‹ã‚‰å³ã—ãã‚„ã‚‹ã®ãŒè‰¯ã„ã¨æ€ã†ï¼&lt;/p&gt;

&lt;p&gt;ã¾ãškeyã¯ä»¥ä¸‹ã®ã‚ˆã†ã«unexportedãªå‹ã‚’ã‚‚ã£ãŸunexportedãª&lt;code&gt;const&lt;/code&gt;ã¨ã—ã¦å®šç¾©ã™ã‚‹ï¼ã“ã†ã—ã¦ãŠã‘ã°æ„å›³ã—ãªã„ã¨ã“ã‚ï¼ˆå°‘ãªãã¨ã‚‚packageå¤–ã§ï¼‰ã§å€¤ãŒSetã•ã‚ŒãŸã‚ŠGetã•ã‚Œã‚‹ã“ã¨ãŒãªããªã‚‹ï¼&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-golang&#34;&gt;type contextKey string

const tokenContextKey contextKey = &amp;quot;key&amp;quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å€¤ã®Setã¨Getã«ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«å°‚ç”¨ã®é–¢æ•°/ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å®šç¾©ã™ã‚‹ï¼ˆã“ã‚Œã‚‰ã¯packageå¤–ã«exportã•ã‚Œã¦ã‚‚è‰¯ã„ï¼‰ï¼å°‘ãªãã¨ã‚‚Getã¯å®šç¾©ã•ã‚Œã¦ã„ã‚‹ã¹ãã§é–¢æ•°å†…ã§type assertionã‚’å®Ÿè¡Œã—å…·ä½“çš„ãªå‹ã¨ã—ã¦å–ã‚Šå‡ºã›ã‚‹ã‚ˆã†ã«ã™ã‚‹ï¼&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-golang&#34;&gt;func SetToken(parents context.Context, t string) context.Context {
    return context.WithValue(parents, tokenContextKey, t)
}
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code class=&#34;language-golang&#34;&gt;func GetToken(ctx context.Context) (string, error) {
    v := ctx.Value(tokenContextKey)

    token, ok := v.(string)
    if !ok {
        return &amp;quot;&amp;quot;, fmt.Errorf(&amp;quot;token not found&amp;quot;)
    }

    return token, nil
}
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>SREã¨ã—ã¦Mercariã«å…¥ç¤¾ã—ãŸ</title>
      <link>http://deeeet.com/writing/2017/02/13/mercari/</link>
      <pubDate>Mon, 13 Feb 2017 09:47:24 +0900</pubDate>
      
      <guid>http://deeeet.com/writing/2017/02/13/mercari/</guid>
      <description>&lt;p&gt;1æœˆ16æ—¥ã‚ˆã‚Š&lt;a href=&#34;https://www.mercari.com/&#34;&gt;Mercari&lt;/a&gt;ã«ã¦SRE/BSEï¼ˆ&lt;a href=&#34;https://www.mercari.com/jp/jobs/backend/&#34;&gt;Backend System Engineer&lt;/a&gt;ï¼‰ã¨ã—ã¦åƒã„ã¦ã‚‹ï¼&lt;/p&gt;

&lt;p&gt;ã“ã‚Œã¾ã§ã¯ã¨ã‚ã‚‹ä¼šç¤¾ã§ç¤¾å†…å‘ã‘ã®PaaSã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã¨ã—ã¦åƒã„ã¦ããŸï¼ˆref. &lt;a href=&#34;http://deeeet.com/writing/2014/11/14/work-as-paas-engineer/&#34;&gt;PaaSã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã«ãªã£ãŸ&lt;/a&gt;ï¼‰ï¼PaaSã®ç›®æ¨™ã§ã‚ã‚‹ã€Œã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³é–‹ç™ºè€…ã®åŠ¹ç‡ã‚’æœ€å¤§åŒ–ã€ã‚’çªãè©°ã‚ãªãŒã‚‰å°‘äººæ•°ã®ãƒãƒ¼ãƒ ã§ã„ã‹ã«Scalableãªãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã‚’æ§‹ç¯‰ã™ã‚‹ã‹ã«æ³¨åŠ›ã—ã¦ããŸï¼&lt;a href=&#34;https://www.cloudfoundry.org/&#34;&gt;Cloud Foundry&lt;/a&gt;ã‚„Dockerã¨ã„ã£ãŸã‚¤ãƒ³ãƒ•ãƒ©ã®æœ€å‰ç·šã¨ã‚‚è¨€ãˆã‚‹æŠ€è¡“ã‚„ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã«è§¦ã‚Œï¼Œã‹ã¤ãã®ä¸­ã§è‡ªåˆ†ã®æŠ€è¡“çš„ãªæŸ±ã§ã‚ã‚‹è‡ªå‹•åŒ–ã«å–ã‚Šçµ„ã‚€ã“ã¨ãŒã§ããŸã®ã¯éå¸¸ã«åˆºæ¿€çš„ã§è‡ªåˆ†ã«å¤§ããªãƒ—ãƒ©ã‚¹ã«ãªã£ãŸï¼&lt;/p&gt;

&lt;p&gt;ãã®ä¸€æ–¹ã§PaaSã¨ã„ã†ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã¯ãã®æ€§è³ªä¸Šã‚µãƒ¼ãƒ“ã‚¹ãã®ã‚‚ã®ã‹ã‚‰ã¯ä¸­ç«‹çš„ã«ãªã‚‹ã“ã¨ãŒé¿ã‘ã‚‰ã‚Œãªã„ï¼ˆã ã‹ã‚‰ã“ãScalabilityã‚’å®Ÿç¾ã§ãã‚‹ã®ã ãŒï¼‰ï¼ã‚ˆã‚Šã‚µãƒ¼ãƒ“ã‚¹ã«è¿‘ã„éƒ¨åˆ†ï¼Œã‚µãƒ¼ãƒ“ã‚¹ã®æˆé•·ã«ç›´çµã™ã‚‹éƒ¨åˆ†ã§é–‹ç™ºãŒã—ãŸã„ï¼Œãã‚Œã‚’æ”¯ãˆã‚‹ã‚¤ãƒ³ãƒ•ãƒ©ã«é–¢ã‚ã‚ŠãŸã„ã¨æ€ã†ã‚ˆã†ã«ãªã£ãŸï¼&lt;/p&gt;

&lt;p&gt;Mercariã¨ã„ã†é¸æŠã¯ï¼Œã‚µãƒ¼ãƒ“ã‚¹ã‚„ãã®å¯èƒ½æ€§/æˆé•·ï¼Œåƒã„ã¦ã„ã‚‹ã²ã¨ï¼Œä½¿ã£ã¦ã„ã‚‹æŠ€è¡“ã¨ã„ã£ãŸè¦–ç‚¹ã‹ã‚‰è¡Œã£ãŸï¼ãŒä¸€ç•ªã®å¤§ããªç†ç”±ã¯æ—¥æœ¬ç™ºã®ã‚µãƒ¼ãƒ“ã‚¹ã¨ã—ã¦ã‚°ãƒ­ãƒ¼ãƒãƒ«ãªå¸‚å ´ã‚’æœ¬æ°—ã§ç²ã‚Šã«è¡Œã£ã¦ã„ã‚‹ã¨ã“ã‚ã ï¼Uberã‚„Airbnbï¼ŒNetflixã‚’è¦‹ã¦ã„ã¦ã‚‚ä»Šå¾ŒWebã‚µãƒ¼ãƒ“ã‚¹ã¯ã‚°ãƒ­ãƒ¼ãƒãƒ«ã§é—˜ãˆã‚‹ã“ã¨ãŒå¿…é ˆã«ãªã‚‹ã ã‚ã†ã—æŠ€è¡“çš„ã«ä¸€ç•ªãƒãƒ£ãƒ¬ãƒ³ã‚¸ãƒ³ã‚°ã‹ã¤é¢ç™½ã„ã‚‚ã®ãã“ã«ã‚ã‚‹ã¨æ€ã†ï¼è‡ªåˆ†ãŒèº«ã«ä»˜ã‘ãŸã„ã¨æ€ã†æŠ€è¡“ã‚‚ãã“ã«ã‚ã‚‹ï¼ˆå®Ÿéš›æ—©ãã‚‚ãã‚Œã«é–¢ã‚ã‚‹ä»•äº‹ãŒã§ããŸï¼‰ï¼&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://landing.google.com/sre/book.html&#34;&gt;Site Reliability Engineering (SRE)&lt;/a&gt;ã¯GoogleãŒæå”±ã—å¤šãã®ä¼æ¥­ã§æ¡ç”¨ã•ã‚Œå§‹ã‚ã¦ã„ã‚‹è·ç¨®ã§ã‚ã‚‹ï¼ãã®åˆæœŸè¡å‹•ã¯ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°çš„ã«ã„ã‹ã«ã‚¤ãƒ³ãƒ•ãƒ©ã‚’è¨­è¨ˆã™ã‚‹ã‹ã«ã‚ã‚Šï¼ŒError Budgedã¨ã„ã†ç¾å®Ÿçš„ãªæŒ‡æ¨™ã‚’ã‚‚ã£ã¦Innovationã®ä¿ƒé€²ã¨Reliabilityã®æ‹…ä¿ã¨ã„ã†ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•ã‚’è§£æ±ºã—ã¦ã„ã‚‹ã¨ã“ã‚ãŒå¤§ããªç‰¹å¾´ã§ã‚ã‚‹ã¨è¨€ãˆã‚‹ï¼ã“ã‚Œã‚‰ã®æ€æƒ³ã‚’ã‚‚ã¨ã«å„ç¤¾ãŒç‹¬è‡ªã®å®Ÿè£…ã‚’ã—ã¦ã„ã‚‹ã®ãŒç¾çŠ¶ã ã¨æ€ã†ï¼&lt;/p&gt;

&lt;p&gt;Mercariã¯æ—©ãã‹ã‚‰ã“ã®SREã¨ã„ã†åå‰ã‚’æ¡ç”¨ã—ã¦ã„ã‚‹ï¼ˆref. &lt;a href=&#34;http://tech.mercari.com/entry/2015/11/18/153421&#34;&gt;ã‚¤ãƒ³ãƒ•ãƒ©ãƒãƒ¼ãƒ æ”¹ã‚ Site Reliability Engineering (SRE) ãƒãƒ¼ãƒ ã«ãªã‚Šã¾ã—ãŸ&lt;/a&gt;ï¼‰ï¼ãƒ¡ãƒ³ãƒãƒ¼ã®å„äººãŒãã‚Œãã‚Œã®å¾—æ„åˆ†é‡ã‚’ã‚‚ã¡Availabilityã‚„Performanceï¼ŒSecurityï¼ŒDeploy Automationã«å–ã‚Šçµ„ã‚“ã§ã‚‹ï¼ã¾ã ãƒãƒ¼ãƒ ã«å…¥ã£ã¦1ãƒ¶æœˆç¨‹åº¦ã ãŒçš†ãŒã©ã‚“ã©ã‚“å•é¡Œã‚’è§£æ±ºã—ã¦ã‚‹ã®ã‚’ã¿ã¦åœ§å€’ã•ã‚Œã¦ã„ã‚‹ï¼è‡ªåˆ†ã«è¶³ã‚Šãªã„éƒ¨åˆ†ã¯å¸åã—ã¤ã¤PaaSã®ä¸–ç•Œã§åŸ¹ã£ã¦ããŸè€ƒãˆæ–¹ã‚„æŠ€è¡“ã§è²¢çŒ®ã—ã¦ã„ããŸã„ã¨æ€ã†ï¼ã¾ãŸè‡ªåˆ†ãªã‚Šã«SREã¨ã¯ä½•ãã‚„ã¨ã„ã†ã‚‚ã®è€ƒãˆè¡Œå‹•ã—ã¦ã„ããŸã„ï¼&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://www.mercari.com/jp/jobs/backend/&#34;&gt;Backend System Engineer (BSE)&lt;/a&gt;ã¨ã„ã†è·ç¨®ã¯Mercariã®SREã®ä¸­ã§ã‚‚ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢é–‹ç™ºã«é‡ç‚¹ã‚’ç½®ã„ã¦ã„ã‚‹è·ç¨®ã§ã‚ã‚‹ï¼é–‹ç™ºè¨€èªã«Golangã‚’ä½¿ã„ã‚¢ãƒ—ãƒªã®PushåŸºç›¤ã‚„API gatewayï¼ŒProxyã‚µãƒ¼ãƒãƒ¼ã¨ã„ã£ãŸãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã‚’é–‹ç™ºã—ã¦ã„ã‚‹ï¼è¿‘å¹´ä¸€ç•ªè‡ªåˆ†ãŒä½¿ã„è¾¼ã‚“ã§ããŸGolangã¨ã„ã†æŠ€è¡“ã‚’ä¸€ç•ªç†æƒ³çš„ãªå½¢ã§ä½¿ãˆã‚‹ã®ã‚‚éå¸¸ã«æ¥½ã—ã¿ã ï¼ˆã¨ã‚Šã‚ãˆãšGo1.8å¯¾å¿œã¯ã—ãŸ&lt;a href=&#34;https://github.com/mercari/gaurun/pull/57&#34;&gt;gaurun#57&lt;/a&gt;ï¼Œ&lt;a href=&#34;https://github.com/mercari/widebullet/pull/10&#34;&gt;widebullet#10&lt;/a&gt;ï¼‰ï¼&lt;/p&gt;

&lt;p&gt;ã“ã‚Œã‹ã‚‰ã‚ˆã‚ã—ããŠé¡˜ã„ã—ã¾ã™ğŸ™‡&lt;/p&gt;

&lt;p&gt;ï¼ˆã¨ã‚Šã‚ãˆãšå¸­ã¯&lt;a href=&#34;https://twitter.com/kazeburo&#34;&gt;@kazeburo&lt;/a&gt;ã•ã‚“ã¨&lt;a href=&#34;https://twitter.com/cubicdaiya&#34;&gt;@bokko&lt;/a&gt;ã•ã‚“ã«æŒŸã¾ã‚Œã¦ã„ã¦ç·Šå¼µæ„ŸãŒã‚ã‚‹&amp;hellip;ï¼ï¼‰&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Writing An Interpreter In Goã‚’èª­ã‚“ã </title>
      <link>http://deeeet.com/writing/2017/01/12/go-interpreter/</link>
      <pubDate>Thu, 12 Jan 2017 17:06:29 +0900</pubDate>
      
      <guid>http://deeeet.com/writing/2017/01/12/go-interpreter/</guid>
      <description>

&lt;p&gt;&lt;a href=&#34;https://twitter.com/thorstenball&#34;&gt;Thorsten Ball&lt;/a&gt;ã«ã‚ˆã‚‹&lt;a href=&#34;https://interpreterbook.com/&#34;&gt;&amp;ldquo;Writing An Interpreter In Go&amp;rdquo;&lt;/a&gt;ã‚’èª­ã‚“ã ï¼&lt;/p&gt;

&lt;p&gt;æŠ€è¡“ç•Œéšˆã®ãƒ–ãƒ­ã‚°ã‚’è¦‹ã¦ã„ã‚‹ã¨ãŸã¾ã«Steve Yeggeã®ã€ŒIf you donâ€™t know how compilers work, then you donâ€™t know how computers workã€ã¨ã„ã†è¨€è‘‰ã«å‡ºä¼šã†ï¼ãã®åº¦ã«å­¦ç”Ÿã®ã¨ãã«ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã®æˆæ¥­ã‚’å—ã‘ãªã‹ã£ãŸã“ã¨å¾Œæ‚”ã—ï¼Œç¤¾ä¼šäººã«ãªã£ã¦æŒ‘æˆ¦ã—ã‚ˆã†ã¨ã—ã¦æŒ«æŠ˜ã—ãŸã“ã¨ã‚’æ€ã„å‡ºã—ã¦æ‚²ã—ã„æ°—æŒã¡ã«ãªã‚‹ï¼&lt;a href=&#34;https://twitter.com/rui314&#34;&gt;@rui314&lt;/a&gt;ã•ã‚“ã®&lt;a href=&#34;http://qiita.com/ruiu/items/4d471216b71ab48d8b74&#34;&gt;Cã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã‚’ã‚¹ã‚¯ãƒ©ãƒƒãƒã‹ã‚‰é–‹ç™ºã—ã¦ã¿ãŸ&lt;/a&gt;ã‚’èª­ã‚“ã§ã¯ã‹ã£ã“ã„ã„ãªã¨æ€ã„ã¤ã¤åƒ•ã«ã¯ç„¡ç†ã ãªã‚ã¨å¿ƒãŒæŠ˜ã‚Œã¦ã„ãŸï¼&lt;/p&gt;

&lt;p&gt;ã©ã®è¨€èªã‚’æ›¸ã„ã¦ã„ã¦ã‚‚ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ï¼ˆã‚‚ã—ãã¯Interpreterï¼‰ã¯åˆ‡ã£ã¦ã‚‚é›¢ã›ãªã„ã‚‚ã®ã§ã‚ã‚Šå†…éƒ¨ã®å‹•ããŒã©ã†ãªã£ã¦ã„ã‚‹ã‹ã‚’çŸ¥ã£ã¦ãŠããŸã„ã¨ã„ã†æ¬²æ±‚ã¯ãƒ—ãƒ­ã‚°ãƒ©ãƒãƒ¼ãªã‚‰èª°ã—ã‚‚ã‚ã‚‹ã¨æ€ã†ï¼ˆå°‘ãªãã¨ã‚‚åƒ•ã«ã¯ã‚ã‚‹ï¼‰ï¼ã§ã¯ä»–ã«ã‚‚å­¦ã¶ã“ã¨ãŒãŸãã•ã‚“ã‚ã‚‹ã¨ã„ã†æ™‚é–“åˆ¶ç´„ã®ä¸­ã§ãƒ™ã‚¹ãƒˆãªå­¦ç¿’ãƒªã‚½ãƒ¼ã‚¹ã¯ä½•ã‹ã¨è¨€ã‚ã‚Œã‚‹ã¨è‡ªåˆ†ã®è¦³æ¸¬ç¯„å›²ã§ã¯ãªã‹ãªã‹è‰¯ã„ã‚‚ã®ã«å‡ºä¼šã†ã“ã¨ã¯ãªã‹ã£ãŸï¼&lt;a href=&#34;https://en.wikipedia.org/wiki/Compilers:_Principles,_Techniques,_and_Tools&#34;&gt;Dragon Book&lt;/a&gt;ã¯é‡ã™ãã‚‹ã—Lispã®å‡¦ç†ç³»ã‚’xè¡Œã®Rubyã§æ›¸ã„ã¦è¦‹ã¾ã—ãŸç³»ãƒ–ãƒ­ã‚°ã¯è»½ã™ãã‚‹ï¼&lt;/p&gt;

&lt;p&gt;æœ¬æ›¸&lt;a href=&#34;https://interpreterbook.com/&#34;&gt;&amp;ldquo;Writing An Interpreter In Go&amp;rdquo;&lt;/a&gt;ã¯ãã®1000ãƒšãƒ¼ã‚¸ã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©æœ¬ã¨å€‹äººãƒ–ãƒ­ã‚°ã®ã‚®ãƒ£ãƒƒãƒ—ã‚’åŸ‹ã‚ã‚‹ãŸã‚ã«æ›¸ã‹ã‚ŒãŸæœ¬ã§ã‚ã‚‹ï¼ç´™ã®æœ¬ã«ã—ãŸ200ãƒšãƒ¼ã‚¸ç¨‹åº¦ã§ã•ã£ã¨èª­ã‚ã‚‹ï¼ãªã‚“ã¡ã‚ƒã£ã¦è¨€èªã‚’å®Ÿè£…ã™ã‚‹ã®ã§ã¯ãªãMonkeyã¨ã„ã†æœ¬æ›¸ã®ãŸã‚ã«ãƒ‡ã‚¶ã‚¤ãƒ³ã•ã‚ŒãŸã‚ã‚‹ç¨‹åº¦ã¾ã¨ã‚‚ãªè¨€èªï¼ˆCè¨€èªã£ã½ã„ï¼‰ã‚’å®Ÿè£…ã™ã‚‹ï¼ã‚¹ã‚¯ãƒ©ãƒƒãƒã‹ã‚‰åˆã‚ã¦Lexerï¼ŒParserï¼Œ Evaluationã‚’å®Ÿè£…ã—ã¦ã„ãï¼ˆHostã«Golangã‚’ä½¿ã†ã®ã§ã‚¢ã‚»ãƒ³ãƒ–ãƒ©ãªã©ã¾ã§ã¯è¸ã¿è¾¼ã¾ãªã„ï¼‰ï¼ãƒ†ã‚¹ãƒˆã¾ã§ã¡ã‚ƒã‚“ã¨æ›¸ãã¨ã ã„ãŸã„2000è¡Œç¨‹åº¦ã§å®Ÿè£…ã§ããŸï¼ˆæ™‚é–“ã«ã™ã‚‹ã¨ã ã„ãŸã„1é€±é–“ç¨‹åº¦ï¼‰ï¼&lt;/p&gt;

&lt;p&gt;æœ¬æ›¸ã®åˆ©ç‚¹ã‚’æŒ™ã’ã‚‹ã¨ï¼Œ&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ãŒGolangã§æ›¸ã‹ã‚Œã¦ã„ã‚‹ï¼ˆã‹ã¤æ¨™æº–ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã¿ãŒä½¿ã‚ã‚Œã¦ã„ã‚‹ï¼‰ï¼Golangã¯ã¨ã«ã‹ãè¨€èªä»•æ§˜ã®ã‚·ãƒ³ãƒ—ãƒ«ã§ã‚ã‚‹ãŸã‚æœ¬æ›¸ã®ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã‚’èª­ã‚€ã®ã¯ã¨ã¦ã‚‚ç°¡å˜ã§ã‚ã‚‹ï¼ã¾ãŸè‡ªåˆ†ã®å¥½ããªè¨€èªã«ç§»æ¤ã™ã‚‹ã®ã‚‚å®¹æ˜“ã§ã‚ã‚‹ã¨æ€ã†ï¼&lt;/li&gt;
&lt;li&gt;ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã‚’å‹•ã‹ã—ãªãŒã‚‰èª­ã¿é€²ã‚ã‚‹ã“ã¨ãŒã§ãã‚‹ï¼æœ€æ–°ã®Golangã®runtimeã§å‹•ã‹ã™ã“ã¨ãŒã§ãã‚‹ã®ã§ç’°å¢ƒã‚’æº–å‚™ã™ã‚‹ã®ã¯ãŸã‚„ã™ã„ï¼Lexerã‚’æ›¸ã‘ã°ã“ã“ã¾ã§ã§ãã¦ï¼ŒParserã‚’æ›¸ã‘ã°ã“ã“ã¾ã§ã§ãã¦&amp;hellip;ã¨èª­ã‚€ã“ã¨ãŒã§ãã¦ç†è§£åº¦ãŒé«˜ã„ï¼&lt;/li&gt;
&lt;li&gt;ãƒ†ã‚¹ãƒˆé§†å‹•ã§æ›¸ã‹ã‚Œã¦ã„ã‚‹ï¼æœ¬æ›¸ã«ç™»å ´ã™ã‚‹ã‚³ãƒ¼ãƒ‰ã¯ã™ã¹ã¦ãƒ†ã‚¹ãƒˆã‚‚ã‚»ãƒƒãƒˆã«ãªã£ã¦ã„ã‚‹ï¼ãƒ†ã‚¹ãƒˆã®ãŠã‹ã’ã§ä½•ã‚’æœŸå¾…ã™ã‚‹ã®ã‹ã‚’ã™ãã«ç†è§£ã™ã‚‹ã“ã¨ãŒã§ããŸï¼ã¾ãŸãƒ†ã‚¹ãƒˆã¯Golangã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã§ã‚ã‚‹&lt;a href=&#34;https://github.com/golang/go/wiki/TableDrivenTests&#34;&gt;Table Driven Tests&lt;/a&gt;ãŒæ¡ç”¨ã•ã‚Œã¦ã„ã‚‹ãŸã‚èª­ã¿ã‚„ã™ã„ï¼ˆãŸã ã—é€”ä¸­ã§ãƒ†ã‚¹ãƒˆã‚‚å†™çµŒã™ã‚‹ã®ã¯ã‚ã‚“ã©ããªã£ãŸ&amp;hellip;ï¼‰&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ã“ã‚Œã‚‰ã®åˆ©ç‚¹ä»¥ä¸Šã«æ„Ÿå‹•ã—ãŸã®ãŒæœ¬æ›¸ã®æ›¸ãæ–¹ã§ã‚ã‚‹ï¼ãã‚‚ãã‚‚ä½œè€…ã¯ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã‚’è·æ¥­ã«ã—ã¦ã„ã‚‹ã²ã¨ã§ã¯ãªã„ï¼å€‹äººçš„ãªpassionã§ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã«ã¤ã„ã¦çŸ¥è­˜ã‚’æ·±ã‚ã¦ããŸã²ã¨ã§ã‚ã‚‹ï¼ˆè©³ã—ãã¯ä½œè€…ãŒå‡ºæ¼”ã—ãŸ&lt;a href=&#34;https://changelog.com/gotime/28&#34;&gt;Go time #28&lt;/a&gt; ã‚’å‚è€ƒï¼‰ï¼ãã®ãŸã‚ã«å‰æãŒã¨ã¦ã‚‚å„ªã—ã„ï¼åƒ•ã®ã‚ˆã†ãªã‚´ãƒªã‚´ãƒªã®CSå‡ºèº«ã§ã¯ãªã„ãƒ—ãƒ­ã‚°ãƒ©ãƒãŒç–‘å•ã«æ€ã†ã“ã¨ã‚’ä¸€ã¤ä¸€ã¤ã¡ã‚ƒã‚“ã¨æ‹¾ã£ã¦ãã‚Œã‚‹ï¼ˆæ›¸ãæ–¹ã‚‚æŸ”ã‚‰ã‹ãã¦ã€Œã“ã‚Œç–‘å•ã«æ€ã£ãŸã£ã—ã‚‡ï¼Ÿæ¬¡ã«ã¡ã‚ƒã‚“ã¨èª¬æ˜ã™ã‚‹ã‹ã‚‰ï¼ã€çš„ã«æ›¸ã‹ã‚Œã¦ã„ã¦è‰¯ã„ï¼‰ï¼&lt;/p&gt;

&lt;p&gt;è¡¨å±¤çš„ãªéƒ¨åˆ†ã ã‘ã§ãªãã¦å†…å®¹ã«å°‘ã—è§¦ã‚Œã¦ãŠãã¨ï¼Œæœ¬æ›¸ã§ä¸€ç•ªé¢ç™½ã‹ã£ãŸãƒ»æ„Ÿå‹•ã—ãŸã®ã¯Parserã®å®Ÿè£…ã§ã‚ã‚‹ï¼Paserã¯å®Ÿè£…ã™ã‚‹ã®ã§ã¯ãªãyaccã‚„bisonãªã©ã®Parser generatorã‚’ä½¿ã†ã®ãŒä¸€èˆ¬çš„ã‚‰ã—ã„ãŒæœ¬æ›¸ã§ã¯ãã‚Œã‚‰ã®ãƒ„ãƒ¼ãƒ«ã‚’ä½¿ã‚ãªã„ï¼ã™ã¹ã¦è‡ªåˆ†ã§1ã‹ã‚‰å®Ÿè£…ã™ã‚‹ï¼ç‰¹ã«Expressionã‚’Parseã™ã‚‹ãŸã‚ã®&lt;a href=&#34;http://javascript.crockford.com/tdop/tdop.html&#34;&gt;Pratt parser&lt;/a&gt;ï¼ˆJSLintã§ä½¿ã‚ã‚Œã¦ã„ã‚‹ï¼‰ã¯ä»–ã®Parserã‚’çŸ¥ã‚‰ãªã„ãŸã‚æ¯”è¼ƒã¯ã§ããªã„ãŒã¨ã«ã‹ãã‚·ãƒ³ãƒ—ãƒ«ã§æ„Ÿå‹•ã—ãŸï¼ˆãƒ‡ãƒãƒƒã‚°ã¨ã‹ã—ã‚“ã©ã„ã—Paser generatorä½¿ã‚ãªãã¦ã‚‚ã‚·ãƒ³ãƒ—ãƒ«ã«ã§ãã‚‹ã‚ˆã¨ã„ã†è©±ã‚‚ã‚ã‚‹&lt;a href=&#34;https://blog.gopheracademy.com/advent-2014/parsers-lexers/&#34;&gt;Handwritten Parsers &amp;amp; Lexers in Go&lt;/a&gt;ï¼å®Ÿéš›è‡ªåˆ†ã§æ›¸ã„ãŸã‚ŠGolangã®å®Ÿè£…ã‚’è¦—ã„ãŸã‚Šã—ã¦ã¿ã‚‹ã¨ã‚·ãƒ³ãƒ—ãƒ«ãªã‚‚ã®ãªã‚‰è‡ªåˆ†ã§æ›¸ã„ã¦ã‚‚è‰¯ã„ã®ã§ã¯?ã¨ã„ã†æ°—æŒã¡ã«ã¯ãªã£ãŸï¼‰ï¼&lt;/p&gt;

&lt;p&gt;ã‚ã¨Golangã‚’æ›¸ã„ã¦ã„ã‚‹ã²ã¨ã«ã‚ªã‚¹ã‚¹ãƒ¡ãªã®ã¯Golangã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©å®Ÿè£…ã§ã‚ã‚‹&lt;a href=&#34;https://golang.org/pkg/go/&#34;&gt;https://golang.org/pkg/go/&lt;/a&gt;ã¨åˆã‚ã›ã¦èª­ã‚€ã“ã¨ï¼åå‰ã®ã¤ã‘æ–¹ãŒä¼¼ã¦ã‚‹ã®ã§æ¯”è¼ƒã—ãªãŒã‚‰ã‚³ãƒ¼ãƒ‰ã‚’è¿½ã†ã“ã¨ãŒã§ãã¨ã¦ã‚‚å‹‰å¼·ã«ãªã‚‹ï¼&lt;/p&gt;

&lt;h2 id=&#34;ã¾ã¨ã‚&#34;&gt;ã¾ã¨ã‚&lt;/h2&gt;

&lt;p&gt;ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã®ã“ã¨ãŒã‚ã‹ã£ãŸã®ã‹ã¨è¨€ã‚ã‚Œã‚‹ã¨ã¾ã ã¾ã è‡ªä¿¡ã‚’æŒã£ã¦Yesã¨ã¯ç­”ãˆã‚‰ã‚Œãªã„ï¼ãŒå…¨ãçŸ¥ã‚‰ãªã„ã¨ã„ã†çŠ¶æ³ã¯æŠœã‘å‡ºã—ãŸã¨æ€ã†ï¼å‰ã‚ˆã‚Šã‚‚æã‚ŒãŒãªããªã£ãŸã¨ã„ã†ã‹èº«è¿‘ã«æ„Ÿã˜ã¦ã„ã‚‹ï¼ã“ã‚Œã‚’å…¥ã‚Šå£ã«ã—ã¦ã•ã‚‰ã«å°‚é–€çš„ãªæœ¬ã‚’èª­ã‚“ã§ã¿ã‚ˆã†ã¨ã„ã†æ„æ¬²ã‚‚æ¹§ã„ã¦ã„ã‚‹ï¼ã¨ã«ã‹ãèª­ã‚“ã§ã‚ˆã‹ã£ãŸï¼&lt;/p&gt;

&lt;p&gt;å°‘ã—ã§ã‚‚ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã«èˆˆå‘³ãŒã‚ã‚Šå…¥ã‚Šå£ãŒè¦‹ã¤ã‘ã‚‰ã‚Œãªã„äººã¯æ˜¯éæ‰‹ã«ã¨ã‚‹ã¨è‰¯ã„ã¨æ€ã†ï¼ã‚ªã‚¹ã‚¹ãƒ¡ã§ã™ï¼&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>2016å¹´æŒ¯ã‚Šè¿”ã‚Š</title>
      <link>http://deeeet.com/writing/2016/12/31/2016/</link>
      <pubDate>Sat, 31 Dec 2016 13:16:08 +0900</pubDate>
      
      <guid>http://deeeet.com/writing/2016/12/31/2016/</guid>
      <description>

&lt;p&gt;æœ€åˆã«ä»Šå¹´ã‚„ã£ãŸã“ã¨ãªã©ã‚’ã¤ã‚‰ã¤ã‚‰ã¨æ›¸ã„ã¦ã¿ã‚‹ï¼&lt;/p&gt;

&lt;p&gt;2æœˆï¼Dave CheneyãŒä¸­å¿ƒã¨ãªã‚ŠGo1.6ã®Release PartyãŒä¸–ç•Œå„åœ°ã§é–‹å‚¬ã•ã‚Œã‚‹ã“ã¨ã«ãªã£ãŸï¼ˆ&lt;a href=&#34;https://github.com/golang/go/wiki/Go-1.6-release-party&#34;&gt;Go 1.6 release party&lt;/a&gt;ï¼‰ï¼æ±äº¬ã§ã‚‚ã‚„ã‚ŠãŸã‹ã£ãŸã®ã§Organizerã¨ãªã‚ŠHatenaã®ã‚ªãƒ•ã‚£ã‚¹ã‚’å€Ÿã‚Šã¦&lt;a href=&#34;https://gocon.connpass.com/event/26572/&#34;&gt;é–‹å‚¬ã—ãŸ&lt;/a&gt;ï¼8æœˆã®Go1.7ã®ãƒªãƒªãƒ¼ã‚¹æ™‚ã¯ç‰¹ã«ä¸–ç•Œè¦æ¨¡ã§ã‚„ã‚‹æµã‚Œã¯ãªã‹ã£ãŸãŒãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã ã‘ã¯å€Ÿã‚Šã¦å†ã³Hatenaã®ã‚ªãƒ•ã‚£ã‚¹ã§&lt;a href=&#34;https://gocon.connpass.com/event/37332/&#34;&gt;é–‹å‚¬ã—ãŸ&lt;/a&gt;ï¼ã“ã®æ™‚&lt;a href=&#34;http://go-talks.appspot.com/github.com/tcnksm/talks/2016/08/go1.7/go1.7.slide#1&#34;&gt;ãƒªãƒªãƒ¼ã‚¹ã®æ¦‚è¦ã‚’ã¾ã¨ã‚ãŸã‚¹ãƒ©ã‚¤ãƒ‰&lt;/a&gt;ã‚’ä½œã£ãŸãŒ&lt;a href=&#34;https://twitter.com/bradfitz&#34;&gt;@bradfitz&lt;/a&gt;ãŒãã‚Œã‚’æ”¹å¤‰ã—ã¦&lt;a href=&#34;https://www.youtube.com/watch?v=8cQcPnzfkLk&#34;&gt;åˆ¥ã®Meetupã®ç™ºè¡¨è³‡æ–™ã«ä½¿ã£ã¦ãã‚ŒãŸ&lt;/a&gt;å¬‰ã—ã‹ã£ãŸï¼2017å¹´2æœˆã«ãƒªãƒªãƒ¼ã‚¹äºˆå®šã®Go1.8ã®ãƒªãƒªãƒ¼ã‚¹æ™‚ã¯å†ã³ä¸–ç•Œè¦æ¨¡ã§ã‚„ã‚‹ã‹ã£ã¦ã®ã‚’Daveã¨è©±ã—ãŸã®ã§ãœã²å‚åŠ ã—ã¦ãã ã•ã„ï¼&lt;/p&gt;

&lt;p&gt;5æœˆï¼&lt;a href=&#34;https://www.amazon.co.jp/dp/477418392X&#34;&gt;ã¿ã‚“ãªã®Goè¨€èª&lt;/a&gt;ã®åŸ·ç­†ã‚’ä¸»ã«è¡Œã£ã¦ã„ãŸï¼è‡ªåˆ†ã¯ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ãƒ„ãƒ¼ãƒ«ã«é–¢ã™ã‚‹ç« ã‚’æ‹…å½“ã—ãŸï¼ä»Šã¾ã§ç™ºè¡¨ã‚„ãƒ–ãƒ­ã‚°è¨˜äº‹ã®é›†å¤§æˆçš„ã«æ›¸ã‘ãŸã®ã§è‰¯ã‹ã£ãŸï¼ï¼ˆæ‘ä¸Šæ˜¥æ¨¹ã®æ‰‹æ³•ã‚’çœŸä¼¼ã¦ï¼‰æœ5æ™‚ã«èµ·ãã¦åˆå‰ä¸­ã®ã¿/æ±ºã‚ã‚‰ã‚ŒãŸåˆ†é‡ã®ã¿ã«é›†ä¸­ã™ã‚‹ã¨ã„ã†æ–¹æ³•ã§æ›¸ãé€²ã‚ãŸãŒã†ã¾ãã„ã£ãŸæ°—ãŒã™ã‚‹ï¼9æœˆã«è²©å£²ã—ãŸãŒæ¦‚ã­é«˜è©•ä¾¡ã§ã¨ã¦ã‚‚å¬‰ã—ã„ï¼ˆãƒ–ãƒ­ã‚°ãªã©ã¯åŸºæœ¬è¦‹ã¤ã‘ãŸã‚‚ã®ã¯ç›®ã‚’é€šã—ã¦ã¾ã™ï¼ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ï¼‰ï¼æ—¥æœ¬èªã ã‘ã©Daveã‚„Go teamã®&lt;a href=&#34;https://twitter.com/rakyll&#34;&gt;@rakyll&lt;/a&gt;ã«ã‚‚&lt;a href=&#34;https://twitter.com/rakyll/status/776227124642353152&#34;&gt;æ‰‹ã«å–ã£ã¦ã‚‚ã‚‰ãˆãŸ&lt;/a&gt;ï¼&lt;/p&gt;

&lt;p&gt;6æœˆï¼ãƒ‰ã‚¤ãƒ„ã®Bambergã«ã‚ã‚‹æ”¯ç¤¾ã§2é€±é–“ã»ã©åƒã„ãŸï¼æœ¬ç¤¾ã®ãƒ¡ã‚¤ãƒ³ãƒãƒ¼ãƒ ã¨é›¢ã‚Œã¦ãƒªãƒ¢ãƒ¼ãƒˆå´ã«ãªã£ãŸæ™‚ã®&lt;a href=&#34;https://twitter.com/deeeet/status/743747017340444672&#34;&gt;å•é¡Œ&lt;/a&gt;ã‚’èº«ã«ã—ã¿ã¦æ„Ÿã˜ãŸï¼Bambergã¯ã‹ãªã‚Šç”°èˆã§ã¿ãªãŒã‚†ã£ãã‚Šã¨ç”Ÿæ´»ã—ã¦ã„ãŸï¼åŒåƒšã¨ã²ãŸã™ã‚‰ãƒ“ãƒ¼ãƒ«ã‚’é£²ã‚“ã§ã„ãŸï¼Berlinã‚‚ä¼‘æ—¥ã‚’ä½¿ã£ã¦è¨ªå•ã—ãŸãŒç”ºä¸­ã‹ã‚‰ã‚¨ãƒãƒ«ã‚®ãƒ¼ã‚’æ„Ÿã˜ã¦è‰¯ã„è¡—ã ã£ãŸï¼ã„ã¤ã‹ä½ã‚“ã§ã¿ãŸã„ï¼&lt;/p&gt;

&lt;p&gt;7æœˆï¼Devenverã§é–‹å‚¬ã•ã‚ŒãŸGopherConã«å‚åŠ ã—ãŸï¼æœ‰åãªï¼ˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ï¼‰é–‹ç™ºè€…ãŒæ™®é€šã«ã†ã‚ã†ã‚ã—ã¦ã„ã‚‹çŠ¶æ³ã§ã¨ã¦ã‚‚åˆºæ¿€çš„ã ã£ãŸï¼è‡ªåˆ†ã‚‚LTã®èˆå°ã§ç™ºè¡¨ã—ãŸï¼ˆè©³ã—ãã¯&lt;a href=&#34;http://deeeet.com/writing/2016/07/12/gophercon2016-lt/&#34;&gt;GopherCon 2016ã§LTã—ãŸ&lt;/a&gt;ã«æ›¸ã„ãŸï¼&lt;a href=&#34;https://www.youtube.com/watch?v=PaVyMSgWUmk&amp;amp;t=1s&amp;amp;index=15&amp;amp;list=PL2ntRZ1ySWBfdNd2SHwX2eMyFWKW_zfAq&#34;&gt;å‹•ç”»ã‚‚ã‚ã‚‹&lt;/a&gt;ï¼‰ï¼æ¬¡ã¯é€šå¸¸ã‚»ãƒƒã‚·ãƒ§ãƒ³ã§å‚åŠ ã—ãŸã„ï¼&lt;/p&gt;

&lt;p&gt;12æœˆï¼golang.tokyoã§&lt;a href=&#34;https://talks.godoc.org/github.com/tcnksm/talks/2016/12/golang-tokyo/golang-tokyo.slide#1&#34;&gt;ãƒ†ã‚¹ãƒˆã—ã‚„ã™ã„Goã‚³ãƒ¼ãƒ‰ã®ãƒ‡ã‚¶ã‚¤ãƒ³&lt;/a&gt;ã¨ã„ã†ç™ºè¡¨ã‚’ã—ãŸï¼è‡ªåˆ†ãŒä»Šã®ãƒãƒ¼ãƒ ã§ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ãæ™‚ã«/ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’ã™ã‚‹ã¨ãã«æ„è­˜ã—ã¦ããŸã“ã¨ã‚’ã¾ã¨ã‚ã¦ç™ºè¡¨ã™ã‚‹è‰¯ã„æ©Ÿä¼šã ã£ãŸï¼ã“ã¡ã‚‰ã‚‚è‰¯ã„ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’ã‚‚ã‚‰ãˆãŸã®ã§å¬‰ã—ã‹ã£ãŸï¼&lt;/p&gt;

&lt;p&gt;ãã—ã¦12æœˆ31æ—¥ã‚’ã‚‚ã£ã¦Rakutenã‚’é€€è·ã—ãŸï¼æ–°å¤©åœ°ã§ã‚‚å¼•ãç¶šãã‚„ã£ã¦ã„ãã¾ã™ï¼&lt;/p&gt;

&lt;h2 id=&#34;æ›¸ã„ãŸè¨˜äº‹&#34;&gt;æ›¸ã„ãŸè¨˜äº‹&lt;/h2&gt;

&lt;p&gt;ä»Šå¹´ã¯ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆã‚ˆã‚Šã‚‚ã‚¤ãƒ³ãƒ—ãƒƒãƒˆã‚’é‡è¦–ã—ãŸãŸã‚å»å¹´ã®åŠåˆ†ã®14æœ¬ã ã£ãŸï¼å¹´é–“PVã¯&lt;strong&gt;229,231&lt;/strong&gt; viewsã ã£ãŸï¼ç‰¹ã«èª­ã¾ã‚ŒãŸã®ã¯ä»¥ä¸‹ã®è¨˜äº‹ï¼é †ç•ªã¯PVé †ï¼&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;a href=&#34;http://deeeet.com/writing/2016/04/25/go-pkg-errors/&#34;&gt;Golangã®ã‚¨ãƒ©ãƒ¼å‡¦ç†ã¨pkg/errors&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://deeeet.com/writing/2016/05/08/gogc-2016/&#34;&gt;Golangã®GCã‚’è¿½ã†&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://deeeet.com/writing/2016/11/01/go-api-client/&#34;&gt;Golangã§API Clientã‚’å®Ÿè£…ã™ã‚‹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://deeeet.com/writing/2016/07/22/context/&#34;&gt;Go1.7ã®contextãƒ‘ãƒƒã‚±ãƒ¼ã‚¸&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://deeeet.com/writing/2016/10/25/go-interface-testing/&#34;&gt;Golangã«ãŠã‘ã‚‹interfaceã‚’ã¤ã‹ã£ãŸãƒ†ã‚¹ãƒˆæŠ€æ³•&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;è‹±èªã§æ›¸ã„ãŸè¨˜äº‹ã¯&lt;a href=&#34;https://medium.com/@deeeet/trancing-http-request-latency-in-golang-65b2463f548c#.hhiryhd62&#34;&gt;Tracing HTTP request latency in golang&lt;/a&gt;ãŒå¤šãèª­ã¾ã‚ŒãŸï¼&lt;/p&gt;

&lt;p&gt;æ¥å¹´ã‚‚å¼•ãç¶šãã‚¤ãƒ³ãƒ—ãƒƒãƒˆé‡è¦–ã®äºˆå®šãªã®ã§ä»Šå¹´åŒæ§˜ã«æœˆ1æœ¬ç¨‹åº¦æ›¸ã‘ã‚‹ã¨è‰¯ã„ï¼&lt;/p&gt;

&lt;h2 id=&#34;å…¬é–‹ã—ãŸoss&#34;&gt;å…¬é–‹ã—ãŸOSS&lt;/h2&gt;

&lt;p&gt;OSSã¨ã—ã¦ã¯ä»¥ä¸‹ã‚’æ›¸ã„ãŸï¼&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/tcnksm/gotests&#34;&gt;https://github.com/tcnksm/gotests&lt;/a&gt; (â˜…254)&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/tcnksm/go-input&#34;&gt;https://github.com/tcnksm/go-input&lt;/a&gt; (â˜…147)&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/tcnksm/go-httpstat&#34;&gt;https://github.com/tcnksm/go-httpstat&lt;/a&gt; (â˜…115)&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/tcnksm/dutyme&#34;&gt;https://github.com/tcnksm/dutyme&lt;/a&gt; (â˜…17)&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/tcnksm/go-irkit&#34;&gt;https://github.com/tcnksm/go-irkit&lt;/a&gt; (â˜…6)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ä¸Šã®3ã¤ã¯&lt;a href=&#34;http://golangweekly.com/&#34;&gt;Go Newsletter&lt;/a&gt;ã§ã‚‚å–ã‚Šä¸Šã’ã¦ã‚‚ã‚‰ãˆãŸï¼&lt;/p&gt;

&lt;h2 id=&#34;è‰¯ã‹ã£ãŸè¨˜äº‹&#34;&gt;è‰¯ã‹ã£ãŸè¨˜äº‹&lt;/h2&gt;

&lt;p&gt;è‰¯ã„ã¨æ€ã£ãŸè¨˜äº‹ã‚„ç™ºè¡¨ã¯ãƒ–ã‚¯ãƒã§è¨˜éŒ²ã—ã¦ã‚‹ãŒä»Šå¹´ã¯1000ã»ã©ã‚ã£ãŸï¼ãã®ä¸­ã§ã‚‚ç‰¹ã«å°è±¡ã«æ®‹ã£ãŸã®ã¯ä»¥ä¸‹ï¼ˆGolangã«é–¢ã—ã¦ã¯å¤šã‹ã£ãŸã®ã§åˆ¥é€”ã¾ã¨ã‚ãŸ &lt;a href=&#34;http://qiita.com/deeeet/items/abf95bca835b1af146dd&#34;&gt;è‰¯ã‹ã£ãŸGolangã®è¨˜äº‹/ç™ºè¡¨ï¼ˆ2016å¹´ï¼‰&lt;/a&gt;ï¼‰ï¼&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.joyent.com/blog/unikernels-are-unfit-for-production&#34;&gt;Unikernels are unfit for production - Blog - Joyent&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://techblog.netflix.com/2016/02/evolution-of-netflix-data-pipeline.html&#34;&gt;The Netflix Tech Blog: Evolution of the Netflix Data Pipeline&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://yosuke-furukawa.hatenablog.com/entry/2016/03/27/152500&#34;&gt;JavaScriptã®æ–‡åŒ–ã¨leftpadã®è©±ã¨padStartã«ã¤ã„ã¦ - from scratch&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://medium.com/the-mission/your-life-is-tetris-stop-playing-it-like-chess-4baac6b2750d#.kotsna4zo&#34;&gt;Your Life Is Tetris. Stop Playing It Like Chess. â€“ The Mission â€“ Medium&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://yunazuno.hatenablog.com/entry/2016/02/29/090001&#34;&gt;ãƒ­ãƒ¼ãƒ‰ãƒãƒ©ãƒ³ã‚µã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã„ã‚ã„ã‚ - yunazuno.log&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.cloudflare.com/cloudflares-impact-on-the-http-2-universe/&#34;&gt;CloudFlareâ€™s Impact On The HTTP/2 â€œUniverseâ€&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.mikeperham.com/2016/02/09/kill-your-dependencies/&#34;&gt;Kill Your Dependencies&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.allthingsdistributed.com/2016/03/10-lessons-from-10-years-of-aws.html&#34;&gt;10 Lessons from 10 Years of Amazon Web Services - All Things Distributed&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://cloudplatform.googleblog.com/2016/04/lessons-from-a-Google-App-Engine-SRE-on-how-to-serve-over-100-billion-requests-per-day.html&#34;&gt;Google Cloud Platform Blog: Lessons from a Google App Engine SRE on how to serve over 100 billion requests per day&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://mizzy.org/blog/2016/04/22/1/&#34;&gt;Infrastructure as Code å†è€ƒ - Gosuke Miyashita&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://engineering.instagram.com/continuous-deployment-at-instagram-1e18548f01d1#.159uroj58&#34;&gt;Continuous Deployment at Instagram&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://lowreal.net/2016/04/13/2&#34;&gt;ç­‹ã®æ‚ªã• | Wed, Apr 13. 2016 - æ°¾æ¿«åŸ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.posteriorscience.net/?p=206&#34;&gt;Programming by poking: why MIT stopped teaching SICP | posterior science&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://blog.yuuk.io/entry/google-linux-distribution-live-upgrade&#34;&gt;GoogleãŒæ•°åƒå°ã‚‚ã‚ã‚‹10å¹´å‰ã®Linuxãƒ‡ã‚£ã‚¹ãƒˆãƒªã‚’ãƒ©ã‚¤ãƒ–ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã—ãŸè©± - ã‚†ã†ã†ããƒ–ãƒ­ã‚°&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://code.facebook.com/posts/218678814984400/scaling-mercurial-at-facebook/&#34;&gt;Scaling Mercurial at Facebook | Engineering Blog | Facebook Code | Facebook&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://journal.stuffwithstuff.com/2016/06/16/long-names-are-long/&#34;&gt;Long Names Are Long â€“ journal.stuffwithstuff.com&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://speakerdeck.com/jvns/learning-systems-programming-with-rust&#34;&gt;Learning systems programming with Rust by Julia Evans&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.facebook.com/notes/kent-beck/mastering-programming/1184427814923414/&#34;&gt;Mastering Programming by Kent Beck&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://jvns.ca/blog/2016/10/26/running-container-without-docker/&#34;&gt;Running containers without Docker&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://stripe.com/blog/service-discovery-at-stripe&#34;&gt;Service discovery at Stripe&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://lucumr.pocoo.org/2016/11/5/be-careful-about-what-you-dislike/&#34;&gt;Be Careful About What You Dislike | Armin Ronacher&amp;rsquo;s Thoughts and Writings&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://medium.com/@adriaandejonge/moving-from-docker-to-rkt-310dc9aec938#.awtsfebd3&#34;&gt;Moving from Docker to rkt â€” Medium&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://cloudplatform.googleblog.com/2016/09/bringing-Pokemon-GO-to-life-on-Google-Cloud.html&#34;&gt;Google Cloud Platform Blog: Bringing PokÃ©mon GO to life on Google Cloud&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://medium.com/@voluntas/http-api-%E3%81%AE%E8%A8%AD%E8%A8%88%E6%96%B9%E5%90%91-7ccaca671d9d#.7tj2xw7es&#34;&gt;HTTP API ã®è¨­è¨ˆæ–¹å‘ â€“ Medium&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.cockroachlabs.com/blog/cockroachdb-stability-from-1-node-to-100-nodes/&#34;&gt;CockroachDB Stability Post-Mortem: From 1 Node to 100 Nodes&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://docker-saigon.github.io/post/Docker-Internals/&#34;&gt;Docker Internals &amp;ndash; Docker Saigon&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.lucas-nussbaum.net/blog/?p=916&#34;&gt;The Linux 2.5, Ruby 1.9 and Python 3 release management anti-pattern | Lucas Nussbaumâ€™s Blog&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://bellflower.dodgson.org/%E4%B8%8D%E7%A2%BA%E5%AE%9F%E3%81%95%E3%82%92%E5%8F%97%E3%81%91%E5%85%A5%E3%82%8C%E3%82%8B-a17y-1-2640c529bc61#.yxpcp380g&#34;&gt;ä¸ç¢ºå®Ÿã•ã‚’å—ã‘å…¥ã‚Œã‚‹ â€” A17Y (1) â€“ To Phantasien&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;è‰¯ã‹ã£ãŸæœ¬&#34;&gt;è‰¯ã‹ã£ãŸæœ¬&lt;/h2&gt;

&lt;p&gt;ä»Šå¹´èª­ã‚“ã§è‰¯ã‹ã£ãŸæŠ€è¡“é–¢é€£ã®æœ¬ã¯ä»¥ä¸‹ã®3å†ŠãŒè‰¯ã‹ã£ãŸï¼&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.amazon.co.jp/Systems-Performance-Enterprise-Brendan-Gregg-ebook/dp/B00FLYU9T2&#34;&gt;Systems Performance: Enterprise and the Cloud&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://interpreterbook.com/&#34;&gt;Writing An Interpreter In Go&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.amazon.co.jp/dp/4048930508&#34;&gt;Unixè€ƒå¤å­¦ Truth of the Legend&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ã¨ã«ã‹ãä»Šå¹´ã®1å†Šã¯Systems Performanceã ã£ãŸï¼ˆ&lt;a href=&#34;http://deeeet.com/writing/2016/11/07/systems-performance/&#34;&gt;Systems Performanceèª­ã‚“ã &lt;/a&gt;ï¼‰ï¼ã‹ãªã‚Šé‡åšãªæœ¬ã ã£ãŸã®ã§èª­ã‚€ã®ã«åŠå¹´ä»¥ä¸Šã‹ã‹ã£ãŸï¼ã“ã‚“ãªæœ¬ã«æ¯å¹´å‡ºä¼šã„ãŸã„ï¼&lt;/p&gt;

&lt;p&gt;æŠ€è¡“ä»¥å¤–ã§ã¯ä»¥ä¸‹ã®5å†ŠãŒè‰¯ã‹ã£ãŸï¼&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.amazon.co.jp/dp/4903908763&#34;&gt;æ˜ ç”»ã‚’æ’®ã‚ŠãªãŒã‚‰è€ƒãˆãŸã“ã¨&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.amazon.co.jp/dp/4309264948&#34;&gt;ãƒ–ãƒ©ãƒƒã‚¯ãƒã‚·ãƒ³ãƒŸãƒ¥ãƒ¼ã‚¸ãƒƒã‚¯ ãƒ‡ã‚£ã‚¹ã‚³ã€ãƒã‚¦ã‚¹ã€ãƒ‡ãƒˆãƒ­ã‚¤ãƒˆãƒ†ã‚¯ãƒ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.amazon.co.jp/dp/4105393065&#34;&gt;æ•°å­¦è€…ãŸã¡ã®æ¥½åœ’: ã€Œã‚¶ãƒ»ã‚·ãƒ³ãƒ—ã‚½ãƒ³ã‚ºã€ã‚’ä½œã£ãŸå¤©æ‰ãŸã¡&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.amazon.co.jp/dp/4773814047&#34;&gt;ãƒ¡ã‚­ã‚·ã‚³éº»è–¬æˆ¦äº‰: ã‚¢ãƒ¡ãƒªã‚«å¤§é™¸ã‚’å¼•ãè£‚ãã€ŒçŠ¯ç½ªè€…ã€ãŸã¡ã®å›ä¹±&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.amazon.co.jp/dp/4781611001&#34;&gt;æ˜ ç”»è¡“ ãã®æ¼”å‡ºã¯ãªãœå¿ƒã‚’ã¤ã‹ã‚€ã®ã‹&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ã‚ã¨ä»Šèª­ã‚“ã§ã„ã‚‹&lt;a href=&#34;https://www.amazon.co.jp/dp/B01LW7JZLC&#34;&gt;ã‚µãƒ”ã‚¨ãƒ³ã‚¹å…¨å²&lt;/a&gt;ãŒ&lt;a href=&#34;https://www.amazon.co.jp/dp/4794218788&#34;&gt;éŠƒãƒ»ç—…åŸèŒãƒ»é‰„&lt;/a&gt;ã«åŒ¹æ•µã™ã‚‹é¢ç™½ã•ã ï¼&lt;/p&gt;

&lt;h2 id=&#34;è‰¯ã‹ã£ãŸæ˜ ç”»&#34;&gt;è‰¯ã‹ã£ãŸæ˜ ç”»&lt;/h2&gt;

&lt;p&gt;ä»Šå¹´ã¯æ–°æ—§å«ã‚ã¦70-80æœ¬ç¨‹åº¦ã®æ˜ ç”»ã‚’è¦³ãŸï¼ä»Šå¹´å…¬é–‹ã®æ˜ ç”»ãƒ™ã‚¹ãƒˆ10ã¯ä»¥ä¸‹ï¼&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;æ°¸ã„è¨€ã„è¨³&lt;/li&gt;
&lt;li&gt;ãƒ‡ã‚£ã‚¹ãƒˆãƒ©ã‚¯ã‚·ãƒ§ãƒ³ãƒ™ã‚¤ãƒ“ãƒ¼ã‚º&lt;/li&gt;
&lt;li&gt;ã‚µã‚¦ãƒ«ã®æ¯å­&lt;/li&gt;
&lt;li&gt;ã‚«ãƒ«ãƒ†ãƒ«ãƒ©ãƒ³ãƒ‰&lt;/li&gt;
&lt;li&gt;ã“ã®ä¸–ç•Œã®ç‰‡éš…ã«&lt;/li&gt;
&lt;li&gt;ã‚·ãƒ³ã‚´ã‚¸ãƒ©&lt;/li&gt;
&lt;li&gt;ã‚·ãƒ“ãƒ«ã‚¦ã‚©ãƒ¼&lt;/li&gt;
&lt;li&gt;ã‚ªãƒ‡ãƒƒã‚»ã‚¤&lt;/li&gt;
&lt;li&gt;ã‚¹ãƒ†ã‚£ãƒ¼ãƒ–ã‚¸ãƒ§ãƒ–ã‚º&lt;/li&gt;
&lt;li&gt;è¿½æ†¶ã®æ£®&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;ã‚„ã¯ã‚Šé‚¦ç”»ãŒåœ§å€’çš„ã«ã™ã”ãã¦ä»–ã«ã‚‚è‰¯ã‹ã£ãŸã®ã¯ã€Œãƒ’ãƒ¡ã‚¢ãƒã€œãƒ«ã€ã€Œæµ·ã‚ˆã‚Šã‚‚ã¾ã æ·±ãã€ã€Œæ—¥æœ¬ã§1ç•ªæ‚ªã„å¥´ã‚‰ã€ï¼æ´‹ç”»ã¯ã€Œãƒ¬ãƒ´ã‚§ãƒŠãƒ³ãƒˆã€ã€Œãƒ‡ãƒƒãƒ‰ãƒ—ãƒ¼ãƒ«ã€ã€Œã‚³ãƒƒãƒ—ã‚«ãƒ¼ã€ã€Œãƒ‡ã‚£ãƒ¼ãƒ‘ãƒ³ã®é—˜ã„ã€è¾ºã‚ŠãŒå¥½ãã ã£ãŸï¼æ—§ä½œã§ä»Šå¹´å‡ºä¼šã£ã¦è‰¯ã‹ã£ãŸã®ã¯ã€Œã‚¤ãƒ³ãƒˆã‚¥ã‚¶ãƒ¯ã‚¤ãƒ«ãƒ‰ã€ã€Œãƒ—ãƒ¬ã‚¤ã‚¹ãƒ“ãƒ¨ãƒ³ãƒ‰ã‚¶ãƒ‘ã‚¤ãƒ³ã‚ºã€ã€Œã‚³ãƒ³ã‚°ãƒ¬ã‚¹æœªæ¥ä¼šè­°ã€ã€Œæ‹äººãŸã¡ã€ï¼ˆã‚·ãƒ³ã‚´ã‚¸ãƒ©é–¢é€£ã§è¦³ãŸï¼‰ã€Œæ—¥æœ¬ã®ã„ã¡ã°ã‚“é•·ã„æ—¥ã€ãªã©ãªã©ï¼&lt;/p&gt;

&lt;h2 id=&#34;ã¾ã¨ã‚&#34;&gt;ã¾ã¨ã‚&lt;/h2&gt;

&lt;p&gt;ã¾ãŸæ¥å¹´ã‚‚ã‚ˆã‚ã—ããŠé¡˜ã„ã—ã¾ã™ï¼&lt;/p&gt;

&lt;h2 id=&#34;å‚è€ƒ&#34;&gt;å‚è€ƒ&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://deeeet.com/writing/2015/12/31/2015/&#34;&gt;2015å¹´æŒ¯ã‚Šè¿”ã‚Š&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>Systems Performanceã‚’èª­ã‚“ã </title>
      <link>http://deeeet.com/writing/2016/11/07/systems-performance/</link>
      <pubDate>Mon, 07 Nov 2016 09:25:18 +0900</pubDate>
      
      <guid>http://deeeet.com/writing/2016/11/07/systems-performance/</guid>
      <description>

&lt;p&gt;&lt;a href=&#34;http://www.brendangregg.com/&#34;&gt;Brendan Gregg&lt;/a&gt;ã«ã‚ˆã‚‹&lt;a href=&#34;https://www.amazon.co.jp/Systems-Performance-Enterprise-Brendan-Gregg-ebook/dp/B00FLYU9T2&#34;&gt;&amp;ldquo;Systems Performance: Enterprise and the Cloud&amp;rdquo;&lt;/a&gt;ã‚’èª­ã‚“ã ï¼&lt;/p&gt;

&lt;p&gt;Linuxï¼ˆSolarisï¼‰ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®åˆ†é‡ã§Brendan Greggã¨ã„ã†åå‰ã‚’èã„ãŸã“ã¨ãŒã‚ã‚‹ã²ã¨ã¯å¤šã„ã¨æ€ã†ï¼åå‰ã‚’çŸ¥ã‚‰ãªãã¦ã‚‚ãŒæ›¸ã„ã¦ã„ã‚‹&lt;a href=&#34;http://www.brendangregg.com/blog/index.html&#34;&gt;ãƒ–ãƒ­ã‚°&lt;/a&gt;ã‚„ã‚«ãƒ³ãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã§ã®&lt;a href=&#34;http://www.slideshare.net/brendangregg&#34;&gt;ç™ºè¡¨è³‡æ–™&lt;/a&gt;ã‚’è¦‹ã‹ã‘ãŸã“ã¨ã¯ã‚ã‚‹ã¨æ€ã†ï¼ã¾ãŸå½¼ãŒé–‹ç™ºã—ãŸ&lt;a href=&#34;http://www.brendangregg.com/flamegraphs.html&#34;&gt;Flame Graph&lt;/a&gt;ã«ãŠä¸–è©±ã«ãªã£ã¦ã‚‹ã²ã¨ã‚‚ã„ã‚‹ã®ã§ã¯ãªã„ã‹ï¼ˆref. &lt;a href=&#34;http://deeeet.com/writing/2016/05/29/go-flame-graph/&#34;&gt;Golangã§Flame Graphã‚’æã&lt;/a&gt;ï¼‰ï¼ã¨ã«ã‹ããƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã«é–¢ã—ã¦å¸¸ã«å…ˆç«¯ã«ã„ã‚‹ã²ã¨ã§ã‚ã‚‹ï¼&lt;/p&gt;

&lt;p&gt;ãã‚“ãªå½¼ãŒSystemsï¼ˆã“ã“ã§ã„ã†Systemsã¨ã¯CPUã‚„ãƒ¡ãƒ¢ãƒªã¨ã„ã£ãŸãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ã¨Kernelã‚„OSã¨ã„ã£ãŸã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã‚’æŒ‡ã™ï¼‰ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã«ã¤ã„ã¦å†…éƒ¨ã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ¼ã‚’å«ã‚å¾¹åº•çš„ã«è§£èª¬ã—ãŸã®ãŒæœ¬æ›¸ã§ã‚ã‚‹ï¼é¢ç™½ã„ã«æ±ºã¾ã£ã¦ã‚‹ï¼&lt;/p&gt;

&lt;p&gt;æœ¬æ›¸ã®æ ¹åº•ã«ã‚ã‚‹è€ƒãˆæ–¹ã¯å‰æ›¸ãã«æ›¸ã‹ã‚Œã¦ã„ã‚‹known-knownsï¼Œknown-unknownsãã—ã¦unknown-unknownsã¨ã„ã†è€ƒãˆæ–¹ã§ã‚ã‚‹ï¼ˆè©³ã—ãã¯&lt;a href=&#34;http://deeeet.com/writing/2016/05/24/known-unknowns/&#34;&gt;Known unknowns&lt;/a&gt;ã«æ›¸ã„ãŸï¼‰ï¼ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®ãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°ã‚„ãƒœãƒˆãƒ«ãƒãƒƒã‚¯ã«ã¤ã„ã¦è€ƒãˆã‚‹ã¨ãåƒ•ã‚‰ã¯ä½•ãŒknownã§ä½•ãŒunknownã§ã‚ã‚‹ã‹ã«æ„è­˜çš„ã«ãªã‚‰ãªã„ã¨ã„ã‘ãªã„ï¼ã“ã®ã‚ˆã†ãªå‰æãŒã‚ã‚Šæœ¬æ›¸ã¯å„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚„ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã‚’ä½ä½ãªãƒ¬ãƒ™ãƒ«ã‹ã‚‰è©³ç´°ã«ç´è§£ã„ã¦ã„ãï¼&lt;/p&gt;

&lt;p&gt;è©³ç´°ã§ã‚ã‚‹ã‹ã‚‰è‰¯ã„ã¨ã„ã†ã‚ã‘ã§ã¯ãªã„ï¼åƒ•ã¯Linuxã«ã¤ã„ã¦ã‚ˆã‚Šæ·±ã„ç†è§£ã‚’å¾—ãŸã„ã¨æ€ã£ãŸã¨ãã«O&amp;rsquo;Reillyã®&lt;a href=&#34;https://www.amazon.co.jp/dp/4873113628&#34;&gt;Linuxã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°&lt;/a&gt;ã‚„&lt;a href=&#34;https://www.amazon.co.jp/dp/487311313X&#34;&gt;è©³è§£Linuxã‚«ãƒ¼ãƒãƒ«&lt;/a&gt;ã¨ã„ã£ãŸæœ¬ã«åŠ©ã‘ã‚’æ±‚ã‚ãŸï¼ã“ã‚Œã‚‰ã¯å­¦ã³ã¯ãŸãã•ã‚“ã‚ã£ãŸãŒæ·¡ã€…ã¨äº‹å®ŸãŒä¸¦ã¹ã‚‰ã‚Œã‚‹ã ã‘ã§ç´ ç›´ã«é¢ç™½ã„ã¨ã¯æ€ãˆãªã‹ã£ãŸï¼ˆç‰¹ã«è©³è§£&amp;hellip;ã¯å…¨ã¦ã‚’èª­ã‚€ã“ã¨ã¯ã‚„ã‚ã¦ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹çš„ã«ã—ã‹ä½¿ã£ã¦ã„ãªã„ï¼ãã‚Œã‚†ãˆè¾æ›¸ã¨å‘¼ã°ã‚Œã‚‹ã®ã ã‚ã†ï¼‰ï¼&lt;/p&gt;

&lt;p&gt;æœ¬æ›¸ãŒé¢ç™½ã„ã®ã¯ã€Œãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã€ã¨ã„ã†æ˜ç¢ºãªã‚´ãƒ¼ãƒ«ã‚’ã‚‚ã£ãŸä¸Šã§ä½ä½ãªéƒ¨åˆ†ã‚’è§£èª¬ã—ã¦ã„ã‚‹ã¨ã“ã‚ã ã¨æ€ã†ï¼ä¾‹ãˆã°CPUã«ã¤ã„ã¦ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ¼ã¯ã“ã†ã§ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ãƒ¼ã¯ã“ã†ãªã£ã¦ã„ã¦ã¨èª¬æ˜ã‚’ã—ãªãŒã‚‰ã“ã“ãŒãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã§å•é¡Œã«ãªã‚‹ã¨ã„ã£ãŸèª¬æ˜ã‚’ã™ã‚‹ï¼ãªãœã“ã‚ŒãŒè‰¯ã„ã‹ï¼Ÿã‚’è€ƒãˆãŸæ™‚ã«çµå±€ãã“ãŒæ—¥ã€…ã®æ¥­å‹™ã«ç›´çµã™ã‚‹ã‹ã‚‰ã ã‚ã†ã¨æ€ã£ãŸï¼é—‡é›²ã«æ·±ã„ãƒ¬ãƒ™ãƒ«ã“ã¨ã‚’å­¦ã‚“ã§ã‚‚çŸ¥è­˜ã«ã¯ãªã£ã¦ã‚‚æ¥­å‹™ã«ã¯ç”Ÿã‹ã›ãªã„ï¼ˆã‚‚ã¡ã‚ã‚“å¤§åˆ‡ãªã“ã¨ã ã¨æ€ã†ï¼‰ï¼&lt;/p&gt;

&lt;p&gt;ç›®æ¬¡ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã£ã¦ã„ã‚‹ï¼&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;Intro&lt;/li&gt;
&lt;li&gt;Methodology&lt;/li&gt;
&lt;li&gt;Operating Systems&lt;/li&gt;
&lt;li&gt;Observability Tools&lt;/li&gt;
&lt;li&gt;Applications&lt;/li&gt;
&lt;li&gt;CPUs&lt;/li&gt;
&lt;li&gt;Memory&lt;/li&gt;
&lt;li&gt;File Systems&lt;/li&gt;
&lt;li&gt;Disks&lt;/li&gt;
&lt;li&gt;Network&lt;/li&gt;
&lt;li&gt;Cloud Computing&lt;/li&gt;
&lt;li&gt;Benchmarking&lt;/li&gt;
&lt;li&gt;Case Study&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;æœ¬æ›¸ã¯ã¾ãšMethodologyï¼ˆæ–¹æ³•è«–ï¼‰ã‹ã‚‰å§‹ã¾ã‚‹ï¼ã“ã‚ŒãŒè‰¯ã„ï¼ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®ä½•ãŒé›£ã—ã„ã£ã¦ã€Œã©ã“ã‹ã‚‰å§‹ã‚ã‚‹ã‹ï¼Ÿã€ã§ã‚ã‚‹ï¼ã‚‚ã¡ã‚ã‚“ç†Ÿç·´ã—ãŸã²ã¨ãŸã¡ã«ã¯ãã‚Œãªã‚Šã®ã‚¹ã‚¿ã‚¤ãƒ«ãªã©ã¯ã‚ã‚‹ã¨æ€ã†ï¼ä¾‹ãˆã°Netflixï¼ˆã“ã‚Œã¯BrendanãŒæ›¸ã„ã¦ã‚‹ãŒï¼‰ã® &lt;a href=&#34;http://techblog.netflix.com/2015/11/linux-performance-analysis-in-60s.html&#34;&gt;Linux Performance Analysis in 60,000 Milliseconds&lt;/a&gt;ã‚„&lt;a href=&#34;https://twitter.com/y_uuk1&#34;&gt;@y_uuk1&lt;/a&gt;ãã‚“ã®&lt;a href=&#34;http://blog.yuuk.io/entry/linux-server-operations&#34;&gt;Linuxã‚µãƒ¼ãƒã«ãƒ­ã‚°ã‚¤ãƒ³ã—ãŸã‚‰ã„ã¤ã‚‚ã‚„ã£ã¦ã„ã‚‹ã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³&lt;/a&gt;ãŒã‚ã‚‹ï¼ˆã“ã‚Œã¯æœ¬æ›¸ã ã¨Tool Methodã«ãªã‚‹ã‹ãªï¼‰ï¼ã“ã‚Œã‚‰ã¯ä¼šç¤¾ã”ã¨ã«ç‰¹åŒ–ã—ãŸã‚‚ã®ã§ã‚ã£ã¦ï¼Œã‚ˆã‚ŠGeneralãªã‚‚ã®ã¯æ˜ç¢ºã«è¨€èªåŒ–ã•ã‚Œã¦ã‚‹ã¨ã¯è¨€ã„ãŒãŸã„ã®ã§ã¯ãªã„ã‹ã¨æ€ã†ï¼ã ã‹ã‚‰é©å½“ã«ã‚°ã‚°ã£ã¦ãƒ’ãƒƒãƒˆã—ãŸã‚³ãƒãƒ³ãƒ‰ã‚’ã¨ã‚Šã‚ãˆãšè©¦ã—ã¦ã¿ã‚‹ï¼Œã¨ã„ã£ãŸã“ã¨ã«ãªã‚‹ï¼æ–¹æ³•è«–ã¯åƒ•ã®ã‚ˆã†ã«ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã«è‹¦æ‰‹æ„è­˜ã‚’æŒã£ã¦ã„ã‚‹äººé–“ã«é“ç­‹ã‚’ä¸ãˆã¦ãã‚Œã‚‹ã‚‚ã®ã ã£ãŸï¼ä¾‹ãˆã°&lt;a href=&#34;http://www.brendangregg.com/usemethod.html&#34;&gt;USE Method&lt;/a&gt;ã¯ã™ãã«å½¹ã«ç«‹ã£ã¦ã„ã‚‹ï¼&lt;/p&gt;

&lt;p&gt;ãã‚Œä»¥é™ã¯OSã‚„CPUï¼Œãƒ¡ãƒ¢ãƒªãã—ã¦ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã«é–¢ã—ã¦ã®è©³ç´°ãªèª¬æ˜ãŒç¶šãï¼å„ç« ã®æ çµ„ã¿ã¯ä¸€è‡´ã—ã¦ã„ã¦åŸºæœ¬çš„ãªç”¨èªã®è§£èª¬ã‹ã‚‰å§‹ã¾ã‚Šï¼Œã‚³ãƒ³ã‚»ãƒ—ãƒˆï¼Œã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ¼ï¼Œãã—ã¦ãã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ä½¿ãˆã‚‹æ–¹æ³•è«–ï¼ˆå…·ä½“çš„ãªã‚³ãƒãƒ³ãƒ‰ãªã©ï¼‰ãŒèª¬æ˜ã•ã‚Œã‚‹ï¼ã©ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚‚å¾¹åº•çš„ã«è§£èª¬ã•ã‚Œéå¸¸ã«å‹‰å¼·ã«ãªã‚‹ï¼æœ¬æ›¸ã§ç‰¹å¾´çš„ãªã®ã¯Linuxã ã‘ã§ã¯ãªãSolarisã«ã¤ã„ã¦ã‚‚è¨€åŠã•ã‚Œã‚‹ã¨ã“ã‚ã ã‚ã†ï¼åˆ¥ã®OSã«ã¤ã„ã¦ã®ç†è§£/æ¯”è¼ƒã¯ä»Šè‡ªåˆ†ãŒä½¿ã£ã¦ã„ã‚‹OSã¸ã®æ·±ã„ç†è§£ã«ã‚‚ã¤ãªãŒã‚‹ï¼ˆSolarisã«ã¤ã„ã¦ã¯æµã™ç¨‹åº¦ã§èª­ã‚“ã ã‘ã©ã‚ã®Tracabilityã¯è‰¯ã„ãªã‚ã¨æ€ã£ã¦ã—ã¾ã£ãŸã‚ˆï¼ï¼‰ï¼&lt;/p&gt;

&lt;p&gt;ãã—ã¦Cloud Computingã®è§£èª¬ã‚‚ã‚ã‚‹ï¼ã“ã‚Œã¯è¿‘å¹´é¿ã‘ã‚‰ã‚Œãªã„ãƒ†ãƒ¼ãƒã ï¼OS virtualizationã¨Hardware virtulizationãã‚Œãã‚Œã«ã¤ã„ã¦è§£èª¬ã—æ¯”è¼ƒãŒè¡Œã‚ã‚Œã‚‹ï¼ãƒ›ã‚¹ãƒˆå´ã¨ã‚²ã‚¹ãƒˆå´ã®ä¸¡æ–¹ã®è¦–ç‚¹ãŒã‚ã‚‹ï¼ã‚‚ã¡ã‚ã‚“ãƒ‘ãƒ•ã‚©ãƒ¼ãƒã‚¹ã«é–¢ã—ã¦ç•™æ„ã™ã‚‹ã¹ãã“ã¨ã‚‚ç´¹ä»‹ã•ã‚Œã‚‹ï¼&lt;/p&gt;

&lt;p&gt;Benchmarkingã®ç« ã¯ã€ŒThere are lies, damn lies and then there are performance measuresã€ã¨ã„ã†è¨€è‘‰ã‹ã‚‰å§‹ã¾ã‚‹ï¼ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ã‚’è¡Œã†å´ï¼Œãã—ã¦èª­ã‚€å´ãŒä½•ã«æ°—ã‚’ã¤ã‘ã‚Œã°è‰¯ã„ã‹ã«ã¤ã„ã¦ç†è§£ã§ãã‚‹ï¼ã€Œãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ã®çµæœã«ã¤ã„ã¦ãã®çµæœã®åˆ†æã«1é€±é–“ã‹ã‘ã¦ã„ãªã‘ã‚Œã°ãã‚Œã¯ãã£ã¨é–“é•ã£ã¦ã„ã‚‹ã€ã¨ã¾ã§è¨€ã„åˆ‡ã£ã¦ã„ã‚‹ï¼&lt;/p&gt;

&lt;p&gt;æœ€å¾Œã®Case Studyã‚‚ã¨ã¦ã‚‚é¢ç™½ã‹ã£ãŸï¼ã“ã®ç« ã¯å‰ç« ã§è§£èª¬ã—ã¦ããŸã“ã¨ã®é›†å¤§æˆçš„ãªç« ã«ãªã£ã¦ã„ã‚‹ï¼ã“ã“ã§ã¯BrendannãŒå®Ÿéš›ã«å¯¾å¿œã—ãŸãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®å•é¡Œã«ã¤ã„ã¦ï¼Œå½¼ãŒä½•ã‚’è€ƒãˆï¼Œã©ã®ã‚ˆã†ãªæ–¹æ³•è«–ã§ãã‚Œã«ç«‹ã¡å‘ã‹ã„ï¼Œèª¤ã‚Šï¼Œãã—ã¦ãã“ã‹ã‚‰ã©ã®ã‚ˆã†ã«è§£æ±ºã«å‘ã‹ã£ãŸãŒèªã‚‰ã‚Œã‚‹ï¼ã“ã“ã¯çµæ§‹å½¼ã®äººã¨ãªã‚ŠãŒå‡ºã¦ã„ã¦ç¬‘ã„ãªãŒã‚‰èª­ã‚“ã ï¼ˆã©ã‚“ãªã‘Dtraceä½¿ã„ãŸããªã£ã¦ã‚‹ã‚“ã ã¨ã‹ã­ï¼‰ï¼ç†Ÿç·´ã®ã²ã¨ãŒä½•ã‚’è€ƒãˆã¦ã„ã‚‹ã®ã‹çŸ¥ã‚Œã‚‹ã®ã¯æ–¹æ³•è«–ã¨ã¯é•ã£ãŸé“ç­‹ã‚’ä¸ãˆã¦ãã‚Œã‚‹ï¼ã¾ãŸåˆå¿ƒè€…ã¯ã“ã®ç« ã‚’å…ˆã«èª­ã‚“ã§ã‚‚è‰¯ã„ã¨å‹§ã‚ã‚‰ã‚Œã¦ã„ã‚‹ï¼æœ¬æ›¸ã§è§£èª¬ã•ã‚Œã‚‹ã‚‚ã®ã”ã¨ã®æ„ç¾©ãŒã‚ˆã‚Šä¼ã‚ã‚Šã‚„ã™ããªã‚‹ã‹ã‚‰ã ã‚ã†ï¼&lt;/p&gt;

&lt;h2 id=&#34;ã¾ã¨ã‚&#34;&gt;ã¾ã¨ã‚&lt;/h2&gt;

&lt;p&gt;ç´™ã®æœ¬ã§700ãƒšãƒ¼ã‚¸ä»¥ä¸Šã‚‚ã‚ã‚Šä»–ã®æœ¬ã«æµ®æ°—ã—ã¤ã¤èª­ã‚€ã®ã«åŠå¹´ä»¥ä¸Šã‚‚ã‹ã‹ã£ã¦ã—ã¾ã£ãŸï¼ãã‚Œã§ã‚‚ä¸Šã§ã¹ãŸè¤’ã‚ã—ãŸã‚ˆã†ã«ã©ã®ãƒšãƒ¼ã‚¸ã‚’ã‚ãã£ã¦ã‚‚å­¦ã³ã—ã‹ãªã‹ã£ãŸï¼åƒ•ã¯ã“ã®æœ¬ã‚’ä½•åº¦ã‚‚èª­ã¿ç›´ã™ã¨æ€ã†ã—å¤šãã®ã²ã¨ã«å‹§ã‚ãŸã„ã¨æ€ã†ï¼å°‘ã—é«˜ã„ãŒãã‚Œä»¥ä¸Šã®ä¾¡å€¤ã¯ã‚ã‚‹ã¨æ€ã†ï¼ä»Šå¾Œã‚¤ãƒ³ãƒ•ãƒ©ç•Œéšˆï¼ˆDevOpsã‚„SREï¼‰ã®å¿…èª­æ›¸ã«ãªã£ã¦ã„ãã§ã—ã‚‡ã†ï¼ã‚ªã‚¹ã‚¹ãƒ¡ã§ã™ï¼&lt;/p&gt;

&lt;p&gt;ã‚‚ã¨ã‚‚ã¨ã¯&lt;a href=&#34;https://twitter.com/y_uuk1&#34;&gt;@y_uuk1&lt;/a&gt;ãŒèª­ã‚“ã§ã„ãŸã®ã‚’è¦‹ã¦èª­ã¿å§‹ã‚ãŸï¼æœ¬å½“ã«è‰¯ã„æœ¬ã‚’ç´¹ä»‹ã—ã¦ãã‚Œã¦ã‚ã‚ŠãŒã¨ã†&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Golangã§API Clientã‚’å®Ÿè£…ã™ã‚‹</title>
      <link>http://deeeet.com/writing/2016/11/01/go-api-client/</link>
      <pubDate>Tue, 01 Nov 2016 11:42:19 +0900</pubDate>
      
      <guid>http://deeeet.com/writing/2016/11/01/go-api-client/</guid>
      <description>

&lt;p&gt;ç‰¹å®šã®APIã‚’åˆ©ç”¨ã™ã‚‹ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ãƒ„ãƒ¼ãƒ«ã‚„ã‚µãƒ¼ãƒ“ã‚¹ã‚’æ›¸ãå ´åˆã¯Clientãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ï¼ˆSDKã¨å‘¼ã°ã‚Œã‚‹ã“ã¨ã‚‚å¤šã„ãŒæœ¬è¨˜äº‹ã§ã¯Clientã¨å‘¼ã¶ï¼‰ã‚’ä½¿ã†ã“ã¨ãŒå¤šã„ã¨æ€ã†ï¼åºƒãä½¿ã‚ã‚Œã¦ã„ã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã®APIã§ã‚ã‚Œã°å¤§æŠµã¯ã‚ªãƒ•ã‚£ã‚·ãƒ£ãƒ«ã«Clientãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒæä¾›ã•ã‚Œã¦ã„ã‚‹ï¼ä¾‹ãˆã°ä»¥ä¸‹ã®ã‚ˆã†ãªã‚‚ã®ãŒæŒ™ã’ã‚‰ã‚Œã‚‹ï¼&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/aws/aws-sdk-go&#34;&gt;https://github.com/aws/aws-sdk-go&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/Azure/azure-sdk-for-go&#34;&gt;https://github.com/Azure/azure-sdk-for-go&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/PagerDuty/go-pagerduty&#34;&gt;https://github.com/PagerDuty/go-pagerduty&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/hashicorp/atlas-go&#34;&gt;https://github.com/hashicorp/atlas-go&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ç‰¹åˆ¥ä½¿ã„ã«ãã„å ´åˆã‚’é™¤ã‘ã°å†å®Ÿè£…ã¯é¿ã‘ã‚ªãƒ•ã‚£ã‚·ãƒ£ãƒ«ã«æä¾›ã•ã‚Œã¦ã„ã‚‹ã‚‚ã®ã‚’ä½¿ã£ã¦ã—ã¾ãˆã°ã‚ˆã„ã¨æ€ã†ï¼ˆã¾ã¨ã‚‚ãªã‚‚ã®ãªã‚‰äº’æ›æ€§ãªã©ã‚’ã¡ã‚ƒã‚“ã¨è€ƒæ…®ã—ã¦ãã‚Œã‚‹ã¯ãšãªã®ã§ï¼‰ï¼ä¸€æ–¹ã§å°ã•ãªã‚µãƒ¼ãƒ“ã‚¹ã‚„ç¤¾å†…ã®ã‚µãƒ¼ãƒ“ã‚¹ã®å ´åˆã¯Clientã¯æä¾›ã•ã‚Œã¦ãŠã‚‰ãšè‡ªåˆ†ã§å®Ÿè£…ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ï¼&lt;/p&gt;

&lt;p&gt;è‡ªåˆ†ã¯ã“ã‚Œã¾ã§ã„ãã¤ã‹ã®API client ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’å®Ÿè£…ã—ã¦ããŸï¼æœ¬è¨˜äº‹ã§ã¯ãã®å®Ÿè£…ã®è‡ªåˆ†ãªã‚Šã®å®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆå„äººã«ã‚„ã‚Šã‹ãŸã¯ã‚ã‚‹ã¨æ€ã†ï¼‰ã¨ã„ãã¤ã‹ã®ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã‚’ç´¹ä»‹ã™ã‚‹ï¼&lt;/p&gt;

&lt;h2 id=&#34;clientã¨ã¯ä½•ã‹&#34;&gt;Clientã¨ã¯ä½•ã‹?&lt;/h2&gt;

&lt;p&gt;API Clientã¨ã¯APIã®HTTPãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ï¼ˆè¨€èªã®ï¼‰ãƒ¡ã‚½ãƒƒãƒ‰ã®å½¢ã«æŠ½è±¡åŒ–ã—ãŸã‚‚ã®ã§ã‚ã‚‹ï¼ä¾‹ãˆã°  &lt;a href=&#34;https://api.example.com/users&#34;&gt;https://api.example.com/users&lt;/a&gt; ã¨ã„ã†ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‹ã‚‰ãƒ¦ãƒ¼ã‚¶ä¸€è¦§ã‚’å–å¾—ã§ãã‚‹ã¨ã™ã‚‹ï¼API Clientã¯å…·ä½“çš„ãªHTTPãƒªã‚¯ã‚¨ã‚¹ãƒˆï¼ˆãƒ¡ã‚½ãƒƒãƒ‰ã‚„ãƒ˜ãƒƒãƒ€ã®è¨­å®šï¼Œèªè¨¼ãªã©ï¼‰ã‚’æŠ½è±¡åŒ–ã— &lt;code&gt;ListUsers()&lt;/code&gt;ã®ã‚ˆã†ãªãƒ¡ã‚½ãƒƒãƒ‰ã«è½ã¨ã—è¾¼ã‚“ã§ãã®æ©Ÿèƒ½ã‚’æä¾›ã™ã‚‹ï¼&lt;/p&gt;

&lt;h2 id=&#34;ãªãœ-client-ã‚’æ›¸ãã¹ãã‹&#34;&gt;ãªãœ Client ã‚’æ›¸ãã¹ãã‹?&lt;/h2&gt;

&lt;p&gt;ãã‚‚ãã‚‚å…±é€šåŒ–ã§ãã‚‹ã“ã¨ãŒå¤šã„ãŸã‚ï¼ãã‚Œãã‚Œã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¯ç‹¬ç«‹ã—ã¦ã„ã¦ã‚‚ä¾‹ãˆã°ãƒ¦ãƒ¼ã‚¶åã‚„ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ï¼ŒTokenãªã©ã¯åŸºæœ¬ã¯åŒã˜ã‚‚ã®ã‚’ä½¿ã†ã—ï¼Œãƒ˜ãƒƒãƒ€ã®è¨­å®šãªã©ã‚‚å…±é€šã—ã¦è¡Œãˆã‚‹ï¼ã¾ãŸãƒ†ã‚¹ãƒˆã‚‚æ›¸ãã‚„ã™ããªã‚‹ï¼&lt;/p&gt;

&lt;h2 id=&#34;ã„ã¤clientã‚’æ›¸ãã¹ãã‹&#34;&gt;ã„ã¤Clientã‚’æ›¸ãã¹ãã‹?&lt;/h2&gt;

&lt;p&gt;è¤‡æ•°ã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã«å¯¾ã—ã¦ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æŠ•ã’ã‚‹å¿…è¦ãŒã‚ã‚‹å ´åˆã¯Clientã‚’æ›¸ã„ã¦ã—ã¾ãˆã°ã„ã„ã¨æ€ã†ï¼ä¾‹ãˆã°ï¼Œå˜ä¸€ã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã«æ±ºã¾ã£ãŸãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æŠ•ã’ã‚‹ã ã‘ã§ã‚ã‚Œã°Clientã‚’ã‚ã–ã‚ã–æ›¸ãå¿…è¦ã¯ãªã„ï¼è‡ªåˆ†ã®å ´åˆã¯3ã¤ä»¥ä¸Šã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆãŒã‚ã‚Œã°Clientã‚’ã•ã£ã¨æ›¸ã„ã¦ã„ã‚‹ã¨æ€ã†ï¼&lt;/p&gt;

&lt;h2 id=&#34;åŸºæœ¬çš„ãªå®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³&#34;&gt;åŸºæœ¬çš„ãªå®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³&lt;/h2&gt;

&lt;p&gt;ä»¥ä¸‹ã§ã¯ &lt;a href=&#34;https://api.example.com&#34;&gt;https://api.example.com&lt;/a&gt; ï¼ˆå­˜åœ¨ã—ãªã„ï¼‰ã®API Client ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’å®Ÿè£…ã™ã‚‹ã¨ã™ã‚‹ï¼ã“ã®APIã§ã¯&lt;code&gt;/users&lt;/code&gt;ã¨ã„ã†ãƒ‘ã‚¹ã§ãƒ¦ãƒ¼ã‚¶ã®ä½œæˆã¨å–å¾—ï¼Œå‰Šé™¤ãŒå¯èƒ½ã§ã‚ã‚‹ã¨ã™ã‚‹ï¼ã¾ãŸå„ãƒªã‚¯ã‚¨ã‚¹ãƒˆã«ã¯Basicèªè¨¼ãŒå¿…è¦ã§ã‚ã‚‹ã¨ã™ã‚‹ï¼&lt;/p&gt;

&lt;h3 id=&#34;ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®åå‰ã‚’ã¤ã‘ã‚‹&#34;&gt;ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®åå‰ã‚’ã¤ã‘ã‚‹&lt;/h3&gt;

&lt;p&gt;&lt;a href=&#34;https://golang.org/doc/effective_go.html#package-names&#34;&gt;https://golang.org/doc/effective_go.html#package-names&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ä¸Šã®Effective Goã«ã‚‚æ›¸ã‹ã‚Œã¦ã„ã‚‹ã‚ˆã†ã«ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åã¯ shortã‹ã¤conciseã‹ã¤evocativeã®ã‚‚ã®ã‚’é¸æŠã™ã‚‹ï¼API Clientã§ã‚ã‚Œã°ãã®ã‚µãƒ¼ãƒ“ã‚¹åãŒãã®ã¾ã¾ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åã«ãªã‚‹ã¨æ€ã†ï¼ä¾‹ãˆã° PagerDutyã§ã‚ã‚Œã° &lt;code&gt;pagerduty&lt;/code&gt;ãŒãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åã«ãªã‚‹ï¼&lt;/p&gt;

&lt;p&gt;åå‰ã«ã¤ã„ã¦ã¯ä»¥ä¸‹ã§ã‚‚ã„ãã¤ã‹è¿°ã¹ã‚‹ï¼&lt;/p&gt;

&lt;h3 id=&#34;client-struct-ã‚’å®šç¾©ã™ã‚‹&#34;&gt;Clientï¼ˆstructï¼‰ã‚’å®šç¾©ã™ã‚‹&lt;/h3&gt;

&lt;p&gt;ã¾ãšã¯&lt;code&gt;Client&lt;/code&gt; structã‚’å®Ÿè£…ã™ã‚‹ï¼&lt;code&gt;Client&lt;/code&gt;ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«ã¯ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ¯ã«å…±é€šã«åˆ©ç”¨ã™ã‚‹å€¤ã‚’æŒãŸã›ã‚‹ã‚ˆã†ã«ã™ã‚‹ï¼HTTP APIã®å ´åˆã¯ä¾‹ãˆã°ä»¥ä¸‹ã®ã‚ˆã†ãªã‚‚ã®ãŒè€ƒãˆã‚‰ã‚Œã‚‹:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;url.URL&lt;/code&gt; - ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ¯ã«ãƒ‘ã‚¹ã¯ç•°ãªã‚‹ãŒãƒ™ãƒ¼ã‚¹ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã¯åŸºæœ¬çš„ã«ã¯å…±é€šã«ãªã‚‹ï¼ä¾‹ãˆã°ä»Šå›ã®å ´åˆã¯ &lt;a href=&#34;https://api.example.com&#34;&gt;https://api.example.com&lt;/a&gt; ã¯å…±é€šã§ã‚ã‚‹&lt;/li&gt;
&lt;li&gt;&lt;code&gt;http.Client&lt;/code&gt; - å„HTTP ãƒªã‚¯ã‚¨ã‚¹ãƒˆã«ã¯&lt;code&gt;net/http&lt;/code&gt;ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®&lt;code&gt;Client&lt;/code&gt;ã‚’ç”¨ã„ã‚‹ï¼ã“ã‚Œã¯åŒã˜ã‚‚ã®ã‚’ä½¿ã„å›ã™&lt;/li&gt;
&lt;li&gt;èªè¨¼æƒ…å ± - èªè¨¼ã«åˆ©ç”¨ã™ã‚‹æƒ…å ±ã‚‚åŸºæœ¬çš„ã«ã¯åŒã˜ã«ãªã‚‹ï¼ä¾‹ãˆã°ä»Šå›ã®å ´åˆã¯Basicèªè¨¼ã«å¿…è¦ãªãƒ¦ãƒ¼ã‚¶åã¨ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯å…±é€šã§ã‚ã‚‹ï¼ä»–ã«ã‚‚Tokenãªã©ãŒè€ƒãˆã‚‰ã‚Œã‚‹&lt;/li&gt;
&lt;li&gt;&lt;code&gt;log.Logger&lt;/code&gt; - ãƒ‡ãƒãƒƒã‚°ã®å‡ºåŠ›ã‚‚å…±é€šã§ã‚ã‚‹ï¼è‡ªåˆ†ã¯ã‚°ãƒ­ãƒ¼ãƒãƒ«ãª&lt;code&gt;log&lt;/code&gt;ã‚’ä½¿ã†ã‚ˆã‚Šã‚‚æ˜ç¤ºçš„ã«æŒ‡å®šã™ã‚‹ã®ã‚’å¥½ã‚€&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ä»Šå›ã®å ´åˆã¯ä»¥ä¸‹ã®ã‚ˆã†ã«å®Ÿè£…ã§ãã‚‹ï¼&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-golang&#34;&gt;type Client struct {
    URL        *url.URL
    HTTPClient *http.Client

    Username, Password string

    Logger *log.Logger
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;importã®ã‚ˆã†ã«é–¢é€£ã™ã‚‹ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã§ã‚°ãƒ¼ãƒ«ãƒ”ãƒ³ã‚°ã—ã¦è¨˜è¿°ã—ã¦ãŠãã¨èª­ã¿ã‚„ã™ã„ï¼&lt;/p&gt;

&lt;p&gt;ã¾ãŸåå‰ã¯&lt;code&gt;Client&lt;/code&gt;ã§ååˆ†ã§ã‚ã‚‹ï¼ä¾‹ãˆã°PagerDutyã®API Clientã‚’æ›¸ã„ã¦ã„ã‚‹ã¨ãã«&lt;code&gt;PagerDutyClient&lt;/code&gt;ã¨ã„ã†åå‰ã«ã—ãªã„ï¼ä¸Šè¿°ã—ãŸã‚ˆã†ã«æ—¢ã«ãã‚Œã¯ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åã§èª¬æ˜ã•ã‚Œã‚‹ã¯ãšã§ã‚ã‚‹ï¼&lt;code&gt;pagerduty.PagerDutyClient&lt;/code&gt;ã§ã¯å†—é•·ã«ãªã‚‹ï¼ç°¡æ½”ãªåå‰ã‚’å¿ƒãŒã‘ã‚‹ï¼&lt;/p&gt;

&lt;h3 id=&#34;ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã‚’å®šç¾©ã™ã‚‹&#34;&gt;ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã‚’å®šç¾©ã™ã‚‹&lt;/h3&gt;

&lt;p&gt;æ¬¡ã«&lt;code&gt;Client&lt;/code&gt;ã®ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã‚’å®šç¾©ã™ã‚‹ï¼ä¾‹ãˆã°ä»Šå›ã®å ´åˆã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚‹ï¼&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-golang&#34;&gt;func NewClient(urlStr, username, password string, logger *log.Logger) (*Client, error) 
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿å†…ã§ã¯å¿…é ˆã®æƒ…å ±ãŒä¸ãˆã‚‰ã‚Œã¦ã„ã‚‹ã‹ï¼Œãã®å€¤ã¯æœŸå¾…ã™ã‚‹ã‚‚ã®ã‹ã‚’ãƒã‚§ãƒƒã‚¯ã—ï¼Œãã†ã§ãªã‘ã‚Œã°ã‚¨ãƒ©ãƒ¼ã‚’è¿”ã™ï¼ˆä»¥ä¸‹ã§ã¯&lt;code&gt;pkg/errors&lt;/code&gt;ã‚’ä½¿ã£ã¦ã„ã‚‹ï¼‰ï¼&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-golang&#34;&gt;if len(username) == 0 {
    return nil, errors.New(&amp;quot;missing  username&amp;quot;)
}

if len(password) == 0 {
    return nil, errors.New(&amp;quot;missing user password&amp;quot;)
}
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code class=&#34;language-golang&#34;&gt;parsedURL, err := url.ParseRequestURI(urlStr)
if err != nil {
    return nil, errors.Wrapf(err, &amp;quot;failed to parse url: %s&amp;quot;, urlStr)
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å¿…é ˆã§ãªã„ã‚‚ã®ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’æº–å‚™ã—ã¦ãŠããã‚Œã‚’ä½¿ã†ï¼ä¾‹ãˆã°ä»Šå›ã®å ´åˆã¯&lt;code&gt;Logger&lt;/code&gt;ã¯å¿…é ˆã§ã¯ãªã„ï¼&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-golang&#34;&gt;var discardLogger = log.New(ioutil.Discard, &amp;quot;&amp;quot;, log.LstdFlags)
if logger == nil {
    logger = discardLogger
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;http.Client&lt;/code&gt;ã‚‚ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿å†…ã§ç”Ÿæˆã—&lt;code&gt;Client&lt;/code&gt;ã«ã‚»ãƒƒãƒˆã—ã¦ãŠãï¼ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚’ä½¿ã£ã¦ã‚‚è‰¯ã„ã—Proxyã‚„å„Timeoutã‚’å¤‰æ›´ã—ãŸã„å ´åˆã¯ç‹¬è‡ªã§æº–å‚™ã—ã¦ã‚‚è‰¯ã„ï¼ˆ&lt;code&gt;http.DefaultClient&lt;/code&gt;ã®å€¤ã¯ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«ã‚ˆã£ã¦å¤‰ã‚ã‚‹ã®ã§æ³¨æ„ã™ã‚‹ï¼ç‹¬è‡ªã®è¨­å®šã‚’ä½¿ã£ã¦ã„ã‚‹ã¨ãƒãƒ¼ã‚¸ãƒ§ãƒ³æ¯ã®æ–°ã—ã„è¨­å®šã«è¿½å¾“ã§ããªã„ã“ã¨ãŒã‚ã‚‹ï¼‰ï¼&lt;/p&gt;

&lt;h3 id=&#34;å…±é€šãƒ¡ã‚½ãƒƒãƒ‰ã‚’å®šç¾©ã™ã‚‹1&#34;&gt;å…±é€šãƒ¡ã‚½ãƒƒãƒ‰ã‚’å®šç¾©ã™ã‚‹1&lt;/h3&gt;

&lt;p&gt;API Clientã§ã¯å¤šãã®å…±é€šãƒ¡ã‚½ãƒƒãƒ‰ã‚’å®šç¾©ã§ãã‚‹ï¼ä»£è¡¨çš„ãªã®ã¯&lt;code&gt;http.Request&lt;/code&gt;ã‚’ä½œæˆã™ã‚‹ãƒ¡ã‚½ãƒƒãƒ‰ã§ã‚ã‚‹ï¼&lt;code&gt;http.NewRequest&lt;/code&gt;ã‚’ä½¿ã„&lt;code&gt;http.Request&lt;/code&gt;ã‚’ç”Ÿæˆã—Basicèªè¨¼ã®è¨­å®šã‚„ãƒ˜ãƒƒãƒ€ã®è¨­å®šã¨ã„ã£ãŸå…±é€šã®å‡¦ç†ã‚’è¡Œã†ï¼&lt;/p&gt;

&lt;p&gt;ä¾‹ãˆã°ä»Šå›ã®å ´åˆã¯ä»¥ä¸‹ã®ã‚ˆã†ã«æ›¸ã‘ã‚‹ï¼&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-golang&#34;&gt;var userAgent = fmt.Sprintf(&amp;quot;XXXGoClient/%s (%s)&amp;quot;, version, runtime.Version())

func (c *Client) newRequest(ctx context.Context, method, spath string, body io.Reader) (*http.Request, error) {
    u := *c.URL
    u.Path = path.Join(c.URL.Path, spath)

    req, err := http.NewRequest(method, u.String(), body)
    if err != nil {
        return nil, err
    }

    req = req.WithContext(ctx)

    req.SetBasicAuth(c.Username, c.Password)
    req.Header.Set(&amp;quot;Content-Type&amp;quot;, &amp;quot;application/x-www-form-urlencoded&amp;quot;)
    req.Header.Set(&amp;quot;User-Agent&amp;quot;, userAgent)

    return req, nil
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å¼•æ•°ã¯HTTP ãƒ¡ã‚½ãƒƒãƒ‰ã¨ãƒ‘ã‚¹åï¼Œãã—ã¦ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®Bodyï¼ˆ&lt;code&gt;io.Reader&lt;/code&gt;ï¼‰ã§ã‚ã‚‹ï¼ä»–ã«ã‚‚å¼•æ•°ãŒå¢—ãˆã‚‹å ´åˆã¯&lt;code&gt;RequestOpts&lt;/code&gt;ã®ã‚ˆã†ãªstructã‚’åˆ¥é€”æº–å‚™ã—ã¦æ¸¡ã™ã‚ˆã†ã«ã™ã‚‹ã¨ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã®å¤‰æ›´ãŒãªããªã‚Šï¼Œå‘¼ã³å‡ºã—å´ã®å¤‰æ›´ã‚³ã‚¹ãƒˆã‚’ãªãã™ã“ã¨ãŒã§ãã‚‹ï¼ˆref. &lt;a href=&#34;http://go-talks.appspot.com/github.com/yosssi/talks.yoss.si/2015/0220-good-package.slide#1&#34;&gt;Tips for Creating a Good Package&lt;/a&gt;ï¼‰ï¼&lt;/p&gt;

&lt;p&gt;ã•ã‚‰ã«Go1.7ä»¥é™ã§ã‚ã‚‹ãªã‚‰&lt;code&gt;context.Context&lt;/code&gt;ã‚’ã‚»ãƒƒãƒˆã™ã‚‹ã‚ˆã†ã«ã™ã‚Œã°ãƒ¢ãƒ€ãƒ³ã«ãªã‚‹ï¼ˆref. &lt;a href=&#34;http://go-talks.appspot.com/github.com/matope/talks/2016/context/context.slide#1&#34;&gt;context ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ç´¹ä»‹&lt;/a&gt;ï¼‰&lt;/p&gt;

&lt;p&gt;ã¾ãŸ&lt;code&gt;User-Agent&lt;/code&gt;ã‚’ã‚»ãƒƒãƒˆã—ã¦ãŠãã¨ã‚µãƒ¼ãƒå´ã«å„ªã—ã„ï¼Clientã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚„Goã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ã¤ã‘ã¦ãŠãã¨ã‚ˆã‚Šä¾¿åˆ©ã§ã‚ã‚‹ï¼&lt;/p&gt;

&lt;h3 id=&#34;å…±é€šãƒ¡ã‚½ãƒƒãƒ‰ã‚’å®šç¾©ã™ã‚‹2&#34;&gt;å…±é€šãƒ¡ã‚½ãƒƒãƒ‰ã‚’å®šç¾©ã™ã‚‹2&lt;/h3&gt;

&lt;p&gt;å¤šãã®APIã¯ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã¨ã—ã¦JSONã‚„XMLãªã©ã‚’è¿”ã™ï¼ã“ã‚Œã‚‰ã‚’Golangã®structã¸Decodeã™ã‚‹å‡¦ç†ã¯API Clientã§ã¯å…±é€šã®å‡¦ç†ã«ãªã‚‹ï¼ä¾‹ãˆã°JSONã®å ´åˆã¯ä»¥ä¸‹ã®ã‚ˆã†ãªé–¢æ•°ã‚’æº–å‚™ã—ã¦ãŠãã¨è‰¯ã„ï¼&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-golang&#34;&gt;func decodeBody(resp *http.Response, out interface{}) error {
    defer resp.Body.Close()
    decoder := json.NewDecoder(resp.Body)
    return decoder.Decode(out)
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ã¡ã‚ƒã‚“ã¨&lt;code&gt;Decoder&lt;/code&gt;ã‚’ä½¿ã†ï¼&lt;code&gt;ioutil.ReadAll&lt;/code&gt;ãªã©ã‚’ä½¿ã†ã¨ãƒ¡ãƒ¢ãƒªåŠ¹ç‡ã‚‚ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚‚è‰¯ããªã„ï¼ˆref. &lt;a href=&#34;https://www.datadoghq.com/blog/crossing-streams-love-letter-gos-io-reader&#34;&gt;Crossing Streams: a love letter to Go io.Reader&lt;/a&gt;ï¼Œ&lt;a href=&#34;https://medium.com/go-walkthrough/go-walkthrough-io-package-8ac5e95a9fbd#.xivkrapgz&#34;&gt;Go Walkthrough: io package&lt;/a&gt;ï¼‰ï¼&lt;/p&gt;

&lt;h3 id=&#34;å„ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å®šç¾©ã™ã‚‹&#34;&gt;å„ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å®šç¾©ã™ã‚‹&lt;/h3&gt;

&lt;p&gt;æœ€å¾Œã«ã“ã‚Œã‚‰ã‚’ä½¿ã£ã¦å„ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å®šç¾©ã™ã‚‹ï¼ä»Šå›ã®å ´åˆã¯ä»¥ä¸‹ã®ã‚ˆã†ãªãƒ¡ã‚½ãƒƒãƒ‰ãŒè€ƒãˆã‚‰ã‚Œã‚‹ï¼å¤–éƒ¨ã‹ã‚‰ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã§ãã‚‹ã‚ˆã†ã«&lt;code&gt;context.Context&lt;/code&gt;ã‚’æ¸¡ã™ï¼&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-golang&#34;&gt;func (c *Client) GetUser(ctx context.Context, userID string) (*User, error)
func (c *Client) CreateUser(ctx context.Context, name string) error
func (c *Client) DeleteUser(ctx context.Context, userID string) error
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¾‹ãˆã°&lt;code&gt;GetUser&lt;/code&gt;ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«å®Ÿè£…ã§ãã‚‹ï¼&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-golang&#34;&gt;func (c *Client) GetUser(ctx context.Context, userID string) (*User, error) {
    spath := fmt.Sprintf(&amp;quot;/users/%s&amp;quot;, userID)
    req, err := c.newRequest(ctx, &amp;quot;GET&amp;quot;, spath, nil)
    if err != nil {
        return nil, err
    }

    res, err := c.HTTPClient.Do(req)
    if err != nil {
        return nil, err
    }
    
    // Check status code hereâ€¦

    var user User
    if err := decodeBody(res, &amp;amp;user); err != nil {
        return nil, err
    }

    return &amp;amp;user, nil
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ¡ã‚½ãƒƒãƒ‰ã¯ä¸Šè¨˜ã§å®šç¾©ã—ãŸå…±é€šãƒ¡ã‚½ãƒƒãƒ‰ã§&lt;code&gt;http.Request&lt;/code&gt;ã‚’ä½œæˆã—&lt;code&gt;Client&lt;/code&gt;ã®&lt;code&gt;HTTPClient&lt;/code&gt;ã‚’åˆ©ç”¨ã—ã¦å®Ÿéš›ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å®Ÿè¡Œã™ã‚‹ï¼ãã—ã¦ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®Decodeã‚’è¡Œã†ï¼ç•°ãªã‚‹ã®ã¯ãƒ‘ã‚¹åã‚„ãƒªã‚¯ã‚¨ã‚¹ãƒˆBodyã§ã‚ã‚‹ï¼ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰ã®ãƒã‚§ãƒƒã‚¯ã‚‚ã“ã“ã§è¡Œã†ï¼&lt;/p&gt;

&lt;h2 id=&#34;ã„ãã¤ã‹ã®ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯&#34;&gt;ã„ãã¤ã‹ã®ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯&lt;/h2&gt;

&lt;p&gt;ä»¥ä¸‹ã§ã¯è‡ªåˆ†ãŒå®Ÿè·µã—ã¦ã„ã‚‹ã„ãã¤ã‹ã®ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã‚’ç´¹ä»‹ã™ã‚‹ï¼&lt;/p&gt;

&lt;h3 id=&#34;insecureã‚ªãƒ—ã‚·ãƒ§ãƒ³&#34;&gt;insecureã‚ªãƒ—ã‚·ãƒ§ãƒ³&lt;/h3&gt;

&lt;p&gt;&lt;code&gt;Client&lt;/code&gt;ã®ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã«æ¸¡ã™å€¤ã¨ã—ã¦&lt;code&gt;insecure&lt;/code&gt;ï¼ˆ&lt;code&gt;bool&lt;/code&gt;ï¼‰ã¯ã‚ˆãä½¿ã†ï¼ä¾‹ãˆã°ç¤¾å†…ã®å¤ã„ã‚µãƒ¼ãƒ“ã‚¹ã‚„ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ç’°å¢ƒã ã¨è‡ªå·±ç½²åè¨¼æ˜æ›¸ã‚’ä½¿ã£ã¦ã„ã‚‹å ´åˆãŒã‚ã‚Š&lt;code&gt;InsecureSkipVerify&lt;/code&gt;ã‚’æœ‰åŠ¹ã«ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ï¼&lt;code&gt;insecure&lt;/code&gt;ã¯ã“ã®è¨­å®šã«ä½¿ã†ï¼ä¾‹ãˆã°ä»¥ä¸‹ã®ã‚ˆã†ã«åˆ‡ã‚Šæ›¿ãˆã‚’è¡Œã†ï¼&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-golang&#34;&gt;tlsConfig := tls.Config{
    InsecureSkipVerify: insecure,
}

transport := *http.DefaultTransport.(*http.Transport)
transport.TLSClientConfig = &amp;amp;tlsConfig

c.HTTPClient = &amp;amp;http.Client{
    Transport: &amp;amp;transport,
}
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;symmetric-api-testing&#34;&gt;Symmetric API testing&lt;/h3&gt;

&lt;p&gt;&lt;a href=&#34;https://blog.gopheracademy.com/advent-2015/symmetric-api-testing-in-go/&#34;&gt;Symmetric API Testing&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;API Clientã‚’æ›¸ãã¨ãã‚‚ãƒ†ã‚¹ãƒˆã¯å¤§åˆ‡ã§ã‚ã‚‹ï¼ã‚‚ã£ã¨ã‚‚ç°¡å˜ã§ç¢ºå®Ÿãªã®ã¯å®Ÿéš›ã«APIã«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æŠ•ã’ã¦ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒæœŸå¾…ã™ã‚‹ã‚‚ã®ã§ã‚ã‚‹ã‹ã‚’ç¢ºèªã™ã‚‹æ–¹æ³•ã§ã‚ã‚‹ï¼ã—ã‹ã—APIã«ã‚ˆã£ã¦ã¯ãƒªã‚¯ã‚¨ã‚¹ãƒˆã«åˆ¶é™ãŒã‚ã‚‹ã—ï¼ŒRTTã‚’è€ƒãˆã‚‹ã¨ãƒ†ã‚¹ãƒˆã®æ™‚é–“ã‚‚é•·ããªã‚‹ï¼Œã¾ãŸã‚ªãƒ•ãƒ©ã‚¤ãƒ³ã§ãƒ†ã‚¹ãƒˆã™ã‚‹ã“ã¨ãŒã§ããªã„ï¼ã“ã‚Œã‚’è§£æ±ºã™ã‚‹ã®ãŒGopher Academyã§ç´¹ä»‹ã•ã‚Œã¦ã„ãŸSymmetric API Testingã§ã‚ã‚‹ï¼&lt;/p&gt;

&lt;p&gt;è©³ã—ãã¯ä¸Šè¨˜ã®ãƒªãƒ³ã‚¯ã‚’èª­ã‚€ã®ãŒè‰¯ã„ãŒï¼Œç°¡å˜ã«ã„ã†ã¨APIã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã®ãƒ‡ã‚£ã‚¹ã‚¯ã«ä¿å­˜ã—ã¦æ¬¡å›ã‹ã‚‰ãã‚Œã‚’ä½¿ã£ã¦ãƒ†ã‚¹ãƒˆã™ã‚‹æ–¹æ³•ã§ã‚ã‚‹ï¼ä¾‹ãˆã°ä¸Šã§ç´¹ä»‹ã—ãŸ&lt;code&gt;decodeBody&lt;/code&gt;ã‚’ä»¥ä¸‹ã®ã‚ˆã†ã«å¤‰æ›´ã™ã‚‹ï¼&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-golang&#34;&gt;func decodeBody(resp *http.Response, out interface{}, f *os.File) error {
    defer resp.Body.Close()

    if f != nil {
        resp.Body = ioutil.NopCloser(io.TeeReader(resp.Body, f))
        defer f.Close()
    }

    decoder := json.NewDecoder(resp.Body)
    return decoder.Decode(out)
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;io.TeeReader&lt;/code&gt;ã‚’ä½¿ã„&lt;code&gt;os.File&lt;/code&gt;ãŒæ¸¡ã•ã‚ŒãŸå ´åˆã«Decodeã¨åŒæ™‚ã«ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’ãƒ•ã‚¡ã‚¤ãƒ«ã«æ›¸ãè¾¼ã‚€ï¼&lt;/p&gt;

&lt;p&gt;å®Ÿéš›ã«ãƒ†ã‚¹ãƒˆã‚’è¡Œã†ã¨ãã¯ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’&lt;code&gt;httptest&lt;/code&gt;ã§è¿”ã™ã‚ˆã†ã«ã™ã‚‹ï¼ä¾‹ãˆã°&lt;code&gt;/users/1&lt;/code&gt;ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’&lt;code&gt;testadata/users-1.json&lt;/code&gt;ã«ä¿å­˜ã—ãŸã¨ã™ã‚‹ï¼&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-golang&#34;&gt;muxAPI := http.NewServeMux()
testAPIServer := httptest.NewServer(muxAPI)
defer testAPIServer.Close()

muxAPI.HandleFunc(&amp;quot;/users/1&amp;quot;, func(w http.ResponseWriter, r *http.Request) {
    http.ServeFile(w, r, &amp;quot;testdata/users-1.json&amp;quot;)
})
...
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ã“ã‚Œã§å®Ÿéš›ã®APIãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é¿ã‘ã¦ãƒ†ã‚¹ãƒˆã‚’è¡Œã†ã“ã¨ãŒã§ãã‚‹ï¼&lt;/p&gt;

&lt;h3 id=&#34;ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯é–¢é€£ã®ãƒ‡ãƒãƒƒã‚°&#34;&gt;ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯é–¢é€£ã®ãƒ‡ãƒãƒƒã‚°&lt;/h3&gt;

&lt;p&gt;&lt;code&gt;Client&lt;/code&gt;ã‚’å®šç¾©ã™ã‚‹ã¨ãã«&lt;code&gt;log.Logger&lt;/code&gt;ã‚’æ¸¡ã™ã‚ˆã†ã«ã—ãŸãŒã“ã‚Œã¯ãƒ‡ãƒãƒƒã‚°ã«ç”¨ã„ã‚‹ï¼API Clientã§ã‚‚ãƒ‡ãƒãƒƒã‚°ã¯é‡è¦ã§ã‚ã‚‹ï¼ãƒªã‚¯ã‚¨ã‚¹ãƒˆBodyãªã©ã¯ã‚‚ã¡ã‚ã‚“ã ãŒï¼Œä»¥ä¸‹ã®ã‚ˆã†ã«ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã«é–¢ã‚ã‚‹æƒ…å ±ã‚’ãƒ‡ãƒãƒƒã‚°ã¨ã—ã¦å‡ºåŠ›ã—ã¦ãŠãã¨å•é¡ŒãŒèµ·ã“ã£ãŸã¨ãã«è§£æ±ºã—ã‚„ã™ã„ï¼&lt;/p&gt;

&lt;p&gt;Goã®&lt;code&gt;http.Client&lt;/code&gt;ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ç’°å¢ƒå¤‰æ•°ï¼ˆ&lt;code&gt;http_proxy&lt;/code&gt;ã¨&lt;code&gt;https_proxy&lt;/code&gt;ï¼‰ã‚’å‚ç…§ã—Proxyã‚’è¨­å®šã™ã‚‹ï¼è¤‡é›‘ãªãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ç’°å¢ƒã‹ã‚‰ä½¿ã‚ã‚ŒãŸå ´åˆçµå±€ProxyãŒå•é¡Œã®åŸå› ã«ãªã£ã¦ã‚‹ã“ã¨ãŒå¤šã„ï¼ãã®ãŸã‚ä»¥ä¸‹ã®ã‚ˆã†ã«Proxyæƒ…å ±ã‚‚åŸºæœ¬ã¯ãƒ‡ãƒãƒƒã‚°ã§å‡ºåŠ›ã•ã‚Œã‚‹ã‚ˆã†ã«ã—ã¦ãŠãã¨è‰¯ã„ï¼ä¸Šã§ã„ã†ã¨&lt;code&gt;newRequest&lt;/code&gt;ã«ã“ã‚Œã¯æ›¸ã‘ã‚‹ï¼&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-golang&#34;&gt;proxy := &amp;quot;no&amp;quot;
if proxyURL, _ := http.ProxyFromEnvironment(req); proxyURL != nil {
    proxy = proxyURL.String()
}
c.Logger.Printf(&amp;quot;[DEBUG] request proxy: %s&amp;quot;, proxy)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;HTTPãƒªã‚¯ã‚¨ã‚¹ãƒˆã®ã©ã“ã§æ™‚é–“ãŒã‹ã‹ã£ã¦ã„ã‚‹ã‹ã‚ã‹ã‚‹ã¨å•é¡Œã®åˆ‡ã‚Šåˆ†ã‘ãŒã—ã‚„ã™ã„ï¼&lt;a href=&#34;https://github.com/tcnksm/go-httpstat&#34;&gt;tcnksm/go-httpstat&lt;/a&gt;ã‚’ä½¿ã†ã¨DNSLookupã‚„TLSHandshakeã®ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·ã‚’ç°¡å˜ã«æ¸¬å®šã™ã‚‹ã“ã¨ãŒã§ãã‚‹ï¼è©³ã—ãã¯&lt;a href=&#34;https://medium.com/@deeeet/trancing-http-request-latency-in-golang-65b2463f548c#.i8unan3sy&#34;&gt;Tracing HTTP request latency in golang&lt;/a&gt; ã«æ›¸ã„ãŸï¼&lt;/p&gt;

&lt;h2 id=&#34;ã¾ã¨ã‚&#34;&gt;ã¾ã¨ã‚&lt;/h2&gt;

&lt;p&gt;API Clientã¯æœ€åˆã«æ›¸ãGolang ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¨ã—ã¦ã‚‚è‰¯ã„ã¨æ€ã†ï¼&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Golangã«ãŠã‘ã‚‹interfaceã‚’ã¤ã‹ã£ãŸãƒ†ã‚¹ãƒˆæŠ€æ³•</title>
      <link>http://deeeet.com/writing/2016/10/25/go-interface-testing/</link>
      <pubDate>Tue, 25 Oct 2016 09:26:51 +0900</pubDate>
      
      <guid>http://deeeet.com/writing/2016/10/25/go-interface-testing/</guid>
      <description>

&lt;p&gt;æœ€è¿‘ä½•åº¦ã‹èã‹ã‚ŒãŸã®ã§è‡ªåˆ†ãŒGolangã§CLIãƒ„ãƒ¼ãƒ«ã‚„APIã‚µãƒ¼ãƒãƒ¼ã‚’æ›¸ãã¨ãã«å®Ÿè·µã—ã¦ã‚‹interfaceã‚’ä½¿ã£ãŸãƒ†ã‚¹ãƒˆæŠ€æ³•ã«ã¤ã„ã¦ç°¡å˜ã«æ›¸ã„ã¦ãŠãï¼ã¾ãšã¯interfaceã‚’ä½¿ã£ãŸãƒ†ã‚¹ãƒˆã®åŸºæœ¬ã«ã¤ã„ã¦èª¬æ˜ã—æ¬¡ã«è‡ªåˆ†ãŒå®Ÿè·µã—ã¦ã„ã‚‹ç°¡å˜ãªãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã‚’ã„ãã¤ã‹ç´¹ä»‹ã™ã‚‹ï¼&lt;/p&gt;

&lt;p&gt;ãªãŠGolangã®ãƒ†ã‚¹ãƒˆã®åŸºæœ¬ã«ã¤ã„ã¦ã¯ &lt;a href=&#34;https://twitter.com/suzu_v&#34;&gt;@suzuken&lt;/a&gt; ã•ã‚“ã«ã‚ˆã‚‹&lt;a href=&#34;https://www.amazon.co.jp/dp/477418392X&#34;&gt;ã€Œã¿ã‚“ãªã®Goè¨€èªã€&lt;/a&gt; ã®6ç« ãŒæœ€é«˜ãªã®ã§ä»Šã™ãè²·ã£ã¦ãã‚Œï¼&lt;/p&gt;

&lt;h2 id=&#34;å‰æ&#34;&gt;å‰æ&lt;/h2&gt;

&lt;p&gt;è‡ªåˆ†ã¯ãƒ†ã‚¹ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚„å¤–éƒ¨ãƒ„ãƒ¼ãƒ«ã¯å…¨ãä½¿ã‚ãªã„ï¼æ¨™æº–ã®&lt;code&gt;testing&lt;/code&gt;ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã¿ã‚’ä½¿ã†ï¼&lt;a href=&#34;https://golang.org/doc/faq#Packages_Testing&#34;&gt;https://golang.org/doc/faq#Packages_Testing&lt;/a&gt; ã«ã‚‚æ›¸ã‹ã‚Œã¦ã„ã‚‹ã‚ˆã†ã«ãƒ†ã‚¹ãƒˆã®ãŸã‚ã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’ä½¿ã†ã“ã¨ã¯æ–°ãŸãªMini languageï¼ˆDSLï¼‰ã‚’å°å…¥ã™ã‚‹ã“ã¨ã¨å¤‰ã‚ã‚‰ãªã„ï¼æœ€åˆã«ãã‚Œã‚’æ›¸ãäººã¯æ¥½ã«ãªã‚‹ã‹ã‚‚ã—ã‚Œãªã„ãŒæ–°ã—ããƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«å‚å…¥ã—ã¦ããŸã²ã¨ã«ã¯ã‚³ã‚¹ãƒˆã«ã—ã‹ãªã‚‰ãªã„ï¼ˆGolangä»¥å¤–ã‚‚å­¦ã¶å¿…è¦ãŒã‚ã‚‹ï¼‰ï¼ä¾‹ãˆã°è‡ªåˆ†ãŒã‚ã‚‹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«Contributeã—ã‚ˆã†ã¨ã—ã¦è¦‹ãŸã“ã¨ã‚‚ãªã„ãƒ†ã‚¹ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ãŒä½¿ã‚ã‚Œã¦ã„ã‚‹ã¨ãŒã£ãã‚Šã™ã‚‹ï¼&lt;/p&gt;

&lt;p&gt;ã¨ã«ã‹ãGolangã ã‘ã§æ›¸ãã®ãŒæ°—æŒã¡ãŒã„ã„ï¼Œã«å°½ãã‚‹ï¼&lt;/p&gt;

&lt;h2 id=&#34;ãƒ†ã‚¹ãƒˆã¨interface&#34;&gt;ãƒ†ã‚¹ãƒˆã¨interface&lt;/h2&gt;

&lt;p&gt;ãƒ†ã‚¹ãƒˆã¨ã„ã†è¦³ç‚¹ã‹ã‚‰ã¿ãŸå ´åˆã®interfaceã®åˆ©ç‚¹ã¯ä½•ã‹ï¼Ÿ interfaceã‚’ä½¿ãˆã°ã€Œå®Ÿéš›ã®å®Ÿè£…ã€ã‚’æ°—ã«ã—ãªã„ã§ã€ŒæŒ¯ã‚‹èˆã„ã€ã‚’æ¸¡ã™ã“ã¨ãŒã§ãã‚‹ï¼ã¤ã¾ã‚Šå®Ÿè£…ã®åˆ‡ã‚Šæ›¿ãˆãŒå¯èƒ½ã«ãªã‚‹ï¼interfaceã‚’ä½¿ã†ã“ã¨ã§ã„ã‚ã‚†ã‚‹&lt;a href=&#34;https://en.wikipedia.org/wiki/Mock_object&#34;&gt;ãƒ¢ãƒƒã‚¯&lt;/a&gt;ãŒå®Ÿç¾ã§ãã‚‹ï¼&lt;/p&gt;

&lt;h2 id=&#34;ã©ã“ã‚’interfaceã«ã™ã‚‹ã®ã‹&#34;&gt;ã©ã“ã‚’interfaceã«ã™ã‚‹ã®ã‹ï¼Ÿ&lt;/h2&gt;

&lt;p&gt;interfaceã¯ãƒ¢ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆã¨æ€ãˆã°è‰¯ã„ï¼å¤–ç•Œã¨ã‚„ã‚Šã¨ã‚Šã‚’è¡Œã†å¢ƒç•Œã‚’interfaceã«ã™ã‚‹ï¼ŒãŒåŸºæœ¬ï¼å¤–ç•Œã¨ã®å¢ƒç•Œã¨ã¯ä¾‹ãˆã°DBã¨ã‚„ã‚Šã¨ã‚Šã‚’è¡Œã†éƒ¨åˆ†ã‚„å¤–éƒ¨APIã«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æŠ•ã’ã‚‹Clientã§ã‚ã‚‹ï¼ä»–ã«ã‚‚è€ƒãˆã‚‰ã‚Œã‚‹ãŒã¨ã‚Šã‚ãˆãšã“ã“ã‚’interfaceã«ã™ã‚‹ï¼&lt;/p&gt;

&lt;h2 id=&#34;å®Ÿä¾‹&#34;&gt;å®Ÿä¾‹&lt;/h2&gt;

&lt;p&gt;ä»¥ä¸‹ã§ã¯ç°¡å˜ãªAPIã‚µãƒ¼ãƒãƒ¼ã‚’æ›¸ãã¨ã—ã¦interfaceã«ã‚ˆã‚‹ãƒ†ã‚¹ãƒˆæ‰‹æ³•ã®èª¬æ˜ã‚’è¡Œã†ï¼ã“ã®APã‚µãƒ¼ãƒãƒ¼ã¯DBã¨ã—ã¦Redisã‚’ä½¿ã†ã¨ã™ã‚‹ï¼ãªãŠã‚³ãƒ¼ãƒ‰ã¯å…¨ã¦pseudoã§ã‚ã‚‹ï¼&lt;/p&gt;

&lt;p&gt;ã¾ãšã¯DBã®interfaceã‚’å®šç¾©ã™ã‚‹ï¼&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-golang&#34;&gt;type DB interface {
    Get(key string) string
    Set(key, value string) error
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æ¬¡ã«å®Ÿéš›ã®Redisã‚’ä½¿ã£ãŸå®Ÿè£…ã‚’æ›¸ãï¼ä¾‹ãˆã°ä»¥ä¸‹ã®ã‚ˆã†ã«æ›¸ã‘ã‚‹ï¼&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-golang&#34;&gt;type Redis struct {
    // æ¥ç¶šæƒ…å ±ãªã©
}

func (r *Redis) Get(key string) string 
func (r *Redis) Set(key, value string) error
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;mainé–¢æ•°ã‹ã‚‰å‘¼ã³å‡ºã™ã¨ãã®ã“ã¨ã‚’è€ƒãˆã¦ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã‚’å®Ÿè£…ã™ã‚‹ã¨è‰¯ã„ï¼ˆå¿…è¦ãªæ¥ç¶šæƒ…å ±ãªã©ãŒä¸ãˆã‚‰ã‚Œãªã‹ã£ãŸæ™‚ï¼Œã‚‚ã—ãã¯å¿…è¦ãªåˆæœŸåŒ–å‡¦ç†ã«å¤±æ•—ã—ãŸæ™‚ã«ã‚¨ãƒ©ãƒ¼ã‚’è¿”ã›ã‚‹ï¼‰ï¼&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-golang&#34;&gt;func NewRedis() (DB, error)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ã“ã“ã§é‡è¦ãªã®ã¯å®Ÿéš›ã®å®Ÿè£…ã§ã‚ã‚‹&lt;code&gt;Redis&lt;/code&gt;ã‚’è¿”ã™ã®ã§ã¯ãªãinterfaceã®&lt;code&gt;DB&lt;/code&gt;ã‚’è¿”ã™ã“ã¨ï¼ã‚µãƒ¼ãƒãƒ¼å´ã§ã¯ã“ã®interfaceã‚’ä½¿ã†ï¼&lt;/p&gt;

&lt;p&gt;ã‚µãƒ¼ãƒãƒ¼ã®å®Ÿè£…ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ã™ã‚‹ï¼&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-golang&#34;&gt;type Server struct {
     DB DB
}

func (s *Server) Start() error
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;Server&lt;/code&gt;ã¯interfaceã®&lt;code&gt;DB&lt;/code&gt;ã‚’æŒã¡å†…éƒ¨ã®å®Ÿè£…ï¼ˆä¾‹ãˆã°handlerãªã©ï¼‰ã§ã¯ã“ã®interfaceã‚’åˆ©ç”¨ã™ã‚‹ï¼&lt;/p&gt;

&lt;p&gt;mainé–¢æ•°ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«æ›¸ã‘ã‚‹ï¼ˆmainé–¢æ•°ã«ã¯ä»–ã«ã‚‚flagã®å‡¦ç†ã‚„è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã¿ãã‚Œã‚’å„ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã«æ¸¡ã™ã¨ã„ã†å‡¦ç†ãŒè€ƒãˆã‚‰ã‚Œã‚‹ï¼‰ï¼&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-golang&#34;&gt;func main() {
     redis, err := NewRedis()
     if err != nil {
         log.Fatal(err)
     }

     server := &amp;amp;Server{
         DB: redis,
     }

     if err := server.Start(); err != nil {
         log.Fatal(err)
     }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ã§ã¯&lt;code&gt;Server&lt;/code&gt;ã®ãƒ†ã‚¹ãƒˆã¯ã©ã†ã™ã‚Œã°è‰¯ã„ã‹ï¼Ÿä¾‹ãˆã°ä»Šã§ã‚ã‚Œã°Dockerã‚’ä½¿ã„Redisã‚’æº–å‚™ã™ã‚‹ã“ã¨ã‚’è€ƒãˆã‚‹ã‹ã‚‚ã—ã‚Œãªã„ï¼ãã‚ŒãŒå®¹æ˜“ã§ã¯ãªã„å ´åˆï¼Œã‚‚ã—ãã¯å¤–éƒ¨ä¾å­˜ã®ãªã„ãƒ†ã‚¹ãƒˆã‚’æ›¸ããŸã„å ´åˆã¯ãƒ¢ãƒƒã‚¯ã‚’è€ƒãˆã‚‹ï¼ä»¥ä¸‹ã®ã‚ˆã†ã«&lt;code&gt;DB&lt;/code&gt; interfaceã‚’æº€ãŸã™ãƒ¢ãƒƒã‚¯å®Ÿè£…ã‚’æº–å‚™ã™ã‚‹ï¼&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-golang&#34;&gt;type TestDB struct {
}

func (d *TestDB) Get(key string) string 
func (d *TestDB) Set(key, value string) error 
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å…·ä½“çš„ãªå®Ÿè£…ã¯æ›¸ã„ã¦ãªã„ãŒä¾‹ãˆã°ãƒ•ã‚§ã‚¤ã‚¯ã®å€¤ã‚„ãƒ•ã‚§ã‚¤ã‚¯ã®&lt;code&gt;error&lt;/code&gt;ã‚’è¿”ã™ã‚ˆã†ã«ã™ã‚‹ï¼ˆã“ã‚Œã‚’è€ƒãˆã‚‹ã“ã¨ã‚‚ã‚ˆã‚Šè‰¯ã„å®Ÿè£…ã«ã¤ãªãŒã‚‹ã¨æ€ã†ï¼‰ï¼&lt;/p&gt;

&lt;p&gt;ã“ã‚Œã‚’åˆ©ç”¨ã™ã‚Œã°&lt;code&gt;Server&lt;/code&gt;ã®ãƒ†ã‚¹ãƒˆã¯ä»¥ä¸‹ã®ã‚ˆã†ã«æ›¸ã‘ã‚‹ï¼&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-golang&#34;&gt;func TestServer(t *testing.T) {
     testDB := &amp;amp;TestDB{}

     server := &amp;amp;Server{
         DB: testDB,
     }    
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;Server&lt;/code&gt;ãŒå¿…è¦ãªã®ã¯&lt;code&gt;DB&lt;/code&gt; interfaceï¼ˆæŒ¯ã‚‹èˆã„ï¼‰ã§ã‚ã‚Šå®Ÿéš›ã®å®Ÿè£…ã¯ä½•ã§ã‚‚è‰¯ã„ï¼ã“ã‚Œã§å®Ÿéš›ã«Redisã‚’æº–å‚™ã™ã‚‹ã“ã¨ãªã&lt;code&gt;Server&lt;/code&gt;ã®å‹•ãã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã“ã¨ãŒã§ãã‚‹ï¼&lt;/p&gt;

&lt;p&gt;ä»¥ä¸ŠãŒinterfaceã‚’ä½¿ã£ãŸãƒ†ã‚¹ãƒˆæ‰‹æ³•ã®åŸºç¤ã§ã‚ã‚‹ï¼ã“ã“ã§ã¯DBã‚’ä¾‹ã«ã—ãŸãŒä»–ã«ã‚‚å¤–éƒ¨APIã¨ã‚„ã‚Šå–ã‚Šã‚’è¡Œã†Clientãªã©ã«ã‚‚å¿œç”¨ã§ãã‚‹ï¼ã¾ãŸä»Šå›ã¯interfaceã‹ã‚‰å®Ÿè£…ã—ãŸãŒã™ã§ã«å®Ÿéš›ã®å®Ÿè£…ãŒã‚ã‚‹å ´åˆã‚‚ãã‚Œã«å¯¾å¿œã—ãŸinterfaceã‚’å®šç¾©ã—ã¦ã—ã¾ãˆã°åŒæ§˜ã®ãƒ†ã‚¹ãƒˆã‚’æ›¸ãã“ã¨ãŒã§ãã‚‹ï¼&lt;/p&gt;

&lt;h2 id=&#34;ã„ãã¤ã‹ã®ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯&#34;&gt;ã„ãã¤ã‹ã®ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯&lt;/h2&gt;

&lt;p&gt;ä»¥ä¸‹ã§ã¯è‡ªåˆ†ãŒå®Ÿè·µã—ã¦ã„ã‚‹ã„ãã¤ã‹ã®ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã‚’ç´¹ä»‹ã™ã‚‹ï¼&lt;/p&gt;

&lt;h2 id=&#34;ç’°å¢ƒå¤‰æ•°ã§åˆ‡ã‚Šæ›¿ãˆã‚‹&#34;&gt;ç’°å¢ƒå¤‰æ•°ã§åˆ‡ã‚Šæ›¿ãˆã‚‹&lt;/h2&gt;

&lt;p&gt;æ¯å›å…¨ã¦ã®ãƒ†ã‚¹ãƒˆã‚’ãƒ¢ãƒƒã‚¯ã«ã™ã‚Œã°è‰¯ã„ã‚ã‘ã§ã¯ãªã„ï¼ã¡ã‚ƒã‚“ã¨å®Ÿéš›ã®å®Ÿè£…ã«ã‚ˆã‚‹ãƒ†ã‚¹ãƒˆã‚‚å¿…è¦ã§ã‚ã‚‹ï¼è‡ªåˆ†ã¯ã“ã®åˆ‡ã‚Šæ›¿ãˆã«ç’°å¢ƒå¤‰æ•°ã‚’ä½¿ã†ï¼ç’°å¢ƒå¤‰æ•°ã‚’ä½¿ã†ã®ã¯CIã¨ã®ç›¸æ€§ãŒè‰¯ã„ã‹ã‚‰ã§ã‚ã‚‹ï¼&lt;/p&gt;

&lt;p&gt;è¿½è¨˜: ã„ãã¤ã‹ã“ã®ã‚„ã‚Šæ–¹ã«èª¤è§£ãŒã‚ã£ãŸã®ã§ï¼ã“ã®ç’°å¢ƒå¤‰æ•°ã®åˆ‡ã‚Šæ›¿ãˆã¯ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ï¼ˆ&lt;code&gt;*_test.go&lt;/code&gt;ï¼‰å†…ã«æ›¸ãï¼æœ¬ç•ªç”¨ã®ã‚³ãƒ¼ãƒ‰ã¨ã¯åˆ¥ã«ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã‚’å®Ÿè£…ã—ã¦åˆ‡æ›¿ã‚’å®Ÿç¾ã™ã‚‹ï¼ˆãªã®ã§æœ¬ç•ªã®ã‚³ãƒ¼ãƒ‰ã§ç’°å¢ƒå¤‰æ•°ã«ã‚ˆã£ã¦ãƒ¢ãƒƒã‚¯ãŒä½¿ã‚ã‚Œã¦ã—ã¾ã†ã¨ã„ã†èª¤çˆ†ã¯ãªã„ï¼‰ï¼&lt;/p&gt;

&lt;p&gt;ä¾‹ãˆã°ä»¥ä¸‹ã®ã‚ˆã†ãªã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã‚’æº–å‚™ã™ã‚‹ï¼&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-golang&#34;&gt;
const (
     EnvTestDSN = &amp;quot;TEST_DSN&amp;quot;
)

func NewTestDB(t *testing.T) (DB, func()) {
     dsn := os.Getenv(EnvTestDSN)
     if len(den) == 0 {
           t.Log(&amp;quot;Use TestDB&amp;quot;)
           return &amp;amp;TestDB{}, func() {}
     }

    db, err := NewPostgreSQL(dsn)
     if err != nil {
         t.Fatal(â€œNewPostgreSQL failed: â€,err)
      }

     return db, func() {
         pSQL := db.(*PostgreSQL)
         pSQL.DB.DropTable(&amp;amp;SplunkInfo{})
     }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ç’°å¢ƒå¤‰æ•°ã¨ã—ã¦æ¥ç¶šæƒ…å ±ï¼ˆ&lt;code&gt;DSN&lt;/code&gt;ï¼‰ãŒä¸ãˆã‚‰ã‚ŒãŸå ´åˆã¯å®Ÿéš›ã®å®Ÿè£…ã§ã‚ã‚‹&lt;code&gt;PosgreSQL&lt;/code&gt;ã‚’è¿”ã—å®Ÿéš›ã®DBã§ãƒ†ã‚¹ãƒˆã—ï¼ä¸ãˆã‚‰ã‚Œãªã„å ´åˆã¯ãƒ¢ãƒƒã‚¯ã®å®Ÿè£…ã§ãƒ†ã‚¹ãƒˆã‚’è¡Œã†ï¼&lt;/p&gt;

&lt;p&gt;ã¡ãªã¿ã«2ã¤ç›®ã®è¿”ã‚Šå€¤ã¯DBã‚’Cleanupã™ã‚‹ãŸã‚ã®é–¢æ•°ã§å‘¼ã³å‡ºã—å´ã§ã¯&lt;code&gt;defer&lt;/code&gt;ã¨ä¸€ç·’ã«ä½¿ã†ï¼ˆä¾‹ãˆã°Dockerãªã©ã§Ephemeralãªãƒ‡ãƒ¼ã‚¿ã‚¹ãƒˆã‚¢ã‚’ä½¿ã†å ´åˆã«ãƒ‡ãƒ¼ã‚¿ã‚’æ¶ˆã—ã¦ã¾ã£ã•ã‚‰ãªçŠ¶æ…‹ã«æˆ»ã™ï¼‰ï¼&lt;/p&gt;

&lt;h2 id=&#34;å¤–éƒ¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ä¸€éƒ¨ã‚’interfaceã¨ã—ã¦åˆ‡ã‚Šå‡ºã™&#34;&gt;å¤–éƒ¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ä¸€éƒ¨ã‚’interfaceã¨ã—ã¦åˆ‡ã‚Šå‡ºã™&lt;/h2&gt;

&lt;p&gt;ä¾‹ãˆã°å¤–éƒ¨ã®APIã‚’åˆ©ç”¨ã™ã‚‹å ´åˆã¯å…¬å¼ãªã©ãŒæä¾›ã—ã¦ã„ã‚‹Clientãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ä½¿ã£ã¦ã—ã¾ã†ã®ãŒæ‰‹ã£å–ã‚Šæ—©ã„ï¼ç‰¹ã«APIã®å ´åˆã¯ãƒªã‚¯ã‚¨ã‚¹ãƒˆã«åˆ¶é™ãŒã‚ã£ãŸã‚Šå®‰æ˜“ã«å‘¼ã³å‡ºã›ãªã„ã‚‚ã®ã‚ã‚‹ã®ã§ãƒ¢ãƒƒã‚¯ãŒå¤§åˆ‡ã«ãªã‚‹ï¼ã“ã®å ´åˆã¯è‡ªåˆ†ã¯å¿…è¦ãªéƒ¨åˆ†ã®ã¿ã‚’interfaceã¨ã—ã¦åˆ‡ã‚Šå‡ºã™ã¨ã„ã†æ–¹æ³•ã‚’ã¨ã‚‹ï¼ˆä»–ã«ã‚‚ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’ä¿å­˜ã™ã‚‹&lt;a href=&#34;https://blog.gopheracademy.com/advent-2015/symmetric-api-testing-in-go/&#34;&gt;Symmetric API Testing&lt;/a&gt;ã¨ã„ã†æ–¹æ³•ã‚‚ã‚ã‚‹ï¼‰ï¼&lt;/p&gt;

&lt;p&gt;ä¾‹ãˆã°GitHubã®APIã‚’ä½¿ã„ãŸã„å ´åˆã¯ &lt;a href=&#34;https://github.com/google/go-github&#34;&gt;https://github.com/google/go-github&lt;/a&gt; ã‚’ä½¿ã†ãŒï¼Œä»¥ä¸‹ã®ã‚ˆã†ã«å¿…è¦ãªã‚‚ã®ã‚’åˆ‡ã‚Šå‡ºã—ã¦ã—ã¾ã†ï¼ãã—ã¦ãƒ¡ã‚¤ãƒ³ãƒ­ã‚¸ãƒƒã‚¯ã§ã¯ã“ã®interfaceã‚’åˆ©ç”¨ã™ã‚‹ã‚ˆã†ã«ã™ã‚‹ï¼&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-golang&#34;&gt;type GitHub interface {
    CreateRelease(ctx context.Context, opt Option) (string, error)
    GetRelease(ctx context.Context, tag string) (string, error)
    DeleteRelease(ctx context.Context, releaseID int) error
}
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;testing-as-public-api&#34;&gt;Testing as Public API&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;https://speakerdeck.com/mitchellh/advanced-testing-with-go&#34;&gt;&amp;ldquo;Advanced Testing with Go&amp;rdquo;&lt;/a&gt; ã®ç™ºè¡¨ã‚’è¦‹ã¦ãªã‚‹ã»ã©ãªã‚ã¨æ€ã„å®Ÿè·µå§‹ã‚ãŸã®ã¯testç”¨ã®é–¢æ•°ã‚’APIã¨ã—ã¦å…¬é–‹ã™ã‚‹æ–¹æ³•ï¼&lt;/p&gt;

&lt;p&gt;ã™ã¹ã¦ã‚’&lt;code&gt;main&lt;/code&gt;ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«å®Ÿè£…ã—ã¦ã„ã‚‹é–“ã¯è‰¯ã„ãŒã‚ã‚‹ç¨‹åº¦ã®è¦æ¨¡ã«ãªã‚‹ã¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®åˆ‡ã‚Šå‡ºã—ãŒå¤§åˆ‡ã«ãªã‚‹ï¼&lt;code&gt;*_test.go&lt;/code&gt;ã«è¨˜è¿°ã—ãŸé–¢æ•°ã¯åˆ¥ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‹ã‚‰ã¯å‚ç…§ã§ããªã„ãŸã‚ãƒ¢ãƒƒã‚¯ã®å®Ÿè£…ã‚’ã©ã“ã«æ›¸ãã‹ãŒå•é¡Œã«ãªã‚‹ï¼ˆå‘¼ã³å‡ºã—å´ã§ä½•åº¦ã‚‚å®Ÿè£…ã™ã‚‹ã®ã¯éåŠ¹ç‡ï¼‰ï¼ã“ã®æ–¹æ³•ã¯&lt;code&gt;testing.go&lt;/code&gt;ã‚„&lt;code&gt;testing_*.go&lt;/code&gt;ã¨ã„ã£ãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’æº–å‚™ã—å¤–éƒ¨ã‹ã‚‰å‚ç…§å¯èƒ½ãªãƒ†ã‚¹ãƒˆç”¨ã®ãƒ˜ãƒ«ãƒ‘ãƒ¼é–¢æ•°ã‚’æä¾›ã™ã‚‹ï¼Œã¤ã¾ã‚Šãƒ†ã‚¹ãƒˆé–¢æ•°ã‚‚APIã¨ã—ã¦æä¾›ã—ã¦ã—ã¾ã†æ–¹æ³•ã§ã‚ã‚‹ï¼&lt;/p&gt;

&lt;p&gt;ä¾‹ãˆã°ä»¥ä¸‹ã®ã‚ˆã†ãªé–¢æ•°ã‚’æº–å‚™ã™ã‚‹ï¼&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-golang&#34;&gt;func TestDB(t *testing.T) DB
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code class=&#34;language-golang&#34;&gt;func TestConfig(t *testing.T) *Config
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ã“ã‚Œã§å‘¼ã³å‡ºã—å´ã§ã®ãƒ†ã‚¹ãƒˆç”¨ã®ãƒ¢ãƒƒã‚¯ãªã©ã®å†å®Ÿè£…ã‚’é˜²ãã“ã¨ãŒã§ãã‚‹ï¼&lt;/p&gt;

&lt;h2 id=&#34;ã¾ã¨ã‚&#34;&gt;ã¾ã¨ã‚&lt;/h2&gt;

&lt;p&gt;ãŸã ã—ã‚„ã‚Šã™ãã‚‹ã¨å¯èª­æ€§ãŒä¸‹ãŒã‚‹ã®ã§ã‚„ã‚Šã™ãã«ã¯æ³¨æ„ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ï¼&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>PagerDutyã®On-callã‚’ä¸€æ™‚çš„ã«è‡ªåˆ†ã«ã‚¢ã‚µã‚¤ãƒ³ã™ã‚‹dutymeã¨ã„ã†ãƒ„ãƒ¼ãƒ«ã‚’æ›¸ã„ãŸ</title>
      <link>http://deeeet.com/writing/2016/10/24/dutyme/</link>
      <pubDate>Mon, 24 Oct 2016 09:00:14 +0900</pubDate>
      
      <guid>http://deeeet.com/writing/2016/10/24/dutyme/</guid>
      <description>

&lt;p&gt;ç¾åœ¨ã®ãƒãƒ¼ãƒ ã§ã¯ã‚¤ãƒ³ã‚·ãƒ‡ãƒ³ãƒˆç®¡ç†ã«&lt;a href=&#34;http://www.pagerduty.com/&#34;&gt;PagerDuty&lt;/a&gt;ã‚’ä½¿ã£ã¦ã„ã‚‹ï¼On-callã¯Primaryã¨Secondaryã®2äººä½“å‹¢ã§ãã‚Œã‚’1é€±é–“ã”ã¨ã«ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã§å›ã—ã¦ã„ã‚‹ï¼On-Callã«ã‚¢ã‚µã‚¤ãƒ³ã•ã‚Œã¦ã„ã‚‹å ´åˆã¯å¤œä¸­ã§ã‚ã‚Œæ—¥ä¸­ã§ã‚ã‚ŒPrimaryã«ã‚¢ãƒ©ãƒ¼ãƒˆãŒé£›ã¶ï¼ˆPrimaryãŒåå¿œã§ããªã‘ã‚Œã°Secondaryã«ã‚¨ã‚¹ã‚«ãƒ¬ãƒ¼ãƒˆã•ã‚Œã‚‹ï¼‰ï¼ãã—ã¦ã‚¢ãƒ©ãƒ¼ãƒˆã‚’å—ã‘ãŸã‚‰ä½•ã‹ã—ã‚‰ã®å¯¾å¿œã‚’è¡Œã†ï¼&lt;/p&gt;

&lt;p&gt;ã“ã‚Œã¯ã†ã¾ãå›ã£ã¦ã„ã‚‹ãŒå•é¡Œã‚‚ã‚ã‚‹ï¼æ¥­å‹™ä¸­ï¼ˆæ—¥ä¸­ï¼‰ã¯Primaryã‚„Secondaryã«é–¢ä¿‚ãªããƒãƒ¼ãƒ ãƒ¡ãƒ³ãƒãƒ¼ã¯ã©ã‚“ã©ã‚“ãƒ‡ãƒ—ãƒ­ã‚¤ã—ãŸã‚ŠProductionç’°å¢ƒã§ä½œæ¥­ã‚’ã—ãŸã‚Šã™ã‚‹ï¼ãã—ã¦ã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚„ãƒ‡ãƒ—ãƒ­ã‚¤å¯¾è±¡ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«ã‚ˆã£ã¦ã¯ã‚¢ãƒ©ãƒ¼ãƒˆãŒç™ºç”Ÿã—ã¦ã—ã¾ã†ã“ã¨ãŒã‚ã‚‹ï¼ã¤ã¾ã‚Šä½œæ¥­è€…ã«é–¢ä¿‚ãªãã‚¢ãƒ©ãƒ¼ãƒˆãŒPrimaryã‚„Secondaryã«é£›ã‚“ã§ã—ã¾ã†ï¼ˆSlackã¨é€£æºã—ã¦ã„ã‚‹ã®ã§å…¨å“¡ãŒãã‚Œã‚’ã¿ã‚‹ã“ã¨ã«ã¯ãªã‚‹ãŒï¼‰ï¼&lt;/p&gt;

&lt;p&gt;ãƒ‡ãƒ—ãƒ­ã‚¤ã‚„ã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã¯å„å€‹äººã®è²¬ä»»ã§ã‚„ã£ã¦ã„ã‚‹ã®ã§ã¾ãšã¯æœ¬äººãŒå¯¾å¿œã™ã‚‹ã¹ãã§ã‚ã‚‹ï¼ã¾ãŸPrimaryã§ã‚ã‚Œã‚¤ãƒ³ã‚·ãƒ‡ãƒ³ãƒˆãŒãªã„å ´åˆã¯è‡ªåˆ†ã®ã‚¿ã‚¹ã‚¯ã«é›†ä¸­ã—ã¦ã„ã‚‹ã®ã§ã‚¢ãƒ©ãƒ¼ãƒˆãŒé£›ã¹ã°Disturbã•ã‚Œã¦ã—ã¾ã†ï¼ˆè‡ªåˆ†ãŒPrimaryã®å ´åˆã¯å«Œã ã—è‡ªåˆ†ã®ã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã§èª°ã‹ã‚’Disturbã—ãŸãã‚‚ãªã„ï¼‰ï¼ãã‚‚ãã‚‚ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ç²’åº¦ã‚’ã‚‚ã†å°‘ã—ç´°ã‹ãç°¡å˜ã«å¤‰æ›´ã—ãŸã„ï¼&lt;/p&gt;

&lt;p&gt;ã“ã®å•é¡Œã‚’è§£æ±ºã™ã‚‹ãŸã‚ã«&lt;a href=&#34;https://github.com/tcnksm/dutyme&#34;&gt;&lt;code&gt;dutyme&lt;/code&gt;&lt;/a&gt;ã¨ã„ã†On-callã‚’ä¸€æ™‚çš„ã«è‡ªåˆ†ã«ã‚¢ã‚µã‚¤ãƒ³ã™ã‚‹ãƒ„ãƒ¼ãƒ«ã‚’æ›¸ã„ãŸï¼ä»¥ä¸‹ã§ã¯ã“ã®ãƒ„ãƒ¼ãƒ«ã®ç°¡å˜ãªç´¹ä»‹ã‚’è¡Œã†ï¼ãªãŠã‚³ãƒ¼ãƒ‰ã¯ &lt;a href=&#34;https://github.com/tcnksm/dutyme&#34;&gt;tcnksm/dutyme&lt;/a&gt; ã«å…¬é–‹ã—ã¦ã„ã‚‹ï¼&lt;/p&gt;

&lt;h2 id=&#34;requirement&#34;&gt;Requirement&lt;/h2&gt;

&lt;p&gt;&lt;code&gt;dutyme&lt;/code&gt;ã‚’ä½¿ã†ã«ã¯&lt;a href=&#34;https://v2.developer.pagerduty.com/v2/page/api-reference&#34;&gt;PagerDuty API v2&lt;/a&gt;ã®TokenãŒå¿…è¦ã«ãªã‚‹ï¼Tokenã¯Readã¨Writeã®æ¨©é™ã‚’æŒã£ã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚‹ï¼è©³ã—ãã¯&lt;a href=&#34;https://support.pagerduty.com/hc/en-us/articles/202829310-Generating-an-API-Key&#34;&gt;&amp;ldquo;Generating an API Key â€“ PagerDuty Support and Help&amp;rdquo;&lt;/a&gt;ã‚’å‚è€ƒï¼&lt;/p&gt;

&lt;h2 id=&#34;usage&#34;&gt;Usage&lt;/h2&gt;

&lt;p&gt;ä½¿ã„æ–¹ã¯ä»¥ä¸‹ï¼&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;$ dutyme start
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ã“ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—å¿…è¦ãªæƒ…å ±ï¼ˆPagerDutyã®Emailã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ï¼‰ã‚’å…¥åŠ›ã™ã‚‹ã ã‘ã§ã‚¢ã‚µã‚¤ãƒ³ãŒå¤‰æ›´ã•ã‚Œã‚‹ï¼ä¸€åº¦å…¥åŠ›ã—ãŸæƒ…å ±ã¯ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¿å­˜ã§ãã‚‹ã®ã§æ¬¡å›ã‹ã‚‰ã¯ä½•ã‚‚å…¥åŠ›ã™ã‚‹ã“ã¨ãªãã‚¢ã‚µã‚¤ãƒ³ã‚’å¤‰æ›´ã§ãã‚‹ï¼&lt;/p&gt;

&lt;p&gt;ä»¥ä¸‹ã¯åˆ©ç”¨ã®æ§˜å­ï¼&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://deeeet.com/images/dutyme.gif&#34; class=&#34;image&#34;&gt;&lt;/p&gt;

&lt;h2 id=&#34;how-it-works&#34;&gt;How it works&lt;/h2&gt;

&lt;p&gt;&lt;code&gt;dutyme&lt;/code&gt;ã¯ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’æ›¸ãæ›ãˆã¦ã„ã‚‹ã‚ã‘ã§ã¯ãªã„ï¼Pagedutyã®&lt;a href=&#34;https://support.pagerduty.com/hc/en-us/articles/202830170-Creating-and-Deleting-Overrides&#34;&gt;Override&lt;/a&gt;ã¨ã„ã†æ©Ÿèƒ½ã‚’ä½¿ã£ã¦ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ä¸Šæ›¸ãã‚’ã—ã¦ã„ã‚‹ï¼ãªã®ã§ãƒ™ãƒ¼ã‚¹ã®ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒå£Šã‚Œã‚‹å¿ƒé…ã¯ãªã„ï¼ˆOverrideã¯æ¶ˆã™ã®ã‚‚ç°¡å˜ï¼‰ï¼&lt;/p&gt;

&lt;p&gt;å®Ÿè£…ã¯Goè¨€èªã§clientã«ã¯ &lt;a href=&#34;https://github.com/PagerDuty/go-pagerduty&#34;&gt;https://github.com/PagerDuty/go-pagerduty&lt;/a&gt; ã‚’ä½¿ã„ï¼ˆGoè¨€èªã§PagerDutyé–¢é€£ã®ãƒ„ãƒ¼ãƒ«ã‚’ä½œã‚ŠãŸã„å ´åˆã¯ã“ã‚Œã‚’ä½¿ãˆã°è‰¯ã•ãã†ï¼‰ï¼Œtty ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®åˆ¶å¾¡ã«ã¯è‡ªåˆ†ã§æ›¸ã„ãŸ &lt;a href=&#34;https://github.com/tcnksm/go-input&#34;&gt;https://github.com/tcnksm/go-input&lt;/a&gt; ã‚’ä½¿ã£ã¦ã„ã‚‹ï¼&lt;/p&gt;

&lt;h2 id=&#34;install&#34;&gt;Install&lt;/h2&gt;

&lt;p&gt;ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¯&lt;code&gt;go get&lt;/code&gt;ã‚‚ã—ãã¯&lt;code&gt;brew&lt;/code&gt;ãŒä½¿ãˆã‚‹ï¼&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;$ brew tap tcnksm/dutyme
$ brew install dutyme
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;conclusions&#34;&gt;Conclusions&lt;/h2&gt;

&lt;p&gt;è¦æœ›ã‚„Bugãªã©ã¯ &lt;a href=&#34;https://github.com/tcnksm/dutyme/issues&#34;&gt;https://github.com/tcnksm/dutyme/issues&lt;/a&gt; ã¾ã§ãŠé¡˜ã„ã—ã¾ã™ï¼ç¾çŠ¶ã¯æœ€ä½é™ä½¿ã†ãŸã‚ã®æ©Ÿèƒ½ã—ã‹ãªã„ãŒã‚‚ã†å°‘ã—æ©Ÿèƒ½ã®è¿½åŠ ã¯ã™ã‚‹äºˆå®šï¼&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>sync.ErrGroupã§è¤‡æ•°ã®goroutineã‚’åˆ¶å¾¡ã™ã‚‹</title>
      <link>http://deeeet.com/writing/2016/10/12/errgroup/</link>
      <pubDate>Wed, 12 Oct 2016 09:36:20 +0900</pubDate>
      
      <guid>http://deeeet.com/writing/2016/10/12/errgroup/</guid>
      <description>

&lt;p&gt;Golangã®ä¸¦è¡Œå‡¦ç†ã¯å¼·åŠ›ã§ã‚ã‚‹ä¸€æ–¹ã§åŒæœŸå‡¦ç†ã‚’æ…é‡ã«å®Ÿè£…ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ï¼&lt;a href=&#34;http://motemen.hatenablog.com/entry/2016/05/go-concurrent-building-blocks&#34;&gt;&amp;ldquo;Go è¨€èªã«ãŠã‘ã‚‹ä¸¦è¡Œå‡¦ç†ã®æ§‹ç¯‰éƒ¨æ&amp;rdquo;&lt;/a&gt;ã«ã¾ã¨ã‚ã‚‰ã‚Œã¦ã„ã‚‹ã‚ˆã†ã«Golangã¯æ§˜ã€…ãªæ–¹æ³•ã§ãã‚Œã‚’å®Ÿè£…ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ï¼å®Ÿç¾ã—ãŸã„ã‚¿ã‚¹ã‚¯ã«åˆã‚ã›ã¦ã“ã‚Œã‚‰ã‚’é©åˆ‡ã«é¸æŠã™ã‚‹å¿…è¦ãŒã‚ã‚‹ï¼&lt;/p&gt;

&lt;p&gt;ã“ã®åŒæœŸå‡¦ç†ã®æ©Ÿæ§‹ã¨ã—ã¦æ–°ãŸã«&lt;a href=&#34;https://godoc.org/golang.org/x/sync/errgroup&#34;&gt;golang.org/x/sync/errgroup&lt;/a&gt;ã¨ã„ã†ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒç™»å ´ã—ãŸï¼å®Ÿéš›ã«è‡ªåˆ†ã®ãƒ„ãƒ¼ãƒ«ã§ä½¿ã£ã¦ã¿ã¦ä¾¿åˆ©ã ã£ãŸã®ã§ç°¡å˜ã«ç´¹ä»‹ã™ã‚‹ï¼&lt;/p&gt;

&lt;h2 id=&#34;ä½¿ã„ã©ã“ã‚&#34;&gt;ä½¿ã„ã©ã“ã‚&lt;/h2&gt;

&lt;p&gt;æ™‚é–“ã®ã‹ã‹ã‚‹1ã¤ã®ã‚¿ã‚¹ã‚¯ã‚’è¤‡æ•°ã®ã‚µãƒ–ã‚¿ã‚¹ã‚¯ã¨ã—ã¦ä¸¦è¡Œå®Ÿè¡Œã—ãã‚Œã‚‰ãŒå…¨ã¦çµ‚äº†ã™ã‚‹ã®ã‚’å¾…ã¡åˆã‚ã›ã‚‹å‡¦ç†ï¼ˆLatchï¼‰ã‚’æ›¸ããŸã„å ´åˆã«&lt;code&gt;errgroup&lt;/code&gt;ã¯ä½¿ãˆã‚‹ï¼ãã®ä¸­ã§ã‚‚ã€Œ1ã¤ã§ã‚‚ã‚µãƒ–ã‚¿ã‚¹ã‚¯ã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸå ´åˆã«ä»–ã®ã‚µãƒ–ã‚¿ã‚¹ã‚¯ã‚’å…¨ã¦ã‚’çµ‚äº†ã—ã‚¨ãƒ©ãƒ¼ã‚’è¿”ã—ãŸã„ã€ï¼ˆè¤‡æ•°ã®ã‚µãƒ–ã‚¿ã‚¹ã‚¯ãŒå…¨ã¦æ­£å¸¸ã«çµ‚äº†ã—ã¦åˆã‚ã¦1ã¤ã®å‡¦ç†ã¨ã—ã¦å®Œçµã™ã‚‹ï¼‰å ´åˆãŒä¸»ãªä½¿ã„ã©ã“ã‚ã§ã‚ã‚‹ï¼&lt;/p&gt;

&lt;h2 id=&#34;å®Ÿä¾‹&#34;&gt;å®Ÿä¾‹&lt;/h2&gt;

&lt;p&gt;ã“ã“ã§ã¯ä¾‹ã¨ã—ã¦è¤‡æ•°ã®&lt;code&gt;worker&lt;/code&gt;ã‚µãƒ–ã‚¿ã‚¹ã‚¯ã‚’goroutineã§ä¸¦è¡Œå®Ÿè¡Œã—ãã‚Œã‚‰ã™ã¹ã¦ã®çµ‚äº†ã‚’å¾…ã¡åˆã‚ã›ã‚‹ã¨ã„ã†å‡¦ç†ã‚’è€ƒãˆã‚‹ï¼æœ€åˆã«ä»Šã¾ã§ã®ã‚„ã‚Šã‹ãŸã¨ã—ã¦&lt;code&gt;sync.WaitGroup&lt;/code&gt;ã‚’ä½¿ã£ãŸå®Ÿè£…ã‚’ï¼Œæ¬¡ã«&lt;code&gt;errgroup&lt;/code&gt;ã‚’ä½¿ã£ãŸå®Ÿè£…ã‚’ç´¹ä»‹ã™ã‚‹ï¼&lt;/p&gt;

&lt;h3 id=&#34;sync-waitgroup&#34;&gt;sync.WaitGroup&lt;/h3&gt;

&lt;p&gt;goroutineã®å¾…æ©Ÿå‡¦ç†ã¨ã—ã¦ã‚ˆãä½¿ã‚ã‚Œã‚‹ã®ãŒ&lt;code&gt;sync.WaitGroup&lt;/code&gt;ã§ã‚ã‚‹ï¼ãã®åå‰ã®é€šã‚ŠæŒ‡å®šã—ãŸæ•°ã®å‡¦ç†ï¼ˆgoroutineï¼‰ã®å®Ÿè¡Œã®å¾…ã¡åˆã‚ã›ã«åˆ©ç”¨ã™ã‚‹ï¼ä¾‹ãˆã°ä»¥ä¸‹ã®ã‚ˆã†ã«æ›¸ãã“ã¨ãŒã§ãã‚‹ï¼&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-golang&#34;&gt;var wg sync.WaitGroup
errCh := make(chan error, 1)
for i := 0; i &amp;lt; 10; i++ {
    wg.Add(1)
    go func(i int) {
        defer wg.Done()
        worker(i)
    }(i)
}

wg.Wait()
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æ–°ãŸãªgoroutineã‚’ç”Ÿæˆã™ã‚‹åº¦ã«&lt;code&gt;Add&lt;/code&gt;ã§WaitGroupã‚’ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ãƒˆã—å‡¦ç†ãŒçµ‚äº†ã—ãŸã¨ãã«&lt;code&gt;Done&lt;/code&gt;ã‚’å‘¼ã¶ï¼ãã—ã¦å…¨ã¦ã®&lt;code&gt;worker&lt;/code&gt;ã®å‡¦ç†ãŒçµ‚äº†ã™ã‚‹ã¾ã§&lt;code&gt;Wait&lt;/code&gt;ã§å‡¦ç†ã‚’ãƒ–ãƒ­ãƒƒã‚¯ã™ã‚‹ï¼ã“ã‚Œã¯channelã‚’ä½¿ã£ã¦ã‚‚å®Ÿè£…ã§ãã‚‹ãŒ&lt;code&gt;sync.WaitGroup&lt;/code&gt;ã‚’ä½¿ã£ãŸã»ã†ãŒèª­ã¿ã‚„ã™ã„ã“ã¨ã‚‚å¤šã„ï¼&lt;/p&gt;

&lt;p&gt;ã§ã¯&lt;code&gt;worker&lt;/code&gt;ã§ã®ã‚¨ãƒ©ãƒ¼ã‚’å‡¦ç†ã‚’ã—ãŸã„å ´åˆã«ã¯ã©ã†ã™ã‚‹ã®ãŒè‰¯ã„ã ã‚ã†ã‹? sliceã§ã‚¨ãƒ©ãƒ¼ã‚’ãŸã‚çµ‚äº†å¾Œã«ãã‚Œã‚’å–ã‚Šå‡ºã™ï¼Œ&lt;code&gt;error&lt;/code&gt;ã®channelã‚’ä½œã‚Šå¤–éƒ¨ã§ãã‚Œã‚’å—ã‘å–ã‚‹ã¨ã„ã£ãŸãƒ‘ã‚¿ãƒ¼ãƒ³ãŒè€ƒãˆã‚‰ã‚Œã‚‹ï¼ä½•ã«ã›ã‚ˆåˆ¥é€”è‡ªåˆ†ã§å‡¦ç†ã‚’å®Ÿè£…ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ï¼&lt;/p&gt;

&lt;h3 id=&#34;sync-errgroup&#34;&gt;sync.ErrGroup&lt;/h3&gt;

&lt;p&gt;&lt;a href=&#34;https://godoc.org/golang.org/x/sync/errgroup&#34;&gt;errgroup&lt;/a&gt;ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ä½¿ã†ä»¥ä¸‹ã®ã‚ˆã†ã«æ›¸ãã“ã¨ãŒã§ãã‚‹ï¼&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-golang&#34;&gt;eg := errgroup.Group{}
for i := 0; i &amp;lt; 10; i++ {
    i := i
    eg.Go(func() error {
        return worker(i)
    })
}

if err := eg.Wait(); err != nil {
    log.Fatal(err)
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;errgroup&lt;/code&gt;ã§ã¯&lt;code&gt;Go&lt;/code&gt;ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ã„ã‚µãƒ–ã‚¿ã‚¹ã‚¯ã‚’å®Ÿè¡Œã™ã‚‹ï¼ã“ã“ã«ä¸ãˆã‚‰ã‚ŒãŸå‡¦ç†ã¯æ–°ãŸãªgoroutineã§å®Ÿè¡Œã•ã‚Œã‚‹ï¼&lt;code&gt;Wait&lt;/code&gt;ã¯&lt;code&gt;sync.WaitGroup&lt;/code&gt;ã¨åŒæ§˜ã«&lt;code&gt;Go&lt;/code&gt;ãƒ¡ã‚½ãƒƒãƒ‰ã§å®Ÿè¡Œã•ã‚ŒãŸå…¨ã¦ã®ã‚µãƒ–ã‚¿ã‚¹ã‚¯ãŒçµ‚äº†ã™ã‚‹ã¾ã§å‡¦ç†ã‚’ãƒ–ãƒ­ãƒƒã‚¯ã™ã‚‹ï¼ãã—ã¦ï¼ˆã‚‚ã—ã‚ã‚Œã°ï¼‰&lt;code&gt;Go&lt;/code&gt;ãƒ¡ã‚½ãƒƒãƒ‰å†…ã§æœ€åˆã«è¿”ã•ã‚ŒãŸnon-nilã®&lt;code&gt;error&lt;/code&gt;ã‚’è¿”ã™ï¼&lt;/p&gt;

&lt;p&gt;&lt;code&gt;errgroup&lt;/code&gt;ãŒå¼·åŠ›ãªã®ã¯&lt;code&gt;context&lt;/code&gt;ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ä½¿ã„ï¼Œ1ã¤ã®ã‚µãƒ–ã‚¿ã‚¹ã‚¯ã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸã¨ãã«ä»–ã®å…¨ã¦ã®ã‚µãƒ–ã‚¿ã‚¹ã‚¯ã‚’ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã§ãã‚‹ã¨ã“ã‚ã§ã‚ã‚‹ï¼ä¾‹ãˆã°ä»¥ä¸‹ã®ã‚ˆã†ã«æ›¸ãã“ã¨ãŒã§ãã‚‹ï¼&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-golang&#34;&gt;eg, ctx := errgroup.WithContext(context.TODO())
for i := 0; i &amp;lt; 10; i++ {
    i := i
    eg.Go(func() error {
        return workerContext(ctx, i)
    })
}

if err := eg.Wait(); err != nil {
    log.Println(err)
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;é•ã„ã¯æ–°ãŸãªGroupã‚’&lt;code&gt;WithContext&lt;/code&gt;ã§ç”Ÿæˆã—ï¼Œã‹ã¤åŒæ™‚ã«æ–°ãŸãª&lt;code&gt;Context&lt;/code&gt;ã‚‚ç”Ÿæˆã—ã¦ã„ã‚‹éƒ¨åˆ†ã§ã‚ã‚‹ï¼ã¾ãŸ&lt;code&gt;worker&lt;/code&gt;ã‚’&lt;code&gt;workerContext&lt;/code&gt;ã¨ã—&lt;code&gt;Context&lt;/code&gt;ã‚’æ¸¡ã›ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã‚‹ï¼ã“ã‚Œã«ã‚ˆã‚Š1ã¤ã®ã‚µãƒ–ã‚¿ã‚¹ã‚¯ã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸå ´åˆã«ç”Ÿæˆã—ãŸ&lt;code&gt;Context&lt;/code&gt;ã‚’ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ï¼ã¤ã¾ã‚Šï¼ˆ&lt;code&gt;workerContext&lt;/code&gt;ã‚’ã¡ã‚ƒã‚“ã¨å®Ÿè£…ã™ã‚Œã°ï¼‰é©åˆ‡ãªãƒªã‚½ãƒ¼ã‚¹è§£æ”¾ã‚’è¡Œã„å‡¦ç†ã‚’çµ‚äº†ã•ã›ã‚‹ã“ã¨ãŒã§ãã‚‹ï¼&lt;/p&gt;

&lt;h2 id=&#34;ã¾ã¨ã‚&#34;&gt;ã¾ã¨ã‚&lt;/h2&gt;

&lt;p&gt;ã“ã‚Œã ã‘ã§ãªã&lt;a href=&#34;https://godoc.org/golang.org/x/sync/errgroup&#34;&gt;GoDoc&lt;/a&gt;ã®Exampleã«ã‚‚æŒ™ã’ã‚‰ã‚Œã¦ã„ã‚‹ã‚ˆã†ã«pipelineå‡¦ç†ã«ã‚‚ä½¿ã†ã“ã¨ãŒã§ãã‚‹ï¼ã“ã‚Œã‚‰ã®å‡¦ç†ã¯Golangã§ã¯ã‚ˆãå®Ÿè£…ã™ã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³ã§ã‚ã‚Šã‚‚ã—ã‹ã—ãŸã‚‰æ¨™æº–ã«ä»²é–“å…¥ã‚Šã™ã‚‹ã‹ã‚‚ã—ã‚Œãªã„ï¼&lt;/p&gt;

&lt;p&gt;ã¨ã‚Šã‚ãˆãšã‚µãƒ–ã‚¿ã‚¹ã‚¯ã‚’å…¨ã¦å®Ÿè¡Œã—ã¦ã—ã¾ã„ãŸã„ï¼Œç™ºç”Ÿã—ãŸã‚¨ãƒ©ãƒ¼ã¯å…¨ã¦å–ã‚Šå‡ºã—ãŸã„ï¼Œã¨ã„ã£ãŸå ´åˆã¯åˆ¥ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’å®Ÿè£…ã™ã‚‹ã®ãŒè‰¯ã„ï¼&lt;/p&gt;

&lt;h2 id=&#34;å‚è€ƒ&#34;&gt;å‚è€ƒ&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.oreilly.com/learning/run-strikingly-fast-parallel-file-searches-in-go-with-sync-errgroup&#34;&gt;Run strikingly fast parallel file searches in Go with sync.ErrGroup&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://go-talks.appspot.com/github.com/matope/talks/2016/context/context.slide#1&#34;&gt;context ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ç´¹ä»‹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://deeeet.com/writing/2016/07/22/context/&#34;&gt;Go1.7ã®contextãƒ‘ãƒƒã‚±ãƒ¼ã‚¸&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>Golangã§Amazon Echoã®Smart Home Skillã‚’æ›¸ã</title>
      <link>http://deeeet.com/writing/2016/08/30/alexa-irkit-ac/</link>
      <pubDate>Tue, 30 Aug 2016 09:56:39 +0900</pubDate>
      
      <guid>http://deeeet.com/writing/2016/08/30/alexa-irkit-ac/</guid>
      <description>

&lt;p&gt;&lt;a href=&#34;https://www.amazon.com/dp/B00X4WHP5E&#34;&gt;Amazon Echo&lt;/a&gt;ï¼ˆä»¥ä¸‹Alexaï¼‰ã¯AmazonãŒé–‹ç™ºãƒ»è²©å£²ã—ã¦ã„ã‚‹éŸ³å£°ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ+Bluetoothã‚¹ãƒãƒ¼ãƒˆã‚¹ãƒ”ãƒ¼ã‚«ãƒ¼ã§ã‚ã‚‹ï¼éŸ³æ¥½ã‚’æµã™ï¼Œä»Šæ—¥ã®å¤©æ°—ã‚„ãƒ‹ãƒ¥ãƒ¼ã‚¹ã‚’èãï¼ŒGoogleã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã®äºˆå®šã‚’èãï¼ŒTODOã‚’è¿½åŠ ã™ã‚‹ï¼Œå®¶é›»ã‚’æ“ä½œã™ã‚‹ãªã©ãªã©&amp;hellip; ã¨ã„ã£ãŸå¤šãã®ã“ã¨ã‚’å…¨ã¦éŸ³å£°ã‚’é€šã˜ã¦å®Ÿè¡Œã™ã‚‹ã“ã¨ãŒã§ãã‚‹ï¼ˆ&lt;a href=&#34;https://www.youtube.com/watch?v=KkOCeAtKHIc&#34;&gt;ã“ã¡ã‚‰ã®å‹•ç”»&lt;/a&gt;ãŒã‚ã‹ã‚Šã‚„ã™ã„ï¼‰ï¼&lt;/p&gt;

&lt;p&gt;ç¾æ™‚ç‚¹ï¼ˆ2016å¹´8æœˆï¼‰ã§ã¯éŸ³å£°èªè­˜ã¯è‹±èªã®ã¿ã§å¯¾å¿œåœ°åŸŸã‚‚USã®ã¿ã¨ãªã£ã¦ã„ã‚‹ï¼ˆä¾‹ãˆã°å¤©æ°—ã‚’èãã¨åœ°åŸŸã‚’æŒ‡å®šã—ãªã„é™ã‚ŠUSã®å¤©æ°—ãŒè¿”ã£ã¦ãã‚‹ï¼‰ï¼ã¾ãŸé€£æºã§ãã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã‚‚æ—¥æœ¬ã§ä½¿ãˆã‚‹ã‚‚ã®ã¯å°‘ãªã„ï¼ãŸã ç™ºè¡¨å½“æ™‚ã‹ã‚‰ã€Œã“ã‚Œã¯å®Œå…¨ã«è²·ã„ã ã€ã¨æ€ã£ã¦ãŠã‚Šå…ˆæ—¥&lt;a href=&#34;http://deeeet.com/writing/2016/07/12/gophercon2016-lt/&#34;&gt;GopherCon2016ã§æ¸¡ç±³ã—ãŸã¨ã&lt;/a&gt;ã«ã„ããŠã„ã§è³¼å…¥ã—ãŸï¼ˆè‡ªåˆ†ã¯éŸ³å£°ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆã¯Siriãªã©ã®ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³ã«æ­è¼‰ã•ã‚Œã¦ã„ã‚‹ã‚‚ã®ã‚ˆã‚Šã‚‚æ®ãˆç½®ãå‹ã®ã‚‚ã®ã«æœªæ¥ã‚’æ„Ÿã˜ã¦ã„ã‚‹ï¼å®Ÿã¯å¤§å­¦é™¢ã§ã¯&lt;a href=&#34;http://link.springer.com/chapter/10.1007%2F978-1-4614-8280-2_14&#34;&gt;ä¼šè©±ãƒ­ãƒœãƒƒãƒˆã®ç ”ç©¶&lt;/a&gt;ã‚’ã—ã¦ã„ãŸã®ã§ã“ã®åˆ†é‡ã«ã¯æ€ã†ã“ã¨ã¯ãŸãã•ã‚“ã‚ã‚‹ï¼ãŒãã‚Œã¯åˆ¥é€”æ›¸ãï¼‰ï¼&lt;/p&gt;

&lt;p&gt;Alexaã‚’ã—ã°ã‚‰ãä½¿ã£ãŸæ„Ÿæƒ³ã¨ã—ã¦ã¯ã¨ã«ã‹ãéŸ³å£°èªè­˜ãŒã™ã”ã„ï¼ Living roomã«ç½®ã„ã¦ã„ã‚‹ãŒã©ã“ã‹ã‚‰è©±ã—ã¦ã‚‚èªè­˜ã—ã¦ãã‚Œã‚‹ï¼ˆæœ€æ‚ªç„é–¢ã‹ã‚‰ã€ŒTurn-off ACã€ã¨å«ã‚“ã§ã‚‚èªè­˜ã—ã¦ãã‚Œã‚‹ï¼‰ï¼éŸ³å£°èªè­˜ã®ç ”ç©¶ã‚’ã—ã¦ã„ãŸèº«ã‹ã‚‰ã—ã¦ä¸€ç•ªé©šã„ãŸã®ã¯Alexaã®ã‚¹ãƒ”ãƒ¼ã‚«ãƒ¼ã‹ã‚‰éŸ³æ¥½ã‚’æµã—ã¦ã„ã¦ã‚‚èªè­˜ãŒã¾ã¨ã‚‚ã«åƒãã“ã¨ï¼éŸ³æ¥½ã®ã‚·ã‚°ãƒŠãƒ«ã¨è¨€è‘‰ã®ã‚·ã‚°ãƒŠãƒ«ã‚’åˆ†é›¢ã™ã‚‹çš„ãªç ”ç©¶ã¯ã‚ã£ãŸãŒã“ã“ã¾ã§å®Ÿç”¨çš„ã«ãªã£ã¦ã„ã‚‹ã®ã¯æ­£ç›´é©šã„ãŸï¼ã¾ãŸè‡ªåˆ†ã¯å¯¾è©±ã‚·ã‚¹ãƒ†ãƒ ã«ãŠã‘ã‚‹ãƒãƒ¼ã‚¸ã‚¤ãƒ³ï¼ˆå‰²ã‚Šè¾¼ã¿ï¼‰ã‚’ç ”ç©¶ãƒ†ãƒ¼ãƒã«ã—ã¦ã„ãŸã“ã¨ãŒã‚ã‚‹ãŒãã¡ã‚‰ã‚‚å®Œç’§ã«å®Ÿç”¨çš„ã§ã‚ã‚‹ï¼Alexaã®ä¸Šã«ä¹—ã‚‹ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«ã¯ã‚‚ã¡ã‚ã‚“æ„Ÿå‹•ã™ã‚‹ãŒéŸ³å£°å¯¾è©±ã‚·ã‚¹ãƒ†ãƒ ã¨ã—ã¦ã®åŸºç¤ãŒã‚‚ã®ã™ã”ãã—ã£ã‹ã‚Šã—ã¦ã„ã‚‹ã“ã¨ã«ã¨ã¦ã‚‚æ„Ÿå‹•ã—ãŸï¼&lt;/p&gt;

&lt;p&gt;ã•ã¦Alexaã¯éŸ³æ¥½ã‚’æµã™ï¼Œå¤©æ°—ã‚’èãã¨ã„ã£ãŸBuilt-inã®Skillã«åŠ ãˆã¦ã‚µãƒ¼ãƒ‰ãƒ‘ãƒ¼ãƒ†ã‚£ãŒæä¾›ã™ã‚‹Skillã‚’æœ‰åŠ¹ã«ã—ã¦æ©Ÿèƒ½æ‹¡å¼µã™ã‚‹ã“ã¨ãŒã§ãã‚‹ï¼ãã—ã¦Skillã¯è‡ªåˆ†ã§é–‹ç™ºã™ã‚‹ã“ã¨ã‚‚ã§ãã‚‹ï¼Skillã¯&lt;a href=&#34;https://docs.aws.amazon.com/lambda/latest/dg/welcome.html&#34;&gt;AWS Lambda&lt;/a&gt;ã®Functionã¨ã—ã¦å®Ÿè£…ã™ã‚‹ã®ã§ç¾çŠ¶ã¯LambdaãŒå¯¾å¿œã™ã‚‹Pythonï¼ŒNode.jsã‚‚ã—ãã¯Javaã§ã®é–‹ç™ºãŒå‰æã¨ãªã‚‹ï¼ãŒGolangã®å ´åˆã¯ã‚·ãƒ³ã‚°ãƒ«ãƒã‚¤ãƒŠãƒªã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¦Node.jsã‹ã‚‰å®Ÿè¡Œã™ã‚‹ã¨ã„ã†æ–¹æ³•ãŒä½¿ãˆã‚‹ãŸã‚Golangã‚‚é–‹ç™ºã®é¸æŠè‚¢ã«ãªã‚‹ï¼&lt;/p&gt;

&lt;p&gt;ä»Šå›Golangã‚’ä½¿ã„å®Ÿç”¨çš„ãªAlexa Skillã‚’æ›¸ã„ãŸï¼æœ¬è¨˜äº‹ã§ã¯ãã®å®Ÿè£…æ–¹æ³•ã‚’ç°¡å˜ã«ç´¹ä»‹ã™ã‚‹ï¼ãªãŠã‚³ãƒ¼ãƒ‰ã¯å…¨ã¦ &lt;a href=&#34;https://github.com/tcnksm/alexa-irkit-ac&#34;&gt;https://github.com/tcnksm/alexa-irkit-ac&lt;/a&gt; ã«å…¬é–‹ã—ã¦ã„ã‚‹ï¼&lt;/p&gt;

&lt;h2 id=&#34;ãƒ‡ãƒ¢&#34;&gt;ãƒ‡ãƒ¢&lt;/h2&gt;

&lt;p&gt;ä»¥ä¸‹ã¯ä»Šå›ä½œæˆã—ãŸAlexa Skillã®ãƒ‡ãƒ¢å‹•ç”»ï¼è‡ªå®…ã®ã‚¨ã‚¢ã‚³ãƒ³ã®ON/OFFã‚’è¡Œã†ï¼ON/OFFã®ã‚·ã‚°ãƒŠãƒ«ã®é€ä¿¡ã«ã¯&lt;a href=&#34;http://getirkit.com/&#34;&gt;IRKit&lt;/a&gt;ã‚’ä½¿ã£ã¦ã„ã‚‹ï¼&lt;/p&gt;

&lt;p&gt;&lt;iframe src=&#34;https://player.vimeo.com/video/179021210&#34; width=&#34;640&#34; height=&#34;360&#34; frameborder=&#34;0&#34; webkitallowfullscreen mozallowfullscreen allowfullscreen&gt;&lt;/iframe&gt;
&lt;p&gt;&lt;a href=&#34;https://vimeo.com/179021210&#34;&gt;Turn on/off air conditioner by Amazon Echo and IRKit&lt;/a&gt; from &lt;a href=&#34;https://vimeo.com/user5121880&#34;&gt;deeeet&lt;/a&gt; on &lt;a href=&#34;https://vimeo.com&#34;&gt;Vimeo&lt;/a&gt;.&lt;/p&gt;&lt;/p&gt;

&lt;h2 id=&#34;å®Ÿè£…ã®æ¦‚è¦&#34;&gt;å®Ÿè£…ã®æ¦‚è¦&lt;/h2&gt;

&lt;p&gt;Alexaã®ç‹¬è‡ªSkillã®é–‹ç™ºã«ã¯&lt;a href=&#34;https://developer.amazon.com/public/solutions/alexa/alexa-skills-kit/getting-started-guide&#34;&gt;Alexa Skill Kit&lt;/a&gt;ã‚’ç”¨ã„ã‚‹ï¼Skill Kitã«ã¯ä»¥ä¸‹ã®2ç¨®é¡ãŒã‚ã‚‹ï¼&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://developer.amazon.com/public/solutions/alexa/alexa-skills-kit/overviews/understanding-custom-skills&#34;&gt;Custom Skill&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://developer.amazon.com/public/solutions/alexa/alexa-skills-kit/overviews/understanding-the-smart-home-skill-api&#34;&gt;Smart Home Skill&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Custom Skillã¯ã‚ˆã‚ŠGeneralãªãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å—ã‘ã‚‹ã®ã«åˆ©ç”¨ã™ã‚‹ï¼ä¾‹ãˆã°Web Seriviceã«æƒ…å ±ã‚’å•ã„åˆã‚ã›ã‚‹ã‚„ãƒ”ã‚¶ã‚’æ³¨æ–‡ã™ã‚‹ãªã©ï¼è‹¥å¹²å†—é•·ãªè¨€ã„å›ã—ã‚’ã—ãªã„ã¨ã„ã‘ãªã„ãŒè‡ªç”±ãªãƒ¯ãƒ¼ãƒ‰ã‚’èªè­˜ã•ã›ã‚‹äº‹ãŒã§ãã‚‹ï¼Smart Home Skillã¯å®¶é›»æ“ä½œã«ç‰¹åŒ–ã—ãŸãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å—ã‘ã‚‹ã®ã«åˆ©ç”¨ã™ã‚‹ï¼å—ã‘ä»˜ã‘ã‚‹è¨€ã„å›ã—ã¯é™å®šã•ã‚Œã¦ã„ã‚‹ãŒã‚ˆã‚Šè‡ªç„¶ãªå‘½ä»¤ãŒã§ãã‚‹ï¼ä»Šå›ã¯ã‚¨ã‚¢ã‚³ãƒ³ã®æ“ä½œãªã®ã§Smart Home Skillã‚’åˆ©ç”¨ã—ãŸï¼ˆCustom Skillã‚’ä½¿ã£ãŸNode.jsã®å®Ÿè£…ã¯IRKitã®ä½œè€…ã®&lt;a href=&#34;https://twitter.com/maaash&#34;&gt;@maaash&lt;/a&gt;ã•ã‚“ã®&lt;a href=&#34;http://maaash.jp/2016/07/alexa-air-conditioner/&#34;&gt;&amp;ldquo;Amazon Alexaã«ã‚¨ã‚¢ã‚³ãƒ³ã‚’ã¤ã‘ã¦ã‚‚ã‚‰ã†&amp;rdquo;&lt;/a&gt;ãŒå‚è€ƒã«ãªã‚‹ï¼‰ï¼&lt;/p&gt;

&lt;p&gt;Smart Home Skillã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®æµã‚Œã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚‹ï¼&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://developer.amazon.com/public/binaries/content/gallery/developerportalpublic/alexa_smart_home_ecosystem.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;è‡ªåˆ†ã§æ›¸ãå¿…è¦ãŒã‚ã‚‹ã®ã¯4ã®Lambda Functionã§ã‚ã‚‹ï¼Alexa Serviceã‹ã‚‰ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å—ã‘å®¶é›»ã‚’æ“ä½œã™ã‚‹ãŸã‚ã®APIï¼ˆã“ã®å ´åˆã¯IRKitã®Internet HTTP APIï¼‰ã«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æŠ•ã’ã‚‹ï¼&lt;/p&gt;

&lt;p&gt;ã“ã‚Œã«åŠ ãˆã¦Smart Home Skillã®å ´åˆã¯&lt;a href=&#34;https://tools.ietf.org/html/rfc6749&#34;&gt;OAuth 2.0 Authorization Framework&lt;/a&gt;ã‚’ä½¿ã£ãŸ&lt;a href=&#34;https://developer.amazon.com/appsandservices/solutions/alexa/alexa-skills-kit/docs/linking-an-alexa-user-with-a-user-in-your-system&#34;&gt;Account Linking&lt;/a&gt;ãŒå¿…é ˆã«ãªã‚‹ï¼ä»Šå›ä½œæˆã—ãŸSkillã¯å®Œå…¨ã«å€‹äººç”¨é€”ãªã®ã§Alexa Serviceã‹ã‚‰ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æœ€å°é™ã§ãƒãƒ³ãƒ‰ãƒ«ã™ã‚‹ã‚·ãƒ³ãƒ—ãƒ«ãªOAuthã‚µãƒ¼ãƒãƒ¼ã‚’Goã§æ›¸ã„ã¦&lt;a href=&#34;https://console.ng.bluemix.net/&#34;&gt;IBM Bluemix&lt;/a&gt;ã«Pushã—ã¦æ¸ˆã¾ã›ãŸï¼ˆå®Ÿã¯ã“ã“ãŒä¸€ç•ªã‚ã‚“ã©ãã•ã‹ã£ãŸï¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒä¸è¶³ã—ã¦ã„ãŸã®ã§è‡ªåˆ†ã§RFCã‚’èª­ã¾ãªã„ã¨ã„ã‘ãªã‹ã£ãŸï¼‰ï¼&lt;/p&gt;

&lt;p&gt;ã‚³ãƒ¼ãƒ‰ã¯&lt;a href=&#34;https://gist.github.com/tcnksm/3ca4ad1709da91386c9173ff0d926aa8&#34;&gt;&amp;ldquo;Amazon Alexa Simple Account Linking Server by Golang&amp;rdquo;&lt;/a&gt;ã«ç½®ã„ãŸï¼&lt;/p&gt;

&lt;h2 id=&#34;golangã§lambda-functionã‚’æ›¸ã&#34;&gt;Golangã§Lambda Functionã‚’æ›¸ã&lt;/h2&gt;

&lt;p&gt;Golangã«ã‚ˆã‚‹Lambda Functionã®ãƒ‡ãƒ—ãƒ­ã‚¤ã¨Node.jsã¨ã®é€£æºã«ã¯&lt;a href=&#34;http://apex.run/&#34;&gt;apex&lt;/a&gt;ã‚’åˆ©ç”¨ã—ãŸï¼ã“ã®å ´åˆã¯ä»¥ä¸‹ã®ã‚ˆã†ãª&lt;code&gt;HandleFunc&lt;/code&gt;ã‚’å®Ÿè£…ã™ã‚Œã°ã‚ˆã„ï¼&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-golang&#34;&gt;func main() {
    apex.HandleFunc(func(event json.RawMessage, ctx *apex.Context) (interface{}, error) {        

    // Handle Request...
    
    })
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Alexa Skillã®å ´åˆã¯å…¥åŠ›ã®&lt;code&gt;event&lt;/code&gt;ã¯Alexa Serviceã‹ã‚‰ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã§ï¼Œè¿”ã‚Šå€¤ã®&lt;code&gt;interface{}&lt;/code&gt;ã¯Alexa Serviceã¸ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã§ã‚ã‚‹ï¼ã‚„ã‚‹ã“ã¨ã¯éå¸¸ã«å˜ç´”ã§&lt;a href=&#34;https://developer.amazon.com/public/solutions/alexa/alexa-skills-kit/docs/smart-home-skill-api-reference&#34;&gt;Smart Home Skill API Reference&lt;/a&gt;ã‚’å‚è€ƒã«jsonã‚’é ‘å¼µã£ã¦ãƒ‘ãƒ¼ã‚¹ã™ã‚‹ã ã‘ï¼&lt;/p&gt;

&lt;p&gt;ä»Šå›ã®å ´åˆã¯å°‘ãªãã¨ã‚‚ä»¥ä¸‹ã®2ã¤ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å‡¦ç†ã§ãã‚‹å¿…è¦ãŒã‚ã‚‹ï¼&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://developer.amazon.com/public/solutions/alexa/alexa-skills-kit/docs/smart-home-skill-api-reference#Discovery Messages&#34;&gt;Discovery Messages&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://developer.amazon.com/public/solutions/alexa/alexa-skills-kit/docs/smart-home-skill-api-reference#On/Off Messages&#34;&gt;On/Off Messages&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Discovery Messageã¯ãƒ¦ãƒ¼ã‚¶ãŒSkillã‚’æœ‰åŠ¹ã«ã™ã‚‹ã¨ãã«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã•ã‚Œã‚‹ï¼ã“ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã§ãƒ‡ãƒã‚¤ã‚¹åå‰ã‚„ãƒªã‚¯ã‚¨ã‚¹ãƒˆå¯èƒ½ãªã‚³ãƒãƒ³ãƒ‰ï¼ˆe.g., &lt;code&gt;turnOn&lt;/code&gt;ã¨&lt;code&gt;turnOff&lt;/code&gt;ï¼‰ãªã©ã‚’è¿”ã™ï¼On/Off Messageã¯åå‰ã®é€šã‚Šã«On/Offã®ã‚³ãƒãƒ³ãƒ‰ã®å‡¦ç†ã‚’è¡Œã†ï¼ä»Šå›ã®å ´åˆã¯ã“ã“ã§IRKitã¸ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’è¡Œã†ï¼&lt;/p&gt;

&lt;h2 id=&#34;golangã§irkitã‚’æ“ä½œã™ã‚‹&#34;&gt;Golangã§IRKitã‚’æ“ä½œã™ã‚‹&lt;/h2&gt;

&lt;p&gt;IRKitã«ã¯&lt;a href=&#34;http://getirkit.com/en/#IRKit-Internet-API&#34;&gt;Internet HTTP API&lt;/a&gt;ãŒã‚ã‚Š&lt;a href=&#34;https://api.getirkit.com&#34;&gt;api.getirkit.com&lt;/a&gt;çµŒç”±ã§è‡ªå®…ã®IRKitã‚’æ“ä½œã™ã‚‹ã“ã¨ãŒã§ãã‚‹ï¼ã“ã‚Œã¯å˜ç´”ãªHTTP Requestãªã®ã§æ¨™æº–ã®&lt;code&gt;net/http&lt;/code&gt;ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã§ãªã‚“ã¨ã‹ãªã‚‹ï¼ãŒä»–ã«ã‚‚ã‚„ã‚ŠãŸã„ã“ã¨ãŒã‚ã£ãŸã®ã§Clientãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ &lt;a href=&#34;https://github.com/tcnksm/go-irkit&#34;&gt;tcnksm/go-irkit&lt;/a&gt; ã‚’æ›¸ã„ãŸï¼ˆè‡ªåˆ†ãŒæ¬²ã—ã„ã‚‚ã®ã—ã‹æ›¸ã„ã¦ãªã„ã®ã§å®Œå…¨ãªClientã§ã¯ãªã„ï¼‰ï¼&lt;/p&gt;

&lt;p&gt;ä¾‹ãˆã°Signalã‚’é€ã‚‹ã«ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ã™ã‚‹ï¼&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-golang&#34;&gt;f, err := os.Open(filePath)
if err != nil {
    log.Fatalf(&amp;quot;[ERROR] %s&amp;quot;, err)
}

var msg irkit.Message
decoder := json.NewDecoder(f)
if err := decoder.Decode(&amp;amp;msg); err != nil {
    log.Fatalf(&amp;quot;[ERROR] %s&amp;quot;, err)
}

c := irkit.DefaultInternetClient()
err = c.SendMessages(context.Background(), key, id, &amp;amp;msg)
if err != nil {
    log.Fatalf(&amp;quot;[ERROR] %s&amp;quot;, err)
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ï¼ˆ&lt;code&gt;context&lt;/code&gt;ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ä½¿ã„ãƒ¢ãƒ€ãƒ³ãªæ„Ÿã˜ã«ä»•ä¸Šã’ã¦ã‚ã‚‹ï¼‰&lt;/p&gt;

&lt;h2 id=&#34;ã¾ã¨ã‚&#34;&gt;ã¾ã¨ã‚&lt;/h2&gt;

&lt;p&gt;Golangã‚’ä½¿ã£ãŸAmazon Echoã®Smart Home Skillã®é–‹ç™ºã‚’ç´¹ä»‹ã—ãŸï¼æ—¥æœ¬ã«ä¸Šé™¸ã—ãŸã¨ãã¯çš†Golangã§Skillã‚’æ›¸ãã¾ã—ã‚‡ã†ï¼&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Go1.7ã®Subtestsã¨Sub-benchmarks</title>
      <link>http://deeeet.com/writing/2016/08/02/go1_7-subtest/</link>
      <pubDate>Tue, 02 Aug 2016 09:00:00 +0900</pubDate>
      
      <guid>http://deeeet.com/writing/2016/08/02/go1_7-subtest/</guid>
      <description>

&lt;p&gt;&lt;a href=&#34;https://tip.golang.org/doc/go1.7&#34;&gt;Go1.7&lt;/a&gt;ã§ã¯&lt;a href=&#34;https://github.com/golang/go/wiki/TableDrivenTests&#34;&gt;Subtestsã¨Sub-benchmarks&lt;/a&gt;ã¨ã„ã†æ©Ÿèƒ½ãŒ&lt;code&gt;testing&lt;/code&gt;ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«å°å…¥ã•ã‚Œã‚‹ï¼ã“ã‚Œã‚’ä½¿ã†ã¨ãƒ†ã‚¹ãƒˆé–¢æ•°/ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯é–¢æ•°ã®ä¸­ã«ãƒ†ã‚¹ãƒˆ/ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ã‚’å®šç¾©ã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ï¼ãƒ†ã‚¹ãƒˆã®å ´åˆã¯ãƒ†ã‚¹ãƒˆã«éšå±¤ã‚’æŒãŸã›ã‚‹ã“ã¨ãŒã§ãï¼Œãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ã®å ´åˆã¯&lt;a href=&#34;https://github.com/golang/go/wiki/TableDrivenTests&#34;&gt;Table Driven&lt;/a&gt;çš„ã«ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ã‚’è¨˜è¿°ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ï¼ã•ã‚‰ã«ä¸€é€£ã®ãƒ†ã‚¹ãƒˆ/ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ã«å¯¾ã—ã¦å…±é€šã®setupã¨tear-downã‚’æŒãŸã›ã‚‹ã“ã¨ã‚‚ã§ãã‚‹ï¼&lt;/p&gt;

&lt;p&gt;ãƒ†ã‚¹ãƒˆã®å ´åˆã¯&lt;a href=&#34;https://github.com/golang/go/wiki/TableDrivenTests&#34;&gt;Table Driven Tests&lt;/a&gt;ã§ååˆ†ãªã“ã¨ã‚‚å¤šãæ©æµã¯å°‘ãªã„ã‹ã‚‚ã—ã‚Œãªã„ï¼ãã‚Œã‚ˆã‚Šã‚‚ãƒ™ãƒ³ãƒãƒ¼ãƒãƒ¼ã‚¯ã§åŠ¹æœã‚’ç™ºæ®ã™ã‚‹ã“ã¨ãŒå¤šã„ï¼&lt;/p&gt;

&lt;p&gt;ä¾‹ãˆã°ä»¥ä¸‹ã®ã‚ˆã†ã«ç•°ãªã‚‹è¨­å®šå€¤ã‚’ä½¿ã£ã¦&lt;code&gt;Foo&lt;/code&gt;ã®ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ã‚’ã¨ã‚‹ã¨ã™ã‚‹ï¼ä»Šã¾ã§ã§ã‚ã‚Œã°ãã‚Œãã‚Œè¨­å®šå€¤ã”ã¨ã«ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯é–¢æ•°ã‚’æº–å‚™ã™ã‚‹å¿…è¦ãŒã‚ã£ãŸï¼&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-golang&#34;&gt;func BenchmarkFoo1(b *testing.B)   { benchFoo(b, 1) }
func BenchmarkFoo10(b *testing.B)  { benchFoo(b, 10) }
func BenchmarkFoo100(b *testing.B) { benchFoo(b, 100) }

func benchFoo(b *testing.B, base int) {
    for i := 0; i &amp;lt; b.N; i++ {
        Foo(base)
    }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Go1.7ã®Sub-benchmarkã‚’ä½¿ã†ã¨ä»¥ä¸‹ã®ã‚ˆã†ã«æ›¸ã‘ã‚‹ï¼&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-golang&#34;&gt;func BenchmarkFoo(b *testing.B) {
    cases := []struct {
        Base int
    }{
        {Base: 1},
        {Base: 10},
        {Base: 100},
    }

    for _, bc := range cases {
        b.Run(fmt.Sprintf(&amp;quot;%d&amp;quot;, bc.Base), func(b *testing.B) { benchFoo(b, bc.Base) })
    }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ã¾ãšè¤‡æ•°ã®é–¢æ•°ã‚’ä¸€ã¤ã®é–¢æ•°ã«ã¾ã¨ã‚ã‚‹ã“ã¨ãŒã§ãã‚‹ï¼ãã—ã¦è¨­å®šå€¤ã‚’Table-Drivençš„ã«æ›¸ãã“ã¨ãŒã§ãã‚‹ï¼ã“ã‚Œã«ã‚ˆã‚Šã‚·ãƒ³ãƒ—ãƒ«ã«ãªã‚Šã‹ã¤å¯èª­æ€§ã‚‚ä¸ŠãŒã‚‹ï¼Sub-benchmarkåã¯ãƒˆãƒƒãƒ—ãƒ¬ãƒ™ãƒ«ã®é–¢æ•°åï¼ˆ&lt;code&gt;BenchmarkFoo&lt;/code&gt;ï¼‰ã¨&lt;code&gt;Run&lt;/code&gt;é–¢æ•°ã«æ¸¡ã™æ–‡å­—åˆ—ã‚’&lt;code&gt;/&lt;/code&gt;ã§ç¹‹ã„ã ã‚‚ã®ã«ãªã‚‹ï¼ä¾‹ãˆã°ä¸Šã®ä¾‹ã®å ´åˆã¯&lt;code&gt;BenchmarkFoo/1&lt;/code&gt;&amp;hellip;ã¨ãªã‚‹ï¼ã¾ãŸforãƒ«ãƒ¼ãƒ—ã®å‰å¾Œã«&lt;code&gt;BenchmarkFoo&lt;/code&gt;å°‚ç”¨ã®setupãƒ»tear-downå‡¦ç†ã‚’è¨˜è¿°ã™ã‚‹ã“ã¨ã‚‚ã§ãã‚‹ï¼&lt;/p&gt;

&lt;p&gt;æ¨™æº–ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®å¤‰æ›´ã‚’è¦‹ã¦ã„ã¦ã‚‚Subtestã‚ˆã‚Šã‚‚Sub-benchmarkã§æ©æµã‚’å¾—ã¦ã„ã‚‹ã®ãŒã‚ã‹ã‚‹ï¼ä¾‹ãˆã°ä»¥ä¸‹ã®ã‚ˆã†ãªä½¿ã‚ã‚Œæ–¹ã‚’ã—ã¦ã„ã‚‹ï¼&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://go-review.googlesource.com/#/c/23428/&#34;&gt;https://go-review.googlesource.com/#/c/23428/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://go-review.googlesource.com/#/c/23429/&#34;&gt;https://go-review.googlesource.com/#/c/23429/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://go-review.googlesource.com/#/c/23420/&#34;&gt;https://go-review.googlesource.com/#/c/23420/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ã¾ãŸSubtestsã¯Parallelãƒ†ã‚¹ãƒˆã®åˆ¶å¾¡ã«ã‚‚ä½¿ãˆã‚‹ï¼&lt;code&gt;t.Parallel()&lt;/code&gt;ã‚’ä½¿ãˆã°å€‹ã€…ã®ãƒ†ã‚¹ãƒˆã¯ä¸¦è¡Œå‡¦ç†ã•ã‚Œã‚‹ï¼ãã—ã¦å…¨ã¦ã®ã‚µãƒ–ãƒ†ã‚¹ãƒˆãŒçµ‚äº†ã—ãŸæ™‚ç‚¹ã§ãƒˆãƒƒãƒ—ãƒ¬ãƒ™ãƒ«ã®é–¢æ•°ã«æˆ»ã‚‹ï¼ã“ã‚Œã‚’ä½¿ãˆã°ï¼Œä¸¦è¡Œã§ãƒ†ã‚¹ãƒˆã‚’èµ°ã‚‰ã›ã¦å…¨ã¦ã®å‡¦ç†ãŒçµ‚äº†ã—ãŸã‚‰å¾Œå‡¦ç†ã‚’è¡Œã†ã¨ã„ã£ãŸã“ã¨ãŒã§ãã‚‹ï¼&lt;/p&gt;

&lt;h2 id=&#34;ã¾ã¨ã‚&#34;&gt;ã¾ã¨ã‚&lt;/h2&gt;

&lt;p&gt;GopherCon 2016ã®LT &lt;a href=&#34;http://go-talks.appspot.com/github.com/freeformz/talks/20160712_gophercon/talk.slide#1&#34;&gt;&amp;ldquo;State of Go 2016&amp;rdquo;&lt;/a&gt; ã«ã‚ˆã‚‹ã¨ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ã‚’æ›¸ã„ã¦ã‚‹ã²ã¨ã¯&lt;a href=&#34;http://go-talks.appspot.com/github.com/freeformz/talks/20160712_gophercon/talk.slide#30&#34;&gt;ã¾ã å°‘ãªã„&lt;/a&gt;ï¼ã“ã®å¤‰æ›´ã§ã‚‚ã†å°‘ã—å¢—ãˆã‚‹ã¨è‰¯ã„ï¼&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Go1.7ã®contextãƒ‘ãƒƒã‚±ãƒ¼ã‚¸</title>
      <link>http://deeeet.com/writing/2016/07/22/context/</link>
      <pubDate>Fri, 22 Jul 2016 09:12:28 +0900</pubDate>
      
      <guid>http://deeeet.com/writing/2016/07/22/context/</guid>
      <description>

&lt;p&gt;&lt;a href=&#34;https://tip.golang.org/doc/go1.7&#34;&gt;Go1.7&lt;/a&gt;ã§ã¯&lt;a href=&#34;https://godoc.org/golang.org/x/net/context&#34;&gt;golang.org/x/net/context&lt;/a&gt;ãŒ&lt;code&gt;context&lt;/code&gt;ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¨ã—ã¦æ¨™æº–ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«ä»²é–“å…¥ã‚Šã™ã‚‹ï¼ãã—ã¦ã„ãã¤ã‹ã®æ¨™æº–ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã§ã¯&lt;code&gt;context&lt;/code&gt;ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ä½¿ã£ãŸãƒ¡ã‚½ãƒƒãƒ‰/é–¢æ•°ã‚‚æ–°ãŸã«ç™»å ´ã™ã‚‹ï¼&lt;code&gt;context&lt;/code&gt;ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¯ä»Šå¾Œã•ã‚‰ã«é‡è¦ãªï¼ŒGopherã¯æ™®é€šã«æ‰±ã†ã¹ãï¼Œãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«ãªã‚‹ã¨è€ƒãˆã‚‰ã‚Œã‚‹ï¼æœ¬è¨˜äº‹ã§ã¯ãã‚‚ãã‚‚&lt;code&gt;context&lt;/code&gt;ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¨ã¯ä½•ã‹ï¼Ÿãªãœç™»å ´ã—ãŸã®ã‹ï¼Ÿãªãœé‡è¦ãªã®ã‹ï¼Ÿã©ã®ã‚ˆã†ã«ä½¿ã†ã¹ãã‹ï¼Ÿã«ã¤ã„ã¦ã¾ã¨ã‚ã‚‹ï¼&lt;/p&gt;

&lt;p&gt;&lt;code&gt;context&lt;/code&gt;ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒåˆã‚ã¦ç´¹ä»‹ã•ã‚ŒãŸã®ã¯2014å¹´ã®The Go Blogã®è¨˜äº‹ &lt;a href=&#34;https://blog.golang.org/context&#34;&gt;&amp;ldquo;Go Concurrency Patterns: Context&amp;rdquo;&lt;/a&gt;ã§ã‚ã‚‹ï¼ã“ã®è¨˜äº‹ã§ã¯ãªãœGoogleãŒ&lt;code&gt;context&lt;/code&gt;ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’é–‹ç™ºã—ãŸã®ã‹ï¼Œã©ã®ã‚ˆã†ã«ä½¿ã†ã®ã‹å…·ä½“çš„ãªæ¤œç´¢ã‚¿ã‚¹ã‚¯ã‚’ä¾‹ã«è§£èª¬ã•ã‚Œã¦ã„ã‚‹ï¼ã¾ã èª­ã‚“ã ã“ã¨ãŒãªã„äººã¯ãã¡ã‚‰ã‚’å…ˆã«èª­ã‚€ã¨è‰¯ã„ï¼&lt;/p&gt;

&lt;h2 id=&#34;contextãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¨ã¯ä½•ã‹&#34;&gt;contextãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¨ã¯ä½•ã‹&lt;/h2&gt;

&lt;p&gt;ã“ã“ã§ã¯å…·ä½“çš„ãªåˆ©ç”¨ä¾‹ã‹ã‚‰&lt;code&gt;context&lt;/code&gt;ã¨ã¯ä½•ã‹ã‚’èª¬æ˜ã™ã‚‹ï¼&lt;/p&gt;

&lt;p&gt;ä¾‹ãˆã°Goã®å…¸å‹çš„ãªåˆ©ç”¨ä¾‹ã§ã‚ã‚‹Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è€ƒãˆã‚‹ï¼Goã®ã‚µãƒ¼ãƒã«ãŠã„ã¦ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¯ãã‚Œãã‚Œå€‹åˆ¥ã®goroutineã§å‡¦ç†ã•ã‚Œã‚‹ï¼ãã—ã¦ãƒªã‚¯ã‚¨ã‚¹ãƒˆHandlerã¯æ–°ãŸãªgoroutineã‚’ç”Ÿæˆã—ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®DBã‚„åˆ¥ã®ã‚µãƒ¼ãƒã«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æŠ•ã’çµæœã‚’å¾—ã¦ãƒ¦ãƒ¼ã‚¶ã«å¯¾ã—ã¦ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’è¿”ã™ï¼&lt;/p&gt;

&lt;p&gt;ã“ã®ã‚ˆã†ãªåˆ¥ã‚µãƒ¼ãƒã¸ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®ã‚ˆã†ã«æ™‚é–“ã®ã‹ã‹ã‚‹å‡¦ç†ã‚’goroutineã§å®Ÿè¡Œã™ã‚‹å ´åˆã©ã®ã‚ˆã†ãªã“ã¨ã«æ³¨æ„ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã ã‚ã†ã‹ï¼ã¾ãšæœ€åˆã«æ³¨æ„ã™ã‚‹ã¹ãã¯ãã®å‡¦ç†ã«é©åˆ‡ãªTimeoutã‚„Deadlineã‚’è¨­å®šã—ã¦å‡¦ç†ãŒåœæ»ã™ã‚‹ã®ã‚’é˜²ãã“ã¨ã§ã‚ã‚‹ï¼ä¾‹ãˆã°åˆ¥ã®ã‚µãƒ¼ãƒã«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æŠ•ã’ã‚‹å ´åˆã«ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã®å•é¡Œã§ãƒªã‚¯ã‚¨ã‚¹ãƒˆã«æ™‚é–“ãŒã‹ã‹ã£ã¦ã—ã¾ã†ã“ã¨ã¯å¤§ã„ã«è€ƒãˆã‚‰ã‚Œã‚‹ï¼ãƒªã‚¯ã‚¨ã‚¹ãƒˆã«Timeoutã‚’è¨­å®šã—ã¦æ—©ã‚ã«ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’è¿”ã—ãƒªãƒˆãƒ©ã‚¤ã‚’ä¿ƒã™ã¹ãã§ã‚ã‚‹ï¼&lt;/p&gt;

&lt;p&gt;æ¬¡ã«æ³¨æ„ã™ã‚‹ã¹ãã¯ç”Ÿæˆã—ãŸgoroutineã‚’é©åˆ‡ã«ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã—ãƒªã‚½ãƒ¼ã‚¹ã‚’è§£æ”¾ã™ã‚‹ã“ã¨ã§ã‚ã‚‹ï¼ä¾‹ãˆã°åˆ¥ã®ã‚µãƒ¼ãƒã«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æŠ•ã’ã‚‹å ´åˆã«é©åˆ‡ãªã‚­ãƒ£ãƒ³ã‚»ãƒ«å‡¦ç†ã‚’è¡Œã‚ãªã„ã¨Timeoutå¾Œã‚‚ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒªã‚½ãƒ¼ã‚¹ãŒä½¿ã‚ã‚Œç¶šã‘ã‚‹ã“ã¨ã«ãªã‚‹ï¼ˆCPUã‚„ãƒ¡ãƒ¢ãƒªã‚’ä½¿ã„ç¶šã‘ã‚‹ã‹ã‚‚ã—ã‚Œãªã„ï¼‰ï¼ã“ã®å ´åˆ&lt;code&gt;net/http&lt;/code&gt;ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ¬ãƒ™ãƒ«ã§ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã™ã‚‹ã¹ãã§ã‚ã‚‹ï¼&lt;/p&gt;

&lt;p&gt;ã•ã‚‰ã«ãã®goroutineã¯åˆ¥ã®goroutineã‚’å‘¼ã³å‡ºã—ãã‚ŒãŒã¾ãŸåˆ¥ã®&amp;hellip;ã¨å‘¼ã³å‡ºã—ã®é€£é–ã¯æ·±ããªã‚‹ã“ã¨ãŒè€ƒãˆã‚‰ã‚Œã‚‹ï¼ãã®å ´åˆã‚‚è¦ªã®Timeoutã«åˆã‚ã›ã¦ãã®å­ã¯å…¨ã¦é©åˆ‡ã«ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã•ã‚Œãƒªã‚½ãƒ¼ã‚¹ã¯è§£æ”¾ã•ã‚Œã‚‹ã¹ãã§ã‚ã‚‹ï¼ï¼&lt;/p&gt;

&lt;p&gt;ã“ã®ã‚ˆã†ã«ã‚­ãƒ£ãƒ³ã‚»ãƒ«å‡¦ç†ã¯é‡è¦ã§ã‚ã‚‹ï¼&lt;code&gt;context&lt;/code&gt;ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¯ã“ã®ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã®ãŸã‚ã®ã‚·ã‚°ãƒŠãƒ«ã‚’APIã®å¢ƒç•Œã‚’è¶…ãˆã¦å—ã‘æ¸¡ã™ãŸã‚ã®ä»•çµ„ã¿ã§ã‚ã‚‹ï¼ã‚ã‚‹é–¢æ•°ã‹ã‚‰åˆ¥ã®é–¢æ•°ã¸ã¨ï¼Œè¦ªã‹ã‚‰å­ã¸ã¨ï¼Œã‚­ãƒ£ãƒ³ã‚»ãƒ«ã‚’ä¼æ¬ã•ã›ã‚‹ï¼&lt;/p&gt;

&lt;p&gt;ã“ã‚Œã¯&lt;code&gt;context&lt;/code&gt;ã‚’ä½¿ã‚ãªãã¦ã‚‚å®Ÿç¾ã§ãã‚‹ï¼ã—ã‹ã—æ¨™æº–ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«ãªã£ãŸã“ã¨ã§&lt;code&gt;context&lt;/code&gt;ã¯ã€Œã‚­ãƒ£ãƒ³ã‚»ãƒ«ã®ãŸã‚ã®ã‚·ã‚°ãƒŠãƒ«ã®å—ã‘æ¸¡ã—ã®æ¨™æº–çš„ãªã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã€ã¨ã—ã¦ä½¿ãˆã‚‹ï¼ã“ã®æµã‚Œã¯åˆ¥ã®æ¨™æº–ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«æ–°ãŸã«è¿½åŠ ã•ã‚ŒãŸé–¢æ•°ã«è¦‹ã‚‹ã“ã¨ãŒã§ãã‚‹ï¼&lt;/p&gt;

&lt;p&gt;ï¼ˆå¾Œè¿°ã™ã‚‹ãŒ&lt;code&gt;context&lt;/code&gt;ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¯é™å®šã•ã‚ŒãŸã‚¹ã‚³ãƒ¼ãƒ—ã®å€¤ï¼Œä¾‹ãˆã°èªè¨¼æƒ…å ±ãªã©ï¼Œã®å—ã‘æ¸¡ã—ã¨ã—ã¦ã‚‚åˆ©ç”¨ã§ãã‚‹ï¼ã—ã‹ã—ç­†è€…ã¯ã“ã‚Œã¯ä»˜éšçš„ãªæ©Ÿèƒ½ã§ã‚ã‚Šã‚­ãƒ£ãƒ³ã‚»ãƒ«æ©Ÿæ§‹ã¨ã—ã¦ã®&lt;code&gt;context&lt;/code&gt;ã®æ–¹ãŒé‡è¦ã§ã‚ã‚‹ã¨è€ƒãˆã¦ã„ã‚‹ï¼‰&lt;/p&gt;

&lt;h2 id=&#34;ã‚³ãƒ¼ãƒ‰ã§è¿½ã†contextãƒ‘ãƒƒã‚±ãƒ¼ã‚¸&#34;&gt;ã‚³ãƒ¼ãƒ‰ã§è¿½ã†contextãƒ‘ãƒƒã‚±ãƒ¼ã‚¸&lt;/h2&gt;

&lt;p&gt;è¨€è‘‰ã®ã¿ã§ã¯ä¼ã‚ã‚Šã«ãã„ã®ã§å…·ä½“çš„ãªã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã‚’ä½¿ã£ã¦&lt;code&gt;context&lt;/code&gt;ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ä½¿ã„ã©ã“ã‚ã‚’èª¬æ˜ã™ã‚‹ï¼&lt;/p&gt;

&lt;p&gt;ä»¥ä¸‹ã®ã‚ˆã†ãªå˜ç´”ãªãƒªã‚¯ã‚¨ã‚¹ãƒˆHandlerã‚’è€ƒãˆã‚‹ï¼ã“ã®Handlerã¯ãƒ¦ãƒ¼ã‚¶ã‹ã‚‰ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å—ã‘ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ã‚µãƒ¼ãƒ“ã‚¹ã«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æŠ•ã’ã‚‹ï¼ãã—ã¦å¾—ãŸçµæœã‚’ãƒ¦ãƒ¼ã‚¶ã«è¿”ã™ï¼ˆå…·ä½“çš„ãªãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®æ›¸ãè¾¼ã¿ãªã©ã¯çœç•¥ã—ã¦ã„ã‚‹ï¼‰ï¼ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¯åˆ¥ã®goroutineã§æŠ•ã’ï¼Œã‚¨ãƒ©ãƒ¼ã‚’channelã§å—ã‘å–ã‚‹ï¼ã“ã®ã‚³ãƒ¼ãƒ‰ã‚’æ”¹å–„ã—ã¦ã„ãï¼&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-golang&#34;&gt;func handler(w http.ResponseWriter, r *http.Request) {
    // æ–°ãŸã«goroutineã‚’ç”Ÿæˆã—ã¦ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æŠ•ã’ã‚‹
    // çµæœã‚’error channelã«å…¥ã‚Œã‚‹
    errCh := make(chan error, 1)
    go func() {
        errCh &amp;lt;- request()
    }()

    // error channelã«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®çµæœãŒè¿”ã£ã¦ãã‚‹ã®ã‚’å¾…ã¤
    select {
    case err := &amp;lt;-errCh:
        if err != nil {
            log.Println(&amp;quot;failed:&amp;quot;, err)
            return
        }
    }

    log.Println(&amp;quot;success&amp;quot;)
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ã¾ãšç¾çŠ¶ã®ã‚³ãƒ¼ãƒ‰ã¯ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã®å•é¡Œãªã©ã§&lt;code&gt;request()&lt;/code&gt;ã«æ™‚é–“ãŒã‹ã‹ã‚Šãƒ¦ãƒ¼ã‚¶ã¸ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒåœæ­¢ã—ã¦ã—ã¾ã†å¯èƒ½æ€§ãŒã‚ã‚‹ï¼ã“ã‚Œã‚’é˜²ããŸã‚ã«ã¯Timeoutã‚’è¨­å®šã™ã‚‹ã¹ãã§ã‚ã‚‹ï¼&lt;code&gt;time&lt;/code&gt;ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®&lt;code&gt;time.After&lt;/code&gt;ã‚’ä½¿ã†ã¨ä»¥ä¸‹ã®ã‚ˆã†ã«Timeoutã‚’è¨­å®šã™ã‚‹ã“ã¨ãŒã§ãã‚‹ï¼&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-golang&#34;&gt;func handler(w http.ResponseWriter, r *http.Request) {
    errCh := make(chan error, 1)
    go func() {
        errCh &amp;lt;- request()
    }()

    select {
    case err := &amp;lt;-errCh:
        if err != nil {
            log.Println(&amp;quot;failed:&amp;quot;, err)
            return
        }
        
    // Timeoutï¼ˆ2ç§’ï¼‰ã‚’è¨­å®šã™ã‚‹ï¼
    // ä¾‹ãˆã°ã—ã°ã‚‰ãçµŒã£ã¦ã‹ã‚‰å†åº¦ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ã™ã‚‹ã‚ˆã†ã«
    // ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’è¿”ã™ï¼
    case &amp;lt;-time.After(2 * time.Second):
        log.Println(&amp;quot;failed: timeout&amp;quot;)
        return
    }

    log.Println(&amp;quot;success&amp;quot;)
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ã“ã‚Œã§ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãªã©ã®ä¸èª¿ã«ã‚ˆã‚Šãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒåœæ»ã—ã¦ã—ã¾ã†å•é¡Œã¯è§£æ±ºã§ããŸï¼ã—ã‹ã—ã“ã‚Œã§ã¯ä¸ååˆ†ã§ã‚ã‚‹ï¼Timeoutã§ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ãƒ¦ãƒ¼ã‚¶ã«è¿”ã—ãŸå¾Œã‚‚&lt;code&gt;request&lt;/code&gt;ã¯åˆ¥ã®goroutineã§å‹•ãç¶šã‘ã‚‹ï¼ã¤ã¾ã‚Šã‚µãƒ¼ãƒã®ãƒªã‚½ãƒ¼ã‚¹ã‚’ä½¿ã„ç¶šã‘ã‚‹ï¼å°‘é‡ã§ã‚ã‚Œã°å•é¡Œãªã„ãŒãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒå¢—ãˆã‚Œã°å¢—ãˆã‚‹ã»ã©å•é¡Œã«ãªã‚‹ï¼ã“ã‚Œã‚’é˜²ãã«ã¯&lt;code&gt;request()&lt;/code&gt;ã‚’ã‚­ãƒ£ãƒ³ã‚»ãƒ«å¯èƒ½ã«ãƒªã‚½ãƒ¼ã‚¹ã‚’è§£æ”¾ã™ã‚‹ã¹ãã§ã‚ã‚‹ï¼&lt;code&gt;context&lt;/code&gt;ã‚’ä½¿ã‚ãªã„å ´åˆã¯ï¼Œã“ã‚Œã¯ä¾‹ãˆã°ä»¥ä¸‹ã®ã‚ˆã†ã«å®Ÿè£…ã§ãã‚‹ï¼&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-golang&#34;&gt;func handler(w http.ResponseWriter, r *http.Request) {
    // handlerã‹ã‚‰requestã‚’ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã™ã‚‹ãŸã‚ã®channelã‚’æº–å‚™ã™ã‚‹
    doneCh := make(chan struct{}, 1)
    
    errCh := make(chan error, 1)
    go func() {
        errCh &amp;lt;- request(doneCh)
    }()

    // åˆ¥é€”goroutineã‚’æº–å‚™ã—ã¦Timeoutã‚’è¨­å®šã™ã‚‹
    go func() {
        &amp;lt;-time.After(2 * time.Second)
        // Timeoutå¾Œã«doneChã‚’ã‚¯ãƒ­ãƒ¼ã‚ºã™ã‚‹
        // å‚è€ƒ: https://blog.golang.org/pipelines
        close(doneCh)
    }()

    select {
    case err := &amp;lt;-errCh:
        if err != nil {
            log.Println(&amp;quot;failed:&amp;quot;, err)
            return
        }
    }

    log.Println(&amp;quot;success&amp;quot;)
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;request()&lt;/code&gt;ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«æ›¸ã‘ã‚‹ï¼&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-golang&#34;&gt;func request(doneCh chan struct{}) error {
    tr := &amp;amp;http.Transport{}
    client := &amp;amp;http.Client{Transport: tr}
    
    req, err := http.NewRequest(&amp;quot;POST&amp;quot;, backendService, nil)
    if err != nil {
        return err
    }
ã€€ã€€
    // æ–°ãŸã«goroutineã‚’ç”Ÿæˆã—ã¦å®Ÿéš›ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’è¡Œã†
    // çµæœã¯error channelã«æŠ•ã’ã‚‹
    errCh := make(chan error, 1)
    go func() {
        _, err := client.Do(req)
        errCh &amp;lt;- err
    }()

    select {
    case err := &amp;lt;-errCh:
        if err != nil {
            return err
        }
    
    // doneChã¯handlerã‹ã‚‰ã®ã‚­ãƒ£ãƒ³ã‚»ãƒ« ã‚·ã‚°ãƒŠãƒ«ï¼ˆclose(doneCh)ï¼‰
    // ã‚’å¾…ã¡å—ã‘ã‚‹
    case &amp;lt;-doneCh:
        // ã‚­ãƒ£ãƒ³ã‚»ãƒ«ãŒå®Ÿè¡Œã•ã‚ŒãŸã‚‰é©åˆ‡ã«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’åœæ­¢ã—ã¦
        // ã‚¨ãƒ©ãƒ¼ã‚’è¿”ã™ï¼
        tr.CancelRequest(req)
        &amp;lt;-errCh
        return fmt.Errorf(&amp;quot;canceled&amp;quot;)
    }

    return nil
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;context&lt;/code&gt;ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ä½¿ã†ã¨ã“ã‚Œã¯ã‚ˆã‚Šç°¡å˜ã«æ›¸ãã“ã¨ãŒã§ãã‚‹ï¼&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-golang&#34;&gt;func handler(w http.ResponseWriter, r *http.Request) {
    // 2ç§’ã§Timeoutã™ã‚‹contextã‚’ç”Ÿæˆã™ã‚‹
    // cancelã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ã§Timeoutå‰ã«ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ãŒã§ãã‚‹
    //     
    // ã¾ãŸå¾Œè¿°ã™ã‚‹ã‚ˆã†ã«Go1.7ã§ã¯net/httpãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã§context
    // ã‚’æ‰±ãˆã‚‹ã‚ˆã†ã«ãªã‚‹ï¼ä¾‹ãˆã°*http.Requestã‹ã‚‰ãã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®
    // contextã‚’å–å¾—ã§ãã‚‹ï¼
    ctx, cancel := context.WithTimeout(context.Background(), 2*time.Second)
    defer cancel()

    errCh := make(chan error, 1)
    go func() {
        errCh &amp;lt;- request3(ctx)
    }()

    select {
    case err := &amp;lt;-errCh:
        if err != nil {
            log.Println(&amp;quot;failed:&amp;quot;, err)
            return
        }
    }

    log.Println(&amp;quot;success&amp;quot;)
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;request()&lt;/code&gt;ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«æ›¸ã‘ã‚‹ï¼&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-golang&#34;&gt;func request(ctx context.Context) error {
    tr := &amp;amp;http.Transport{}
    client := &amp;amp;http.Client{Transport: tr}
    
    req, err := http.NewRequest(&amp;quot;POST&amp;quot;, backendService, nil)
    if err != nil {
        return err
    }

    // æ–°ãŸã«goroutineã‚’ç”Ÿæˆã—ã¦å®Ÿéš›ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’è¡Œã†
    // çµæœã¯error channelã«æŠ•ã’ã‚‹
    errCh := make(chan error, 1)
    go func() {
        _, err := client.Do(req)
        errCh &amp;lt;- err
    }()

    select {
    case err := &amp;lt;-errCh:
        if err != nil {
            return err
        }
    
    // TimeoutãŒç™ºç”Ÿã™ã‚‹ï¼Œã‚‚ã—ãã¯CancelãŒå®Ÿè¡Œã•ã‚Œã‚‹ã¨
    // ChannelãŒè¿”ã‚‹
    case &amp;lt;-ctx.Done():
        tr.CancelRequest(req)
        &amp;lt;-errCh
        return ctx.Err()
    }

    return nil
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;doneCh&lt;/code&gt;ã¨æ¯”ã¹ã‚‹ã¨&lt;code&gt;context&lt;/code&gt;ã‚’ä½¿ã£ãŸå ´åˆã¯ã‚ˆã‚Šã‚·ãƒ³ãƒ—ãƒ«ã«æ›¸ã‘ã¦ã„ã‚‹ã®ãŒã‚ã‹ã‚‹ï¼ã“ã‚Œã ã‘ã§ã¯ãªã„ï¼æ¨™æº–ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«ãªã‚‹ã¨ã„ã†ã“ã¨ã¯ï¼Œä»Šå¾Œã¯ã“ã®é‡è¦ãªã‚­ãƒ£ãƒ³ã‚»ãƒ«å‡¦ç†ã‚’çµ±ä¸€çš„ãªã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã¨ã—ã¦æ›¸ãã“ã¨ãŒã§ãã‚‹ã¨ã„ã†ã“ã¨ã§ã‚ã‚‹ï¼&lt;/p&gt;

&lt;h2 id=&#34;contextã®å¥‘ç´„&#34;&gt;contextã®å¥‘ç´„&lt;/h2&gt;

&lt;p&gt;å…·ä½“çš„ãªä½¿ã„æ–¹ã¯&lt;a href=&#34;https://tip.golang.org/pkg/context/&#34;&gt;ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ&lt;/a&gt;ãŒè©³ã—ã„ã®ã§ãã‚Œã‚’èª­ã‚€ã®ãŒè‰¯ã„ï¼å¤§ããªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã§ã¯ãªã„ã®ã§ã™ãã«èª­ã‚ã‚‹ã¨æ€ã†ï¼ä»¥ä¸‹ã§ã¯æ³¨æ„ã™ã‚‹ã¹ãã“ã¨ã‚’ç°¡å˜ã«ã¾ã¨ã‚ã‚‹ï¼&lt;/p&gt;

&lt;p&gt;ã¾ãšè‡ªåˆ†ã§&lt;code&gt;context&lt;/code&gt;ã‚’å‰æã¨ã—ãŸãƒ¡ã‚½ãƒƒãƒ‰/é–¢æ•°ã‚’æä¾›ã™ã‚‹å ´åˆã¯ä»¥ä¸‹ã®å½¢å¼ã‚’å®ˆã‚‹ï¼å¿…ãšãƒ¡ã‚½ãƒƒãƒ‰/é–¢æ•°ã®ç¬¬ä¸€å¼•æ•°ã«&lt;code&gt;context.Context&lt;/code&gt;ã‚’æ¸¡ã›ã‚‹ã‚ˆã†ã«ã™ã‚‹ï¼structãªã©ã«åŸ‹ã‚è¾¼ã‚“ã§ã¯ã„ã‘ãªã„ï¼&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-golang&#34;&gt;func DoSomething(ctx context.Context, arg Arg) error {
    // ... use ctx ...
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ã•ã‚‰ã«&lt;code&gt;context&lt;/code&gt;ã‚’ã‚‚ã¤é–¢æ•°ã¯é©åˆ‡ãªã‚­ãƒ£ãƒ³ã‚»ãƒ«å‡¦ç†ã‚’å®Ÿè£…ã™ã‚‹ã¹ãã§ã‚ã‚‹ï¼ã“ã®é–¢æ•°ã‚’ä½¿ã†å´ã¯å‘¼ã³å‡ºã—å´ï¼ˆã¤ã¾ã‚Šè¦ª&lt;code&gt;context&lt;/code&gt;ï¼‰ã§TimeoutãŒç™ºç”Ÿã—ãŸï¼Œã‚‚ã—ãã¯&lt;code&gt;Cancel&lt;/code&gt;ã‚’å®Ÿè¡Œã—ãŸå ´åˆã«é©åˆ‡ã«ã‚­ãƒ£ãƒ³ã‚»ãƒ«å‡¦ç†ãƒ»ãƒªã‚½ãƒ¼ã‚¹ã®è§£æ”¾ãŒå®Ÿè¡Œã•ã‚Œã‚‹ã“ã¨ã‚’æœŸå¾…ã™ã‚‹ï¼ä¾‹ãˆã°ï¼Œä¸Šã®ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã§ç¤ºã—ãŸã‚ˆã†ã«HTTPãƒªã‚¯ã‚¨ã‚¹ãƒˆã§ã‚ã‚Œã°&lt;code&gt;CancelRequest&lt;/code&gt;ã‚’å‘¼ã³ç¢ºå®Ÿã«å‡¦ç†ã‚’çµ‚äº†ã•ã›ã‚‹å¿…è¦ãŒã‚ã‚‹ï¼&lt;/p&gt;

&lt;p&gt;å†…éƒ¨ã§åˆ¥ã®é–¢æ•°ã‚’å‘¼ã¶å ´åˆã‚‚&lt;code&gt;context&lt;/code&gt;ã‚’å‰æã¨ã—è¦ª&lt;code&gt;context&lt;/code&gt;ã‹ã‚‰ã‚­ãƒ£ãƒ³ã‚»ãƒ«å¯èƒ½ã«ã™ã‚‹ã¹ãã§ã‚ã‚‹ï¼æ¨™æº–ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã§&lt;code&gt;context&lt;/code&gt;ã‚’å‰æã¨ã—ãŸãƒ¡ã‚½ãƒƒãƒ‰/é–¢æ•°ãŒå®Ÿè£…ã•ã‚Œå§‹ã‚ã¦ã„ã‚‹ã®ã¯ã“ã®ç†ç”±ã«ã‚ˆã‚‹ã¨æ€ã†ï¼&lt;/p&gt;

&lt;p&gt;ã“ã‚Œã‚‰ãŒGopherã®é–“ã®&lt;code&gt;context&lt;/code&gt;ã®å¥‘ç´„ã«ãªã‚‹ã¨æ€ã†ï¼&lt;/p&gt;

&lt;h2 id=&#34;valueã®æ‰±ã„&#34;&gt;Valueã®æ‰±ã„&lt;/h2&gt;

&lt;p&gt;&lt;code&gt;context&lt;/code&gt;ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¯é™å®šã•ã‚ŒãŸã‚¹ã‚³ãƒ¼ãƒ—ã®å€¤ï¼Œä¾‹ãˆã°èªè¨¼æƒ…å ±ãªã©ï¼Œã®å—ã‘æ¸¡ã—ã¨ã—ã¦ã‚‚åˆ©ç”¨ã§ãã‚‹ï¼ã—ã‹ã—ã“ã‚Œã¯ã‚­ãƒ¼ã¨å€¤ã‚’&lt;code&gt;interface{}&lt;/code&gt;å‹ã§æŒ‡å®šã™ã‚‹ãŸã‚åˆ©ç”¨ã«ã¯æ³¨æ„ãŒå¿…è¦ã§ã‚ã‚‹ï¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ã‚‚åˆ©ç”¨ã™ã‚‹ã¨ãã®æ³¨æ„ç‚¹ãŒã—ã£ã‹ã‚Šæ›¸ã‹ã‚Œã¦ã„ã‚‹ï¼ä¾‹ãˆã°ï¼Œå€¤ã®å–ã‚Šå‡ºã—ã«ã¯å°‚ç”¨ã®ãƒ¡ã‚½ãƒƒãƒ‰/é–¢æ•°ã‚’æº–å‚™ã—ã¦ã¡ã‚ƒã‚“ã¨ã—ãŸå‹ã¨ã—ã¦å€¤ã‚’è¿”ã™ã‚ˆã†ã«ã™ã‚‹ï¼Œã‚­ãƒ¼ã¯å…¬é–‹ã—ãªã„ãªã©ã§ã‚ã‚‹ï¼&lt;/p&gt;

&lt;p&gt;ã¾ãŸã©ã®ã‚ˆã†ãªå€¤ã‚’æ¸¡ã™ã¹ãã‹ã«é–¢ã—ã¦ã¯&lt;a href=&#34;http://peter.bourgon.org/go-kit/&#34;&gt;go-kit&lt;/a&gt;ã®é–‹ç™ºè€…ã§ã‚ã‚‹&lt;a href=&#34;https://twitter.com/peterbourgon&#34;&gt;Peter Bourgo&lt;/a&gt;æ°ã®ãƒ–ãƒ­ã‚°ãŒéå¸¸ã«å‚è€ƒã«ãªã‚‹ï¼&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://peter.bourgon.org/blog/2016/07/11/context.html&#34;&gt;context&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;æ¨™æº–ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ä¸­ã®context&#34;&gt;æ¨™æº–ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ä¸­ã®context&lt;/h2&gt;

&lt;p&gt;å…ˆã«ã‚‚è¿°ã¹ãŸã‚ˆã†ã«Go1.7ã§ã¯ã„ãã¤ã‹ã®æ¨™æº–ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã§&lt;code&gt;context&lt;/code&gt;ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ä½¿ã£ãŸãƒ¡ã‚½ãƒƒãƒ‰/é–¢æ•°ãŒå®Ÿè£…ã•ã‚ŒãŸï¼å®Ÿè£…ã•ã‚ŒãŸã®ã¯&lt;code&gt;net&lt;/code&gt;ã¨&lt;code&gt;net/http&lt;/code&gt;ï¼Œãã—ã¦&lt;code&gt;os/exec&lt;/code&gt;ã§ã‚ã‚‹ï¼ãã‚Œãã‚Œç°¡å˜ã«ç´¹ä»‹ã™ã‚‹ï¼&lt;/p&gt;

&lt;h3 id=&#34;net&#34;&gt;net&lt;/h3&gt;

&lt;p&gt;&lt;code&gt;net&lt;/code&gt;ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«ã¯&lt;code&gt;Dialer&lt;/code&gt;ã«æ–°ãŸã«&lt;code&gt;DialContext()&lt;/code&gt;ãƒ¡ã‚½ãƒƒãƒ‰ãŒè¿½åŠ ã•ã‚ŒãŸï¼ã“ã‚Œã¯æ—¢å­˜ã®&lt;code&gt;Dial()&lt;/code&gt;ãƒ¡ã‚½ãƒƒãƒ‰ã«&lt;code&gt;context.Context&lt;/code&gt;ã‚’æ¸¡ã›ã‚‹ã‚ˆã†ã«ã—ãŸãƒ¡ã‚½ãƒƒãƒ‰ã§ã‚ã‚‹ï¼ä¾‹ãˆã°ä»¥ä¸‹ã®ã‚ˆã†ã«ä½¿ã†ã“ã¨ãŒã§ãã‚‹ï¼&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;ctx, cancel := context.WithTimeout(context.Background(), 100*time.Millisecond)
defer cancel()

var dialer net.Dialer
conn, err := dialer.DialContext(ctx, &amp;quot;tcp&amp;quot;, &amp;quot;google.com:80&amp;quot;)
if err != nil {
    log.Fatal(err)
}
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;net-http&#34;&gt;net/http&lt;/h3&gt;

&lt;p&gt;&lt;code&gt;net/http&lt;/code&gt;ã«ã¯&lt;code&gt;Request&lt;/code&gt;ã«æ–°ãŸã«&lt;code&gt;Context()&lt;/code&gt;ãƒ¡ã‚½ãƒƒãƒ‰ã¨&lt;code&gt;WithContext()&lt;/code&gt;ãƒ¡ã‚½ãƒƒãƒ‰ãŒè¿½åŠ ã•ã‚ŒãŸï¼&lt;code&gt;Context()&lt;/code&gt;ã¯ãã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã«ãŠã‘ã‚‹&lt;code&gt;context.Context&lt;/code&gt;ã‚’å–å¾—ã™ã‚‹ãŸã‚ã«ï¼Œ&lt;code&gt;WithContext()&lt;/code&gt;ã¯å¤‰æ›´ã«ç”¨ã„ã‚‹ï¼&lt;/p&gt;

&lt;p&gt;Clientã¨ã—ã¦ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã«ä½¿ã†ã“ã¨ãŒã§ãã‚‹ï¼&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;req, err := http.NewRequest(&amp;quot;GET&amp;quot;, &amp;quot;http://google.com&amp;quot;, nil)
if err != nil {
    log.Fatal(err)
}

ctx, cancel := context.WithTimeout(req.Context(), 100*time.Millisecond)
defer cancel()

req = req.WithContext(ctx)

client := http.DefaultClient
res, err := client.Do(req)
if err != nil {
    log.Fatal(err)
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ã‚µãƒ¼ãƒãƒ¼ã¨ã—ã¦ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«&lt;code&gt;context.WithValue()&lt;/code&gt;ã‚’ç”¨ã„ã¦å„ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®ã‚¹ã‚³ãƒ¼ãƒ—ã«é™å®šã—ãŸå€¤ã®å—ã‘æ¸¡ã—ãªã©ã«ä½¿ã†ã“ã¨ãŒã§ãã‚‹ï¼&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-golang&#34;&gt;const tokenKey = &amp;quot;tokenKey&amp;quot;

func withAuth(a Authorizer next http.HandlerFunc) http.HandlerFunc {
    return func(w http.ResponseWriter, r *http.Request) {
        auth := r.Header.Get(&amp;quot;Authorization&amp;quot;)
        token := a.Auth(auth)
        
        ctx := r.Context()
        ctx = context.WithValue(ctx, tokenKey, token)
        next.ServeHTTP(w, r.WithContext(ctx))
	}
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ã¾ãŸãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§&lt;code&gt;ServerContextKey&lt;/code&gt;ã¨&lt;code&gt;LocalAddrContextKey&lt;/code&gt;ã¨ã„ã†ã‚­ãƒ¼ã§ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®&lt;code&gt;context.Context&lt;/code&gt;ã«ãã‚Œãã‚Œ&lt;code&gt;*http.Server&lt;/code&gt;ã¨&lt;code&gt;net.Addr&lt;/code&gt;ã®å€¤ãŒã‚»ãƒƒãƒˆã•ã‚Œã¦ãŠã‚Šãã‚Œã‚’ä½¿ã†ã“ã¨ã‚‚ã§ãã‚‹ï¼&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-golang&#34;&gt;func handler(w http.ResponseWriter, r *http.Request) {
    ctx := r.Context()
    srv := ctx.Value(ServerContextKey)
    ....
}    
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;os-exec&#34;&gt;os/exec&lt;/h3&gt;

&lt;p&gt;&lt;code&gt;os/exec&lt;/code&gt;ã«ã¯&lt;code&gt;CommandContext()&lt;/code&gt;é–¢æ•°ãŒè¿½åŠ ã•ã‚ŒãŸï¼ã“ã‚Œã¯æ—¢å­˜ã®&lt;code&gt;Command()&lt;/code&gt;é–¢æ•°ã«&lt;code&gt;context.Context&lt;/code&gt;ã‚’æ¸¡ã›ã‚‹ã‚ˆã†ã«ã—ãŸé–¢æ•°ã§ã‚ã‚‹ï¼ä¾‹ãˆã°ä»¥ä¸‹ã®ã‚ˆã†ã«ä½¿ã†ã“ã¨ãŒã§ãã‚‹&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;cmd := exec.CommandContext(ctx, &amp;quot;sleep&amp;quot;, &amp;quot;2&amp;quot;)
if err := cmd.Run(); err != nil {
    log.Fatal(err) 
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;context.Context&lt;/code&gt;ãŒçµ‚äº†ã™ã‚‹ã¨&lt;code&gt;os.Process.Kill&lt;/code&gt;ãŒå®Ÿè¡Œã•ã‚Œã‚‹ï¼&lt;/p&gt;

&lt;p&gt;&lt;code&gt;context&lt;/code&gt;ã¯&lt;code&gt;net&lt;/code&gt;é–¢é€£ã§ä¸»ã«ä½¿ã‚ã‚Œã¦ããŸãŒï¼Œãã†ã§ã¯ãªã„å ´åˆã§ã‚ã£ã¦ã‚‚ã‚¿ã‚¹ã‚¯ã«Deadlineã‚„Timeoutï¼ŒCancelã‚’æŒãŸã›ã‚‹ãŸã‚ã®æ¨™æº–çš„ãªã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã«åˆ©ç”¨å¯èƒ½ã§ã‚ã‚‹ã“ã¨ã‚’ç¤ºã™è‰¯ã„ä¾‹ã§ã‚ã‚‹ï¼&lt;/p&gt;

&lt;h2 id=&#34;context-leakã‚’é¿ã‘ã‚‹&#34;&gt;Context leakã‚’é¿ã‘ã‚‹&lt;/h2&gt;

&lt;p&gt;&lt;code&gt;WithCancel&lt;/code&gt;ã‚„&lt;code&gt;WithTimeout&lt;/code&gt;ï¼Œ&lt;code&gt;WithDeadline&lt;/code&gt;ã§è¿”ã•ã‚Œã‚‹&lt;code&gt;cancel&lt;/code&gt;ãŒå‘¼ã°ã‚Œãªã„ã¨ï¼Œãã®è¦ª&lt;code&gt;Context&lt;/code&gt;ãŒ&lt;code&gt;cancel&lt;/code&gt;ã•ã‚Œã‚‹ã¾ã§ãã®å­&lt;code&gt;Context&lt;/code&gt;ãŒLeakã™ã‚‹ï¼ˆcontext leakï¼‰ï¼Go1.7ã‹ã‚‰ã®&lt;code&gt;go vet&lt;/code&gt;ã¯ãã‚Œã‚’æ¤œå‡ºã™ã‚‹ï¼ˆ&lt;code&gt;-lostcancel&lt;/code&gt;ï¼‰ï¼ä¾‹ãˆã°ä»¥ä¸‹ã®ã‚ˆã†ãªå‡ºåŠ›ãŒå¾—ã‚‰ã‚Œã‚‹ï¼&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-golang&#34;&gt;func leak() {
    var ctx, cancel = context.WithCancel() 
    // the cancel function is not used on all paths 
    // (possible context leak)
    
    // this return statement may be reached 
    // without using the cancel var defined on line x
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;a href=&#34;https://go-review.googlesource.com/#/c/24150/13/src/cmd/vet/testdata/lostcancel.go&#34;&gt;ã“ã¡ã‚‰ã®å¤‰æ›´&lt;/a&gt;ã‚’è¦‹ã‚‹ã¨åˆ¥ã®æ¤œå‡ºãƒ‘ã‚¿ãƒ¼ãƒ³ã‚‚ã‚ã‹ã‚‹ï¼&lt;/p&gt;

&lt;h2 id=&#34;ã¾ã¨ã‚&#34;&gt;ã¾ã¨ã‚&lt;/h2&gt;

&lt;p&gt;ã©ã‚“ã©ã‚“ä½¿ã£ã¦ã„ãã¾ã—ã‚‡ã†ï¼&lt;/p&gt;

&lt;h2 id=&#34;å‚è€ƒ&#34;&gt;å‚è€ƒ&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://tip.golang.org/doc/go1.7&#34;&gt;Go 1.7 Release Notes DRAFT&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://dahernan.github.io/2015/02/04/context-and-cancellation-of-goroutines/&#34;&gt;Context and Cancellation of goroutines&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://talks.golang.org/2014/gotham-context.slide#1&#34;&gt;Cancelation, Context, and Plumbing&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://medium.com/@cep21/how-to-correctly-use-context-context-in-go-1-7-8f2c0fafdf39#.im1d1tr4r&#34;&gt;How to correctly use context.Context in Go 1.7&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>GopherCon 2016ã§LTã—ãŸ</title>
      <link>http://deeeet.com/writing/2016/07/12/gophercon2016-lt/</link>
      <pubDate>Tue, 12 Jul 2016 19:04:47 -0600</pubDate>
      
      <guid>http://deeeet.com/writing/2016/07/12/gophercon2016-lt/</guid>
      <description>

&lt;p&gt;&lt;a href=&#34;https://gophercon.com/&#34;&gt;GopherCon 2016&lt;/a&gt;ã§LTã‚’ã—ãŸï¼&lt;a href=&#34;https://twitter.com/tenntenn&#34;&gt;@tenntenn&lt;/a&gt;ã•ã‚“ãŒã‚„ã£ãŸé€šå¸¸ãƒˆãƒ¼ã‚¯ï¼ˆ50åˆ†ï¼‰ã¯ãªã‹ãªã‹ãƒãƒ¼ãƒ‰ãƒ«ãŒé«˜ã„ãŒLTã¯åˆã‚ã®ä¸€æ­©ã¨ã—ã¦è‰¯ã„ã¨æ€ã†ï¼æ¥å¹´ã‚‚Denverã§å†ã³é–‹å‚¬ã•ã‚Œã‚‹ã“ã¨ãŒã‚¢ãƒŠã‚¦ãƒ³ã‚¹ã•ã‚Œã¦ã„ã‚‹ã®ã§æ¥å¹´ä»¥é™ã«ç™ºè¡¨ã™ã‚‹ã²ã¨ã®ãŸã‚ã«ã©ã‚“ãªæ„Ÿã˜ã ã£ãŸã‹ã‚’ç°¡å˜ã«æ›¸ã„ã¦ãŠãï¼&lt;/p&gt;

&lt;h2 id=&#34;ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³&#34;&gt;ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;http://go-talks.appspot.com/github.com/tcnksm/talks/2016/07/gophercon/gophercon.slide#1&#34;&gt;ç™ºè¡¨ã‚¹ãƒ©ã‚¤ãƒ‰&lt;/a&gt;ã‚’è¦‹ã¦ã‚‚ã‚‰ãˆã°ã‚ã‹ã‚‹ãŒç‰¹ã«æ–°ã—ã„è©±ã‚’ã—ãŸã‚ã‘ã§ã¯ãªã„ï¼æ—¥æœ¬ã®ãƒŸãƒ¼ãƒˆã‚¢ãƒƒãƒ—ãªã©ã§è©±ã—ãŸã“ã¨ï¼Œãƒ–ãƒ­ã‚°ã«æ›¸ã„ãŸã“ã¨ã‚’è‹±èªã«ã—ãŸã ã‘ã«ã™ããªã„ï¼ˆãŸã å®Ÿæ¼”ãƒ‡ãƒ¢ã‚’ã™ã‚‹ã¨ã„ã†æŒ‘æˆ¦ã¯ã—ãŸï¼‰ï¼&lt;/p&gt;

&lt;p&gt;ã€Œå¤§å¾¡æ‰€ãŸã¡ã¨åŒã˜ã‚¹ãƒ†ãƒ¼ã‚¸ã§å–‹ã‚‹æ©Ÿä¼šã‚’é€ƒã™ã®ã¯ã‚‚ã£ãŸã„ãªã„ã€ï¼ˆã¡ãªã¿ã«å½“æ—¥ã®LTã¯åƒ•ã®æ¬¡ãŒ&lt;a href=&#34;https://twitter.com/robertgriesemer&#34;&gt;Robert Griesemer&lt;/a&gt;æ°ã§ãã®æ¬¡ãŒ&lt;a href=&#34;https://twitter.com/bradfitz&#34;&gt;Brad Fitzpatrick&lt;/a&gt;æ°ã ã£ãŸï¼ï¼‰ï¼Œã€Œæ—¥æœ¬ã®Goç•Œéšˆã«ã“ã‚“ãªã‚„ã¤ãŠã‚‹ã§ã£ã¦ã®ã‚’çŸ¥ã£ã¦ã‚‚ã‚‰ã„ãŸã„ã€ã¨ã„ã†ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ã§ç™ºè¡¨ã—ãŸï¼ã‚ã¨ãªã‚“ã¨ãªãè‡ªåˆ†ã®ä¸­ã§ã“ã“ã§ã¶ã£è¾¼ã¾ãªã„ã¨ä¸€ç”Ÿé€ƒã’ã‚‹ã¨æ€ã£ãŸã®ã‚‚ã‚ã‚‹ï¼ˆé€šå¸¸ã‚»ãƒƒã‚·ãƒ§ãƒ³ã«ã—ã‚ã‚„ã£ã¦è©±ã ãŒ50åˆ†å–‹ã‚‹è‰¯ã„ãƒã‚¿ãŒãªã‹ã£ãŸ..ï¼‰ï¼&lt;/p&gt;

&lt;h2 id=&#34;æµã‚Œ&#34;&gt;æµã‚Œ&lt;/h2&gt;

&lt;p&gt;ã¾ãšLTã‚»ãƒƒã‚·ãƒ§ãƒ³ã®å‹Ÿé›†ã¯ä¼šè­°é–‹å‚¬ã®10æ—¥å‰ã»ã©ã«ã‚¢ãƒŠã‚¦ãƒ³ã‚¹ã•ã‚ŒãŸï¼ˆ&lt;a href=&#34;https://blog.gopheracademy.com/gophercon-2016/gophercon2016-lightning-announce/&#34;&gt;&amp;ldquo;GopherCon 2016 - Lightning Talk Annoucement&amp;rdquo;&lt;/a&gt;ï¼‰ï¼é€ƒã•ãªã„ãŸã‚ã«ã¯twitterã®&lt;a href=&#34;https://twitter.com/gophercon&#34;&gt;@GopherCon&lt;/a&gt;ã‚„&lt;a href=&#34;https://invite.slack.golangbridge.org/&#34;&gt;Gophers slack&lt;/a&gt;ã‚’ã¡ã‚ƒã‚“ã¨ã‚¦ã‚©ãƒƒãƒã—ã¦ãŠãã¨è‰¯ã„ï¼&lt;/p&gt;

&lt;p&gt;CFPã¯&lt;a href=&#34;https://www.papercall.io/gophercon-lightning-talks-2016&#34;&gt;PaperCall&lt;/a&gt;ã§è¡Œã‚ã‚ŒãŸï¼ã‚¿ã‚¤ãƒˆãƒ«ã‚„ç™ºè¡¨å†…å®¹ã‚’ã¡ã‚ƒã‚“ã¨æ›¸ãï¼&lt;/p&gt;

&lt;p&gt;çµæœã®ç™ºè¡¨ã¯é–‹å‚¬å‰æ—¥ã«ï¼Œç™ºè¡¨æ—¥ã¯é€šå¸¸ä¼šè­°ã®åˆæ—¥ã«ï¼Œç™ºè¡¨é †ã¯å½“æ—¥ãã®å ´ã§ç™ºè¡¨ã•ã‚ŒãŸï¼ãã®ãŸã‚è³‡æ–™ã®æº–å‚™ã¨ç·´ç¿’ã®æ™‚é–“ã¯ã»ã¨ã‚“ã©ãªã„ï¼é£›è¡Œæ©Ÿã§ã®ç§»å‹•ä¸­ãªã©ã«å½¢ã ã‘è³‡æ–™ã‚’å®Œæˆã•ã›ä¼šè­°ã®åˆé–“ã«ç·´ç¿’ã™ã‚‹ã—ã‹ãªã„ï¼ã¾ãŸäº‹å‰ã«ãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤ã®æ¥ç¶šãƒã‚§ãƒƒã‚¯ãªã©ã¯ã§ããªã„ã®ã§ç‰¹æ®Šãªã“ã¨ã¯ã—ãªã„ã»ã†ãŒã‚ˆã„ï¼&lt;/p&gt;

&lt;p&gt;ç™ºè¡¨å ´æ‰€ã¯ä¸Šã®å†™çœŸã®ãƒ¡ã‚¤ãƒ³ãƒ«ãƒ¼ãƒ ï¼ç™ºè¡¨æ™‚é–“ã¯6åˆ†ã§ï¼Œè³ªç–‘å¿œç­”ã¯æ¬¡ã®ç™ºè¡¨è€…ã®æº–å‚™ãŒå®Œäº†ã™ã‚‹ã¾ã§è¡Œã‚ã‚ŒãŸï¼&lt;/p&gt;

&lt;p&gt;LTã‚»ãƒƒã‚·ãƒ§ãƒ³ã¯é€šå¸¸ä¼šè­°ãŒè¡Œã‚ã‚ŒãŸ2æ—¥é–“ä¸¡æ–¹ã§è¡Œã‚ã‚Œï¼Œç™ºè¡¨äººæ•°ã¯ãã‚Œãã‚Œ12åã ã£ãŸï¼ä»–ã®ç™ºè¡¨ã‚„è‡ªåˆ†ã®ç™ºè¡¨ã‚’è€ƒãˆã‚‹ã¨æ¡æŠç‡ã¯é«˜ã„ã¨æ„Ÿã˜ãŸï¼ˆç›´å‰ãªã®ã§ç”³ã—è¾¼ã‚€äººãŒå°‘ãªã‹ã£ãŸã®ã‹ã‚‚ã—ã‚Œãªã„ï¼‰ï¼&lt;/p&gt;

&lt;p&gt;ã“ã®æµã‚Œã¯æ¥å¹´å¤‰ã‚ã‚‹ã‹ã‚‚ã—ã‚Œãªã„ã—å¤‰ã‚ã‚‰ãªã„ã‹ã‚‚ã—ã‚Œãªã„ï¼ã‚‚ã—æ¥å¹´ç§»è¡ŒæŒ‘æˆ¦ã™ã‚‹äººãŒã„ã‚Œã°ãœã²å‚è€ƒã«ã—ã¦ãã ã•ã„ï¼&lt;/p&gt;

&lt;h2 id=&#34;ã¾ã¨ã‚&#34;&gt;ã¾ã¨ã‚&lt;/h2&gt;

&lt;p&gt;å‰ãã†ã«æ›¸ã„ãŸãŒæ¡æŠã•ã‚Œã¦ã‹ã‚‰ã²ãŸã™ã‚‰ç·Šå¼µã—ã€Œè´è¡†ã¨ã—ã¦æ™®é€šã«æ¥½ã—ã‚€ã ã‘ã«ã™ã‚Œã°ã‚ˆã‹ã£ãŸã€ã¨ä½•åº¦ã‚‚æ€ã£ãŸï¼ãŸã çµ‚ã‚ã£ã¦ã¿ã‚Œã°ã‚„ã£ã¦ã‚ˆã‹ã£ãŸã¨ã„ã†æ°—æŒã¡ã—ã‹ãªã„ï¼ˆ&lt;a href=&#34;https://twitter.com/___leigh___/status/753005029993381896&#34;&gt;ã“ã†ã„ã†ãƒªãƒ—ãƒ©ã‚¤&lt;/a&gt;ã‚‚ã‚‰ãˆãŸã‚Šï¼Œçµ‚ã‚ã£ãŸå¾Œã«è­°è«–ã§ãã¦è‰¯ã‹ã£ãŸï¼‰ï¼æ©Ÿä¼šãŒã‚ã‚‹ã²ã¨ã¯ã©ã‚“ã©ã‚“æŒ‘æˆ¦ã—ã¾ã—ã‚‡ã†ï¼&lt;/p&gt;

&lt;p&gt;ã¡ãªã¿ã«é€šå¸¸ã‚»ãƒƒã‚·ãƒ§ãƒ³ã®ãƒˆãƒ¼ã‚¯ã¯ä»¥ä¸‹ãŒæœ€é«˜ã ã£ãŸã®ã§ãƒ“ãƒ‡ã‚ªãŒå…¬é–‹ã•ã‚ŒãŸã‚‰å…¨éƒ¨è¦³ã¾ã—ã‚‡ã†ï¼&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&amp;ldquo;Understanding nil&amp;rdquo;&lt;/li&gt;
&lt;li&gt;&amp;ldquo;Navigating Unfamiliar Code with the Go Guru&amp;rdquo;&lt;/li&gt;
&lt;li&gt;&amp;ldquo;Go for Data Science&amp;rdquo;&lt;/li&gt;
&lt;li&gt;&amp;ldquo;Visualizing Concurrency in Go&amp;rdquo;&lt;/li&gt;
&lt;li&gt;&amp;ldquo;Go for Crypto Developers&amp;rdquo;&lt;/li&gt;
&lt;li&gt;&amp;ldquo;Inside the Map Implementation&amp;rdquo;&lt;/li&gt;
&lt;li&gt;&amp;ldquo;Go Without the Operating System&amp;rdquo;&lt;/li&gt;
&lt;li&gt;&amp;ldquo;The Design of the Go Assembler&amp;rdquo;&lt;/li&gt;
&lt;li&gt;&amp;ldquo;cgo: Safely Taming the Beast&amp;rdquo;&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>Golangã®æ–°ã—ã„GCã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ  Transaction Oriented Collectorï¼ˆTOCï¼‰</title>
      <link>http://deeeet.com/writing/2016/06/29/toc/</link>
      <pubDate>Wed, 29 Jun 2016 10:31:00 +0900</pubDate>
      
      <guid>http://deeeet.com/writing/2016/06/29/toc/</guid>
      <description>

&lt;p&gt;&lt;a href=&#34;http://golang.org/s/gctoc&#34;&gt;http://golang.org/s/gctoc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Goã®æ–°ã—ã„GCã®ProposalãŒå‡ºãŸï¼ã¾ã Proposalæ®µéšã§ã‚ã‚Šå…·ä½“çš„ãªå®Ÿè£…ã¯ãªã„ãŒç°¡å˜ã«ã©ã®ã‚ˆã†ãªã‚‚ã®ã§ã‚ã‚‹ã‹ã‚’ã¾ã¨ã‚ã¦ãŠãï¼&lt;/p&gt;

&lt;p&gt;Goã®GCã¯Go1.5ã«ãŠã„ã¦å˜ç´”ãªStop The Worldï¼ˆSTWï¼‰ã‹ã‚‰Concurrent Mark &amp;amp; Sweepã¸ã¨å¤‰æ›´ã•ã‚Œå¤§ããªæ”¹å–„ãŒã‚ã£ãŸï¼ˆè©³ã—ãã¯&lt;a href=&#34;http://deeeet.com/writing/2016/05/08/gogc-2016/&#34;&gt;&amp;ldquo;Golangã®GCã‚’è¿½ã†&amp;rdquo;&lt;/a&gt;ã«æ›¸ã„ãŸï¼‰ï¼å…ˆã®è¨˜äº‹ã«æ›¸ã„ãŸã‚ˆã†ã«Go1.5ã«ãŠã‘ã‚‹GCã®æ”¹å–„ã¯ä¸»ã«ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·ï¼ˆæœ€å¤§åœæ­¢æ™‚é–“ï¼‰ã«é‡ããŒç½®ã‹ã‚Œã„ãŸï¼æ•°å€¤ç›®æ¨™ã¨ã—ã¦10msãŒæ²ã’ã‚‰ã‚ŒGo1.6ã«ãŠã„ã¦ã¯å¤§ããªãƒ’ãƒ¼ãƒ—ã‚µã‚¤ã‚ºï¼ˆ500GBï¼‰ã«ãŠã„ã¦ãã‚Œã‚’é”æˆã—ã¦ã„ãŸï¼&lt;/p&gt;

&lt;p&gt;GCã®è©•ä¾¡é …ç›®ã¯ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·ã®ã¿ã§ã¯ãªã„ï¼ã‚¹ãƒ«ãƒ¼ãƒ—ãƒƒãƒˆã‚„ãƒ’ãƒ¼ãƒ—ã®ä½¿ç”¨åŠ¹ç‡ï¼ˆæ–­ç‰‡åŒ–ã®å¯¾å‡¦ï¼‰ãªã©ã‚‚é‡è¦ã§ã‚ã‚‹ï¼Go1.6ã¾ã§ã®GCã§ã¯ãã‚Œã‚‰ã«ã¤ã„ã¦å¤§ããè¨€åŠã•ã‚Œã¦ã„ãªã‹ã£ãŸï¼ˆã¨æ€ã†ï¼‰ï¼ä¾‹ãˆã°ã‚¹ãƒ«ãƒ¼ãƒ—ãƒƒãƒˆã«é–¢ã—ã¦ã¯ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ã®é€²åŒ–ãŒãã‚Œã‚’æ”¹å–„ã™ã‚‹ã¯ãšã§ã‚ã‚‹ã¨ã„ã†å‰æãŒç½®ã‹ã‚Œã¦ã„ãŸï¼ˆ&lt;a href=&#34;https://blog.golang.org/go15gc&#34;&gt;&amp;ldquo;Go GC: Prioritizing low latency and simplicity&amp;rdquo;&lt;/a&gt;ï¼‰ï¼&lt;/p&gt;

&lt;p&gt;ä»Šå›ææ¡ˆã•ã‚ŒãŸTransaction Oriented Collectorï¼ˆTOCï¼‰ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã¯GCã®ã‚¹ãƒ«ãƒ¼ãƒ—ãƒƒãƒˆã‚’æ”¹å–„ã™ã‚‹ã‚‚ã®ã§ã‚ã‚‹ï¼&lt;/p&gt;

&lt;h2 id=&#34;tocã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®çµŒé¨“å‰‡&#34;&gt;TOCã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®çµŒé¨“å‰‡&lt;/h2&gt;

&lt;p&gt;Transaction Oriented Collectorï¼ˆTOCï¼‰ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã¯ã€Œã‚ã‚‹Transactionã§ç”Ÿæˆã•ã‚ŒãŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯TransactionãŒçµ‚äº†ã™ã‚‹ã¨åŒæ™‚ã«ã™ãæ­»ã¬ã“ã¨ãŒå¤šã„ã€ã¨ã„ã†çµŒé¨“å‰‡ã«åŸºã¥ãã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã§ã‚ã‚‹ï¼ã“ã“ã§ã„ã†Transactionã¨ã¯ã„ã‚ã‚†ã‚‹&lt;a href=&#34;https://en.wikipedia.org/wiki/ACID&#34;&gt;ACID&lt;/a&gt;ã«ãŠã‘ã‚‹ä¸å¯åˆ†ãªå‡¦ç†å˜ä½ã§ã¯ãªãï¼ŒWebã‚µãƒ¼ãƒ“ã‚¹ãªã©ã§ãƒªã‚¯ã‚¨ã‚¹ãƒˆå—ã‘ã¦ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’è¿”ã™ã¾ã§ã®ä¸€é€£ã®å‡¦ç†ã‚’ç¤ºã™ï¼&lt;/p&gt;

&lt;p&gt;ã“ã®ä»®å®šã¯Generational GCï¼ˆä¸–ä»£åˆ¥GCï¼‰ãŒåˆ©ç”¨ã—ã¦ã„ã‚‹ã€Œå¤šãã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯ç”Ÿæˆã•ã‚Œã¦ã™ãã«ã‚´ãƒŸã¨ãªã‚Šã‚ãšã‹ãªã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã ã‘ãŒé•·ãç”Ÿãæ®‹ã‚‹ã€ã¨ã„ã†çµŒé¨“å‰‡ã«ä¼¼ã¦ã„ã‚‹ï¼TOCã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã¯ã“ã®çµŒé¨“å‰‡ã®Goãªã‚Šã®å†è§£é‡ˆã®ã‚ˆã†ã«ã‚‚è¦‹ãˆã‚‹ï¼&lt;/p&gt;

&lt;p&gt;ã“ã®TOCã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®çµŒé¨“å‰‡ã¯ã©ã“ã‹ã‚‰æ¥ãŸã‹? GoãŒå¤šãã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã‚‹Cloudã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã‚ã‚‹ï¼ã“ã®ã‚ˆã†ãªã‚¢ãƒ—ãƒªãƒ¼ã‚·ãƒ§ãƒ³ã¯ï¼Œä»–ã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚„ä»–ã®Goroutineã‹ã‚‰ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å—ã‘ï¼Œãã‚Œã‚’Unmarshalã—ï¼Œãã‚Œã‚’ä½¿ã„è¨ˆç®—ã‚’ã—ï¼Œçµæœã‚’Marshalã—ï¼Œãã‚Œã‚’ä»–ã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚„Goroutineã«æŠ•ã’ã‚‹ï¼ãã—ã¦ãã®Goroutineã¯æ­»ã¬ã‹ä»–ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å—ã‘ã‚‹ãŸã‚ã«åœæ­¢çŠ¶æ…‹ã«ãªã‚‹ï¼&lt;/p&gt;

&lt;p&gt;ãƒªã‚¯ã‚¨ã‚¹ãƒˆä¸­ã§ã®è¨ˆç®—ã§ã¯å¤§ããªãƒ’ãƒ¼ãƒ—ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã‚€ã“ã¨ã¯ã‚ã‚‹ã‹ã‚‚ã—ã‚Œãªã„ãŒå…¸å‹çš„ã«ã¯æ›¸ãè¾¼ã¿ã¯æ»…å¤šã«èµ·ããšãƒ’ãƒ¼ãƒ—ã¯Transactioné–“ã§ä¸€å®šã«ãªã‚‹ï¼ãã—ã¦Goroutineå†…ã§æ–°ãŸã«ã‚¢ãƒ­ã‚±ãƒ¼ãƒˆã—ãŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯ä»–ã®Goroutineã«å…±æœ‰ã•ã‚Œã‚‹ï¼ˆpublishï¼‰ã‹ã‚‚ã—ã‚Œãªã„ã—å…±æœ‰ã•ã‚Œãªã„ï¼ˆlocalï¼‰ã‹ã‚‚ã—ã‚Œãªã„ï¼TOCã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã¯ã“ã®å…±æœ‰ã•ã‚Œãªã„å ´åˆã®è¦³æ¸¬çµæœã‚’ä½¿ã†ï¼Œã¤ã¾ã‚Šã€Œã‚‚ã—GoroutineãŒãã®ä¸­ã§ã‚¢ãƒ­ã‚±ãƒ¼ãƒˆã—ãŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’å…±æœ‰ã—ãªã„å ´åˆï¼Œãã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯GCæ™‚ã«åˆ°é”ä¸å¯èƒ½ã«ãªã‚Šé–¢é€£ã™ã‚‹ãƒ¡ãƒ¢ãƒªé ˜åŸŸã¯ã™ãã«ã‚¢ãƒ­ã‚±ãƒ¼ãƒˆã§ãã‚‹ã€ã§ã‚ã‚‹ï¼&lt;/p&gt;

&lt;p&gt;TOCã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®æ©æµã‚’å—ã‘ã‚‹ã®ã¯&lt;code&gt;net/http#Server&lt;/code&gt;ã‚„&lt;code&gt;net/rpc#Server&lt;/code&gt;ã‚’ä½¿ã£ãŸã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã‚ã‚‹ã¨æƒ³åƒã§ãã‚‹ï¼&lt;/p&gt;

&lt;h2 id=&#34;tocã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®å®Ÿè£…ã®ææ¡ˆ&#34;&gt;TOCã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®å®Ÿè£…ã®ææ¡ˆ&lt;/h2&gt;

&lt;p&gt;TOCã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®å®Ÿè£…ã¯Proposalã®&lt;a href=&#34;https://docs.google.com/document/d/1gCsFxXamW8RRvOe5hECz98Ftk-tcRRJcDFANj2VwCB0/edit#heading=h.aqj7hn20fsaw&#34;&gt;Examples&lt;/a&gt;ã‚’ã¿ã‚‹ã¨ã‚ã‹ã‚Šã‚„ã™ã„ï¼&lt;/p&gt;

&lt;p&gt;ï¼ˆã¾ãšå‰æã¨ã—ã¦Goã®GCã®Markã¯Bitmapã§ç®¡ç†ã•ã‚Œã¦ã„ã‚‹ï¼Bitmapã¯ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ˜ãƒƒãƒ€ã«Markbitã‚’æŒãŸã›ã‚‹ã®ã§ã¯ãªãé–¢é€£ã™ã‚‹ãƒ¡ãƒ¢ãƒªé ˜åŸŸã‚’Bitã®ãƒ†ãƒ¼ãƒ–ãƒ«ã¨ã—ã¦åˆ¥ã§é›†ä¸­ç®¡ç†ã™ã‚‹æ‰‹æ³•ã§ã‚ã‚‹ï¼ã“ã‚Œã¯Copy-On-Writeã¨ã®ç›¸æ€§ãŒè‰¯ã„ãªã©ãŒã‚ã‚‹ï¼‰ï¼&lt;/p&gt;

&lt;p&gt;TOCã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã§ã¯å„Goroutineã¯2ã¤ã®Pointerã‚’ã‚‚ã¤ï¼1ã¤ã¯Current Sweep Pointerã§ã‚ã‚‹ï¼ã“ã®Pointerã¯ã©ã“ã¾ã§Sweepã‚’è¡Œã£ãŸã‹ï¼ˆAllocateã—ãŸã‹ï¼‰ã‚’ç¤ºã™ï¼ã‚‚ã†1ã¤ã¯Initial Sweep Pointerã§ã‚ã‚‹ï¼ã“ã‚Œã¯ãã®Goroutineé–‹å§‹æ™‚ã®Sweep Pointerã‚’ç¤ºã™ï¼ã“ã®2ã¤ã®Pointerã®é–“ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯Markã•ã‚Œã¦ã„ã‚ˆã†ãŒMarkã•ã‚Œã¦ã„ã¾ã„ãŒã€Œãã®Goroutineã§æ–°ãŸã«ã‚¢ãƒ­ã‚±ãƒ¼ãƒˆã•ã‚ŒãŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã€ã¨ãªã‚‹ï¼ãã—ã¦Markã•ã‚Œã¦ã„ãªã„ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯å…±æœ‰ã•ã‚Œã¦ã„ãªã„ï¼ˆPublishã•ã‚Œã¦ã„ãªã„ï¼‰ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§ã‚ã‚‹ã¨ã™ã‚‹ï¼&lt;/p&gt;

&lt;p&gt;ã“ã‚Œã‚’ã©ã®ã‚ˆã†ã«å®Ÿç¾ã™ã‚‹ã‹? ãƒ©ã‚¤ãƒˆãƒãƒªã‚¢ï¼ˆWrite barrierï¼‰ã‚’ä½¿ã†ï¼ã“ã®ãƒ©ã‚¤ãƒˆãƒãƒªã‚¢ã¯ãã®Goroutineå†…ã§æ–°ãŸã«ã‚¢ãƒ­ã‚±ãƒ¼ãƒˆã•ã‚ŒãŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒInvariantã§ã‚ã‚‹ã“ã¨ã‚’ä¿è¨¼ã™ã‚‹ï¼ã¤ã¾ã‚Šãã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒä»–ã«å…±æœ‰ã•ã‚Œã‚Œã°Markã‚’ã¤ã‘ã‚‹ï¼&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;10011110010100101010100001001011010010110100101001011101010111101
ã€€ã€€ã€€ã€€^                 &amp;lt;- before  ^  after -&amp;gt;
ã€€ã€€ã€€ã€€Initial Sweep Pointer        Current Sweep Pointer     
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ï¼ˆProposalã®å›³ã‚’æ‹å€Ÿã•ã›ã¦ã‚‚ã‚‰ã£ãŸï¼1ã¯å‰å›ã®GCã§åˆ°é”å¯èƒ½ã§ã‚ã£ãŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼Œã‚‚ã—ãã¯Goroutineã§æ–°ãŸã«ã‚¢ãƒ­ã‚±ãƒ¼ãƒˆã•ã‚Œãã—ã¦Publishã•ã‚ŒãŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§ã‚ã‚‹ï¼Beforeã¨Initialã®é–“ã«ã‚ã‚‹0ã¯ã‚¢ãƒ­ã‚±ãƒ¼ãƒˆã•ã‚ŒãŸãŒPublishã•ã‚Œã¦ã„ãªã„ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§ã‚ã‚‹ï¼Afterã«ã‚ã‚‹0ã¯ã¾ã ã‚¢ãƒ­ã‚±ãƒ¼ãƒˆã•ã‚Œã¦ã„ãªã„ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§ã‚ã‚‹ï¼‰&lt;/p&gt;

&lt;p&gt;ã‚ã¨ã¯Goroutineçµ‚äº†æ™‚ã«Current Sweep Pointerã‚’Initial Sweep Pointerã¸ã¨æˆ»ã›ã°è‰¯ã„ï¼æ–°ãŸã«ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒç”Ÿæˆã•ã‚Œã¦ã„ã‚ˆã†ã¨ãã‚ŒãŒå…±æœ‰ã•ã‚Œã¦ã„ãªã‘ã‚Œã°Markã¯ç«‹ã£ã¦ã„ãªã„ã®ã§ï¼Œæ¬¡å›ã®GCã‚µã‚¤ã‚¯ãƒ«ã‚’å¾…ãŸãšã«æ¬¡å›ã®Sweepã«ãŠã„ã¦ã‚¢ãƒ­ã‚±ãƒ¼ãƒˆã®å¯¾è±¡ã«ãªã‚‹ï¼&lt;/p&gt;

&lt;h2 id=&#34;ã¾ã¨ã‚&#34;&gt;ã¾ã¨ã‚&lt;/h2&gt;

&lt;p&gt;ç°¡å˜ã«Goã®æ–°ãŸãªGCã®Proposalã‚’è¿½ã£ã¦ã¿ãŸï¼ä»Šå¾Œã®å®Ÿè£…ã¨ãã‚Œã«ã‚ˆã‚‹åŠ¹æœãŒã©ã†ãªã‚‹ã‹ãŒæ¥½ã—ã¿ã§ã‚ã‚‹ï¼&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Golangã§Flame Graphã‚’æã</title>
      <link>http://deeeet.com/writing/2016/05/29/go-flame-graph/</link>
      <pubDate>Sun, 29 May 2016 14:22:17 +0900</pubDate>
      
      <guid>http://deeeet.com/writing/2016/05/29/go-flame-graph/</guid>
      <description>

&lt;p&gt;ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å•é¡Œã®è§£æ±ºã‚„ãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°ã§å¤§åˆ‡ãªã®ã¯å•é¡Œã®ã‚³ã‚¢ã‚„ãƒœãƒˆãƒ«ãƒãƒƒã‚¯ã«æœ€çŸ­ãƒ‘ã‚¹ã§åˆ°é”ã™ã‚‹ã“ã¨ã§ã‚ã‚‹ï¼&lt;/p&gt;

&lt;p&gt;åŸºæœ¬çš„ãªãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åˆ†æã®å…¥ã‚Šå£ã¯ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ã‚¹ãƒ¬ãƒƒãƒ‰ãŒon-CPUã§æ™‚é–“ã‚’æ¶ˆè²»ã—ã¦ã„ã‚‹ã‹off-CPUã§æ™‚é–“ã‚’æ¶ˆè²»ã—ã¦ã„ã‚‹ã‹ã‚’ç†è§£ã™ã‚‹ã¨ã“ã‚ã‹ã‚‰å§‹ã¾ã‚‹ï¼on-CPUã®å ´åˆã¯ãã‚ŒãŒuserãƒ¢ãƒ¼ãƒ‰ã‹kernelãƒ¢ãƒ¼ãƒ‰ã‹ã‚’ç‰¹å®šã—ï¼Œã•ã‚‰ã«CPUãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒªãƒ³ã‚°ã«ã‚ˆã£ã¦ã©ã®code pathãŒCPUã‚’æ¶ˆè²»ã—ã¦ã„ã‚‹ã®ã‹ã®åˆ†æã«å‘ã‹ã†ï¼off-CPUã®å ´åˆã¯I/Oã‚„Lockï¼Œpagingã¨ã„ã£ãŸå•é¡Œã®åˆ†æã«å‘ã‹ã†ï¼&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://www.brendangregg.com/flamegraphs.html&#34;&gt;Flame Graph&lt;/a&gt;ã¯on-CPUã§ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®å•é¡ŒãŒç™ºè¦šã—ãŸæ™‚ã«è¡Œã†CPUãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒªãƒ³ã‚°ã‚’åŠ©ã‘ã‚‹ï¼ã©ã®code pathãŒãƒœãƒˆãƒ«ãƒãƒƒã‚¯ã«ãªã£ã¦ã„ã‚‹ã®ã‹ã‚’1ã¤ã®ã‚°ãƒ©ãƒ•ä¸Šã§ç†è§£ã§ãã‚‹ï¼æœ¬è¨˜äº‹ã§ã¯Flame Graphã¨ã¯ä½•ã‹? ãªãœå¿…è¦ãªã®ã‹? ã‚’è§£èª¬ã—Goã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ãã‚Œã‚’ç”¨ã„ã‚‹ãŸã‚ã«æ–¹æ³•ã‚’è§£èª¬ã™ã‚‹ï¼&lt;/p&gt;

&lt;h2 id=&#34;flame-graphã¨ã¯ä½•ã‹&#34;&gt;Flame Graphã¨ã¯ä½•ã‹?&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;http://www.brendangregg.com/flamegraphs.html&#34;&gt;Flame Graph&lt;/a&gt;ã¯CPUãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒªãƒ³ã‚°çµæœã‚’visualizeã—ãŸã‚°ãƒ©ãƒ•ã§ã‚ã‚‹ï¼å…ƒJoyentï¼Œç¾Netflixã®&lt;a href=&#34;http://www.brendangregg.com/index.html&#34;&gt;Brendan Gregg&lt;/a&gt;æ°ã«ã‚ˆã£ã¦é–‹ç™ºã•ã‚ŒãŸï¼ä¾‹ãˆã°ä»¥ä¸‹ã¯MySQLã®CPUãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒªãƒ³ã‚°çµæœã‚’Flame Graphã§æç”»ã—ãŸã‚‚ã®ã§ã‚ã‚‹ï¼&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://www.brendangregg.com/FlameGraphs/cpu-mysql-filt.svg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;h3 id=&#34;cpu-ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒªãƒ³ã‚°&#34;&gt;CPU ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒªãƒ³ã‚°&lt;/h3&gt;

&lt;p&gt;CPUãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒªãƒ³ã‚°ã®å…±é€šã®ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã¯Stack traceã®ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ã§ã‚ã‚‹ï¼Stack traceã¨ã„ã†ã®ã¯é–¢æ•°ã‚³ãƒ¼ãƒ«ã®ãƒªã‚¹ãƒˆã§ï¼Œcode pathã®å…ˆç¥–ã‚’è¿½ã†ã“ã¨ãŒã§ãã‚‹ï¼ä¾‹ãˆã°ï¼Œä»¥ä¸‹ã¯Golangã®stack traceã§å­ã‹ã‚‰è¦ªã¸Stackã¨è¾¿ã‚‹ã“ã¨ãŒã§ãã‚‹ï¼&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;syscall.Syscall
syscall.write
syscall.Write
os.(*File).write
os.(*File).Write
log.(*Logger).Output
log.Printf
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;flame-graphã®åˆæœŸè¡å‹•&#34;&gt;Flame Graphã®åˆæœŸè¡å‹•&lt;/h3&gt;

&lt;p&gt;CPUãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒªãƒ³ã‚°ã®å‡ºåŠ›ã¯å¾€ã€…ã«ã—ã¦verboseã§ã‚ã‚‹ï¼ä¾‹ãˆã°ï¼ŒBrendan Greggæ°ãŒFlame Graphã‚’ã¤ãã‚‹ãã£ã‹ã‘ã¨ãªã£ãŸãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³ã®MySQLã®ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒªãƒ³ã‚°ã®å‡ºåŠ›ã¯500,000è¡Œè¿‘ãã‚‚ã‚ã£ãŸã¨ã„ã†ï¼ˆ&lt;a href=&#34;http://www.slideshare.net/brendangregg/blazing-performance-with-flame-graphs/16&#34;&gt;å‚è€ƒç”»åƒ&lt;/a&gt;&amp;hellip;ã‚„ã°ã„wï¼‰ï¼&lt;/p&gt;

&lt;p&gt;Flame Graphã¯ãã®ã‚ˆã†ãªè†¨å¤§ãªCPUãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒªãƒ³ã‚°ã‚’ä¸€ã¤ã®ã‚°ãƒ©ãƒ•ä¸Šã§ç›´æ„Ÿçš„ã‹ã¤ç°¡å˜ã«ç†è§£ã™ã‚‹ãŸã‚ã«é–‹ç™ºã•ã‚ŒãŸï¼&lt;/p&gt;

&lt;h3 id=&#34;flame-graphã®èª­ã¿æ–¹&#34;&gt;Flame Graphã®èª­ã¿æ–¹&lt;/h3&gt;

&lt;p&gt;ä»¥ä¸‹ã¯Flame Graphã‚’å˜ç´”åŒ–ã—ãŸã‚‚ã®ã§ã‚ã‚‹ï¼&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://deliveryimages.acm.org/10.1145/2930000/2927301/gregg6.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Stack traceã¯é•·æ–¹å½¢ã®ãƒœãƒƒã‚¯ã‚¹ã®åˆ—ã§è¡¨ç¾ã•ã‚Œã‚‹ï¼1ã¤1ã¤ã®ãƒœãƒƒã‚¯ã‚¹ã¯é–¢æ•°ï¼ˆStack frameï¼‰ã‚’ç¤ºã™&lt;/li&gt;
&lt;li&gt;yè»¸ã¯Stackã®æ·±ã•ã‚’ç¤ºã™ï¼ä¸€ç•ªä¸Šã®ãƒœãƒƒã‚¯ã‚¹ã¯Stack traceãŒåé›†ã•ã‚ŒãŸæ™‚ã«on-CPUã§ã‚ã£ãŸé–¢æ•°ã§ã‚ã‚Šï¼Œãã®ä¸‹ã«ã‚ã‚‹ãƒœãƒƒã‚¯ã‚¹ã¯ã™ã¹ã¦å…ˆç¥–ã«ãªã‚‹ï¼ã‚ã‚‹ãƒœãƒƒã‚¯ã‚¹ã®ä¸‹ã«ã‚ã‚‹ãƒœãƒƒã‚¯ã‚¹ã¯ãã®é–¢æ•°ã®è¦ªã§ã‚ã‚‹ï¼ˆé«˜ã„ã»ã©æ‚ªã„ã‚ã‘ã§ã¯ãªã„ï¼‰&lt;/li&gt;
&lt;li&gt;xè»¸ã¯ãã®é–¢æ•°ã®Sampleã®å‰²åˆã‚’ç¤ºã™ï¼&lt;strong&gt;æ™‚é–“ã§ã¯ãªã„&lt;/strong&gt;ï¼ãã‚Œãã‚Œã®é–¢æ•°ã¯ã‚¢ãƒ«ãƒ•ã‚¡ãƒ™ãƒƒãƒˆé †ã«ã‚½ãƒ¼ãƒˆã•ã‚Œã¦ã„ã‚‹ã ã‘&lt;/li&gt;
&lt;li&gt;ãã‚Œãã‚Œã®ãƒœãƒƒã‚¯ã‚¹ã®å¹…ã¯ãã®é–¢æ•°ã®å‡ºç¾é »åº¦ã‚’ç¤ºã™ï¼ˆé•·ã„ã»ã©Stack traceä¸­ã«å¤šãç™»å ´ã—ãŸã“ã¨æ„å‘³ã™ã‚‹ï¼‰&lt;/li&gt;
&lt;li&gt;è‰²ã«ã¯ç‰¹ã«æ„å‘³ã¯ãªã„&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ã§ã¯ã“ã®Flame Graphã‹ã‚‰ã©ã®ã‚ˆã†ãªã“ã¨ãŒã‚ã‹ã‚‹ã‹?&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Q. æœ€ã‚‚on-CPUã ã£ãŸã®ã¯ã©ã®é–¢æ•°ã‹?

&lt;ul&gt;
&lt;li&gt;A. &lt;code&gt;g()&lt;/code&gt;ï¼ˆã‚°ãƒ©ãƒ•ã®ä¸€ç•ªä¸Šã‚’è¦‹ã‚Œã°è‰¯ã„ï¼‰&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;Q. ãªãœ&lt;code&gt;g()&lt;/code&gt;ã¯on-CPUãªã®ã‹?

&lt;ul&gt;
&lt;li&gt;A. &lt;code&gt;a()&lt;/code&gt; -&amp;gt; &lt;code&gt;b()&lt;/code&gt; -&amp;gt; &lt;code&gt;c()&lt;/code&gt; -&amp;gt; &lt;code&gt;e()&lt;/code&gt; -&amp;gt; &lt;code&gt;f()&lt;/code&gt; -&amp;gt; &lt;code&gt;g()&lt;/code&gt;ï¼ˆyè»¸ã‚’è¦‹ã‚‹ï¼‰&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;Q. &lt;code&gt;b()&lt;/code&gt;ã¨&lt;code&gt;h()&lt;/code&gt;ã‚’æ¯”ã¹ã‚‹ã¨?

&lt;ul&gt;
&lt;li&gt;A. &lt;code&gt;b()&lt;/code&gt;ã¯&lt;code&gt;h()&lt;/code&gt;ã‚ˆã‚Šå¤šãç™»å ´ã—ãŸï¼ˆãŠã‚ˆã5å€ï¼‰ï¼ˆãƒœãƒƒã‚¯ã‚¹ã®å¹…ã‚’æ¯”è¼ƒã™ã‚‹ï¼‰&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;Q. ãªãœ&lt;code&gt;g()&lt;/code&gt;ã‚’å®Ÿè¡Œã—ã¦ã„ã‚‹ã®ã‹

&lt;ul&gt;
&lt;li&gt;A. &lt;code&gt;a()&lt;/code&gt;ãŒ&lt;code&gt;b()&lt;/code&gt;ã‚’é¸æŠã—ï¼Œ&lt;code&gt;d()&lt;/code&gt;ãŒ&lt;code&gt;f()&lt;/code&gt;ã‚’é¸æŠã—ãŸãŸã‚&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;goã§flame-graphã‚’æã&#34;&gt;Goã§Flame Graphã‚’æã&lt;/h2&gt;

&lt;p&gt;Goã§Flame Graphã‚’æãã«ã¯Uberã®&lt;a href=&#34;https://github.com/uber/go-torch&#34;&gt;go-torch&lt;/a&gt;ã‚’ä½¿ãˆã°è‰¯ã„ï¼Gopherfest Sprint 2016ã®&lt;a href=&#34;https://github.com/prashantv&#34;&gt;Parashant&lt;/a&gt;æ°ã®ç™ºè¡¨&lt;a href=&#34;https://www.youtube.com/watch?v=N3PWzBeLX2M&#34;&gt;&amp;ldquo;Profiling and Optimizing Go&amp;rdquo;&lt;/a&gt;ã§ã“ã®&lt;code&gt;go-torch&lt;/code&gt;ã‚’ä½¿ã£ã¦ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’ãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°ã™ã‚‹æ§˜å­ãŒè¦³ã‚Œã‚‹ï¼ãƒ©ã‚¤ãƒ–ãƒ‡ãƒ¢ãŒè¯éº—ã™ãã¦æ„Ÿå‹•ã™ã‚‹ã®ã§ä»Šã™ãè¦³ã‚‹ã¨è‰¯ã„ï¼&lt;/p&gt;

&lt;h3 id=&#34;goã®ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒªãƒ³ã‚°ã®åŸºç¤&#34;&gt;Goã®ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒªãƒ³ã‚°ã®åŸºç¤&lt;/h3&gt;

&lt;p&gt;Goã«ã¯ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒªãƒ³ã‚°ã®ãŸã‚ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒæ¨™æº–ã§æº–å‚™ã•ã‚Œã¦ã„ã‚‹ï¼Webã‚µãƒ¼ãƒãƒ¼ã§ã‚ã‚Œã°&lt;code&gt;net/http/pprof&lt;/code&gt;ï¼Œé€šå¸¸ã®ãƒ„ãƒ¼ãƒ«ã§ã‚ã‚Œã°&lt;code&gt;runtime/pprof&lt;/code&gt;ã‚’ä½¿ã†ï¼&lt;code&gt;runtime/pprof&lt;/code&gt;ã«ã¤ã„ã¦ã¯Russ Cossæ°ã®&lt;a href=&#34;http://blog.golang.org/profiling-go-programs&#34;&gt;&amp;ldquo;Profiling Go Programs&amp;rdquo;&lt;/a&gt;ã‚’èª­ã‚€ã¨è‰¯ã„ï¼ã“ã“ã§ã¯&lt;code&gt;net/http/pprof&lt;/code&gt;ã‚’ä½¿ã£ã¦è§£èª¬ã‚’ã™ã‚‹ï¼&lt;/p&gt;

&lt;p&gt;&lt;code&gt;net/http/pprof&lt;/code&gt;ã‚’ä½¿ã£ã¦ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒªãƒ³ã‚°ã‚’æœ‰åŠ¹ã«ã™ã‚‹ã®ã¯éå¸¸ã«ç°¡å˜ã§ã‚ã‚‹ï¼ä»¥ä¸‹ã‚’ã‚³ãƒ¼ãƒ‰ã«è¿½åŠ ã™ã‚Œã°ã‚ˆã„ï¼&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-golang&#34;&gt;import _ net/http/pprof 
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ã“ã‚Œã ã‘ã§&lt;code&gt;/debug/pprof&lt;/code&gt;ã¨ã„ã†ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆãŒæ–°ãŸã«è¿½åŠ ã•ã‚Œã‚‹ï¼ã“ã“ã§ã¯ç¾åœ¨å‹•ã„ã¦ã„ã‚‹goroutineã®Stackã‚„Heapã®çŠ¶æ…‹ï¼ŒGCã®å®Ÿè¡ŒçŠ¶æ³ãªã©ã‚’ç¢ºèªã™ã‚‹ã“ã¨ãŒã§ãã‚‹ï¼&lt;/p&gt;

&lt;p&gt;ã“ã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’&lt;code&gt;go tool pprof&lt;/code&gt;ã§è§£æã™ã‚‹ã«ã¯ä»¥ä¸‹ã®ã‚ˆã†ã‚ã‚³ãƒãƒ³ãƒ‰ã‚’å©ã‘ã°è‰¯ã„ï¼ˆ&lt;code&gt;go-wrk&lt;/code&gt;ãªã©ã§ã‚ã‚‹ç¨‹åº¦ãƒ­ãƒ¼ãƒ‰ã‚’ä¸ãˆã¦ãŠãã¨è‰¯ã„ï¼‰ï¼&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;$ go tool pprof -seconds 5 http://localhost:9090/debug/pprof/profile
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ã™ã‚‹ã¨ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªãƒ¢ãƒ¼ãƒ‰ãŒå§‹ã¾ã‚Šï¼Œä»¥ä¸‹ã®ã‚ˆã†ãªå°‚ç”¨ã®ã‚³ãƒãƒ³ãƒ‰ã§ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒªãƒ³ã‚°çµæœã‚’ç¢ºèªã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ï¼&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;$ (pprof) top10
3400ms of 3770ms total (90.19%)
Dropped 60 nodes (cum &amp;lt;= 18.85ms)
Showing top 10 nodes out of 98 (cum &amp;gt;= 30ms)
flat  flat%   sum%        cum   cum%
1680ms 44.56% 44.56%     1680ms 44.56%  syscall.Syscall
1030ms 27.32% 71.88%     1040ms 27.59%  syscall.Syscall6
190ms  5.04% 76.92%      190ms  5.04%  runtime.kevent
140ms  3.71% 80.64%      140ms  3.71%  runtime.indexbytebody
120ms  3.18% 83.82%      120ms  3.18%  runtime.usleep
70ms  1.86% 85.68%       70ms  1.86%  runtime.mach_semaphore_signal
70ms  1.86% 87.53%       70ms  1.86%  runtime.mach_semaphore_wait
50ms  1.33% 88.86%       50ms  1.33%  runtime.memclr
30ms   0.8% 89.66%       30ms   0.8%  net/http.(*ServeMux).match
20ms  0.53% 90.19%       30ms   0.8%  fmt.(*pp).doPrintf
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ãƒ†ã‚­ã‚¹ãƒˆã ã‘ã§ã¯ãªãï¼Œä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã§ã‚°ãƒ©ãƒ•ï¼ˆ&lt;code&gt;svg&lt;/code&gt;å½¢å¼ï¼‰ã§ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒªãƒ³ã‚°çµæœã‚’è¡¨ç¤ºã™ã‚‹ã“ã¨ã‚‚ã§ãã‚‹ï¼&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;(pprof) web
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;img src=&#34;http://deeeet.com/images/pprof.png&#34; class=&#34;image&#34;&gt;&lt;/p&gt;

&lt;p&gt;ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ãŒå°ã•ã‘ã‚Œã°ã“ã‚Œã ã‘ã§ã‚‚ååˆ†å¼·åŠ›ã ãŒï¼Œã‚³ãƒ¼ãƒ‰ãŒå¢—ãˆã‚‹ã»ã©ã‚°ãƒ©ãƒ•ã¯è¤‡é›‘ã«ãªã‚Šçµæœã‚’ç›´æ„Ÿçš„ã«ç†è§£ã™ã‚‹ã®ãŒé›£ã—ããªã‚‹ï¼&lt;/p&gt;

&lt;h3 id=&#34;go-torchã‚’ä½¿ã†&#34;&gt;go-torchã‚’ä½¿ã†&lt;/h3&gt;

&lt;p&gt;&lt;code&gt;go-torch&lt;/code&gt;ã‚’ä½¿ã†ã«ã¯&lt;code&gt;net/http/pprof&lt;/code&gt;ã«ã‚ˆã‚‹ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’æœ‰åŠ¹ã«ã—ã¦ãŠãã ã‘ã§è‰¯ã„ï¼ãã—ã¦&lt;code&gt;go tool pprof&lt;/code&gt;ã‚’ä½¿ã†ã®ã¨åŒã˜ã‚ˆã†ã«ä»¥ä¸‹ã®ã‚ˆã†ãªã‚³ãƒãƒ³ãƒ‰ã‚’å©ãã ã‘ã§&lt;code&gt;.svg&lt;/code&gt;å½¢å¼ã®Flame GraphãŒå‡ºåŠ›ã•ã‚Œã‚‹ï¼ˆ&lt;code&gt;go-torch&lt;/code&gt;ã«åŠ ãˆã¦Brendan Greggæ°ã®Perlã‚¹ã‚¯ãƒªãƒ—ãƒˆ&lt;a href=&#34;https://github.com/brendangregg/FlameGraph&#34;&gt;brendangregg/FlameGraph&lt;/a&gt;ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦&lt;code&gt;PATH&lt;/code&gt;ã‚’é€šã—ã¦ãŠãå¿…è¦ãŒã‚ã‚‹ï¼‰ï¼&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;$ go-torch --time 5 --url http://localhost:9090/debug/pprof/profile
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;çµæœã¯ä»¥ä¸‹ï¼&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://deeeet.com/images/torch.svg&#34; class=&#34;image&#34;&gt;&lt;/p&gt;

&lt;p&gt;ï¼ˆä¾‹ãˆã°ä¸Šã¯å˜ç´”ãªWebã‚µãƒ¼ãƒãƒ¼ã®å ´åˆã§ã‚ã‚‹ï¼&lt;code&gt;logRequest&lt;/code&gt;ã¨ã„ã†é–¢æ•°ã®&lt;code&gt;os.Hostname()&lt;/code&gt;ãŒæ€ªã—ã„ã®ãŒã™ãã‚ã‹ã‚‹ï¼‰&lt;/p&gt;

&lt;h2 id=&#34;ã¾ã¨ã‚&#34;&gt;ã¾ã¨ã‚&lt;/h2&gt;

&lt;p&gt;ã‚°ãƒ©ãƒ•ã®ç”Ÿæˆã¯ã¨ã¦ã‚‚ç°¡å˜ãªã®ã§èª­ã¿æ–¹ã•ãˆã‚ã‹ã‚Œã°Flame Graphã¯ã¨ã¦ã‚‚å¼·åŠ›ã§ã‚ã‚‹ï¼Flame Graphã§å•é¡Œã®åŸå› ã®å¤§ã¾ã‹ãªã‚ãŸã‚Šã‚’ä»˜ã‘&lt;code&gt;go tool pprof&lt;/code&gt;ã§è©³ç´°ãªè§£æã‚’ã™ã‚‹ã¨ã„ã†æµã‚ŒãŒè‰¯ã„ã¨æ€ã†ï¼&lt;/p&gt;

&lt;p&gt;Flame Graphã¯Javaã‚„Nodeï¼ŒRubyã¨ã„ã£ãŸVMè¨€èªã§ã‚‚ä½¿ã†ã“ã¨ãŒã§ãã‚‹ï¼ã¾ãŸCPUã ã‘ã§ã¯ãªãã¦Memoryã‚„IOã®ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã«ã‚‚åˆ©ç”¨ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ï¼æ°—ã«ãªã‚‹äººã¯ã„ã‚ã„ã‚æ¼ã£ã¦ã¿ã‚‹ã¨è‰¯ã•ãã†ï¼&lt;/p&gt;

&lt;h2 id=&#34;å‚è€ƒæ–‡çŒ®&#34;&gt;å‚è€ƒæ–‡çŒ®&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.amazon.co.jp/Systems-Performance-Enterprise-Brendan-Gregg-ebook/dp/B00FLYU9T2&#34;&gt;&amp;ldquo;Systems Performance: Enterprise and the Cloud&amp;rdquo;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://queue.acm.org/detail.cfm?id=2927301&#34;&gt;The Flame Graph - ACM Queue&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.slideshare.net/brendangregg/blazing-performance-with-flame-graphs&#34;&gt;Blazing Performance with Flame Graphs&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
  </channel>
</rss>